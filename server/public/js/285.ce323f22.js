"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[285],{2772:function(e,a,r){r.d(a,{A:function(){return c}});var t=r(641);const o=["value"];function l(e,a,r,l,n,s){return(0,t.uX)(),(0,t.CE)("input",{type:"date",value:r.value,onInput:a[0]||(a[0]=(...e)=>s.onInput&&s.onInput(...e)),onBlur:a[1]||(a[1]=(...e)=>s.onBlur&&s.onBlur(...e)),class:"ag-input"},null,40,o)}var n={props:["value"],data(){return{internalValue:this.value}},methods:{onInput(e){this.internalValue=e.target.value},onBlur(){this.params.stopEditing()},getValue(){return this.internalValue}},mounted(){this.internalValue=this.params.value}},s=r(6262);const d=(0,s.A)(n,[["render",l]]);var c=d},5643:function(e,a,r){r.d(a,{A:function(){return i}});var t=r(641),o=r(33);const l={style:{"margin-top":"10px"}};function n(e,a,r,n,s,d){const c=(0,t.g2)("CProgressBar"),u=(0,t.g2)("CProgress");return(0,t.uX)(),(0,t.CE)("div",l,[(0,t.bF)(u,{color:d.barColor,variant:"striped",animated:"",value:d.progress},{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(d.progress)+"%",1)])),_:1})])),_:1},8,["color","value"])])}var s=r(7443),d={name:"ProgressCell",components:{CProgress:s.fZ,CProgressBar:s.Em},props:{params:Object},computed:{progress(){return this.params&&null!=this.params.value?this.params.value:0},barColor(){const e=this.progress;return e<30?"danger":e<60?"warning":e<100?"info":"success"}}},c=r(6262);const u=(0,c.A)(d,[["render",n],["__scopeId","data-v-384db79f"]]);var i=u},8285:function(e,a,r){r.r(a),r.d(a,{default:function(){return R}});var t=r(5063),o=r(5122),l=r(3889),n=r(6704),s=r(109),d=r(8235),c=r(641),u=r(3751);const i={class:"card border-0",style:{height:"calc(100vh - 8rem)"}},m={class:"mb-3"},_={class:"mb-5 row"},p={class:"col-4"},f={class:"col-4"},y={class:"col-4"},h={class:"mb-5 row"},g={class:"col-4"},k={class:"col-4"},b={class:"col-4"},w={class:"mb-2 row"},v={class:"col-6"},D={class:"col-6"},F={class:"d-flex justify-content-center"},V={class:"mt-2"},L={class:"ag-wrapper d-flex justify-content-center",style:{border:"none"}};function x(e,a,r,x,q,A){const P=d.A,C=s.A,K=n.A,N=l.A,z=o.A,j=t.A,S=(0,c.g2)("ag-grid-vue");return(0,c.uX)(),(0,c.CE)("div",i,[a[21]||(a[21]=(0,c.Lk)("h2",null,"공정 진행 관리",-1)),a[22]||(a[22]=(0,c.Lk)("div",{class:"heading-with-line mb-3"},[(0,c.Lk)("h5",{class:"m-0 me-3"},"생산 실적 조회")],-1)),(0,c.Lk)("div",m,[(0,c.bF)(j,{style:{overflow:"hidden","background-color":"#f8f9fa"}},{content:(0,c.k6)((()=>[(0,c.Lk)("div",_,[(0,c.Lk)("div",p,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[11]||(a[11]=[(0,c.eW)(" 계획코드 ")]))),_:1}),(0,c.bF)(C,{modelValue:q.formData.plan_code,"onUpdate:modelValue":a[0]||(a[0]=e=>q.formData.plan_code=e),size:"large",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,c.Lk)("div",f,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[12]||(a[12]=[(0,c.eW)(" 지시 코드 ")]))),_:1}),(0,c.bF)(C,{modelValue:q.formData.product_order_code,"onUpdate:modelValue":a[1]||(a[1]=e=>q.formData.product_order_code=e),size:"large",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,c.Lk)("div",y,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[13]||(a[13]=[(0,c.eW)(" 제품명 ")]))),_:1}),(0,c.bF)(C,{modelValue:q.formData.prod_name,"onUpdate:modelValue":a[2]||(a[2]=e=>q.formData.prod_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})])]),(0,c.Lk)("div",h,[(0,c.Lk)("div",g,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[14]||(a[14]=[(0,c.eW)(" 계획명 ")]))),_:1}),(0,c.bF)(C,{modelValue:q.formData.plan_name,"onUpdate:modelValue":a[3]||(a[3]=e=>q.formData.plan_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,c.Lk)("div",k,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[15]||(a[15]=[(0,c.eW)(" 지시명 ")]))),_:1}),(0,c.bF)(C,{modelValue:q.formData.product_order_name,"onUpdate:modelValue":a[4]||(a[4]=e=>q.formData.product_order_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,c.Lk)("div",b,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[16]||(a[16]=[(0,c.eW)(" 공정명 ")]))),_:1}),(0,c.bF)(C,{modelValue:q.formData.process_name,"onUpdate:modelValue":a[5]||(a[5]=e=>q.formData.process_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})])]),(0,c.Lk)("div",w,[(0,c.Lk)("div",v,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[17]||(a[17]=[(0,c.eW)(" 시작일자 ")]))),_:1}),(0,c.bF)(N,{modelValue:q.formData.work_start_date_from,"onUpdate:modelValue":a[6]||(a[6]=e=>q.formData.work_start_date_from=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"]),a[18]||(a[18]=(0,c.Lk)("div",{class:"align-content-center"},[(0,c.Lk)("div",{class:"mx-2"},"~")],-1)),(0,c.bF)(N,{modelValue:q.formData.work_start_date_to,"onUpdate:modelValue":a[7]||(a[7]=e=>q.formData.work_start_date_to=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"])])),_:1})]),(0,c.Lk)("div",D,[(0,c.bF)(K,null,{default:(0,c.k6)((()=>[(0,c.bF)(P,null,{default:(0,c.k6)((()=>a[19]||(a[19]=[(0,c.eW)(" 종료일자 ")]))),_:1}),(0,c.bF)(N,{modelValue:q.formData.work_end_date_from,"onUpdate:modelValue":a[8]||(a[8]=e=>q.formData.work_end_date_from=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"]),a[20]||(a[20]=(0,c.Lk)("div",{class:"align-content-center"},[(0,c.Lk)("div",{class:"mx-2"},"~")],-1)),(0,c.bF)(N,{modelValue:q.formData.work_end_date_to,"onUpdate:modelValue":a[9]||(a[9]=e=>q.formData.work_end_date_to=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,u.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"])])),_:1})])]),(0,c.Lk)("div",F,[(0,c.Lk)("div",V,[(0,c.bF)(z,{label:"조회",severity:"success",size:"large",class:"me-2",onClick:A.searchProcessData},null,8,["onClick"]),(0,c.bF)(z,{label:"초기화",severity:"danger",size:"large",class:"",onClick:A.clearForm},null,8,["onClick"])])])])),_:1})]),(0,c.Lk)("div",L,[(0,c.bF)(S,{ref:"mainGrid",class:"ag-theme-alpine custom-grid-theme",style:{width:"100%",border:"none"},columnDefs:A.columnDefs,rowData:q.processList,gridOptions:q.gridOptions,onCellClicked:a[10]||(a[10]=()=>{})},null,8,["columnDefs","rowData","gridOptions"])])])}r(4114);var q=r(4335),A=r(7654),P=r(2772),C=r(8465),K=r.n(C),N=r(5643),z={components:{AgGridVue:A.b,DatePicker:P.A,ProgressCell:N.A},data(){return{formData:{plan_code:"",product_order_code:"",prod_name:"",product_order_name:"",plan_name:"",process_name:"",work_start_date_from:"",work_start_date_to:"",work_end_date_from:"",work_end_date_to:""},processList:[],gridOptions:{domLayout:"autoHeight",pagination:!0,paginationPageSize:5,paginationPageSizeSelector:!1,defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1}}}},watch(){},mounted(){this.getProcessData()},computed:{columnDefs(){return[{field:"product_order_code",headerName:"지시코드",flex:2,cellStyle:{textAlign:"center"}},{field:"product_order_name",headerName:"지시명",flex:3,cellStyle:{textAlign:"center"}},{field:"process_name",headerName:"공정명",flex:3,cellStyle:{textAlign:"center"}},{field:"process_start_date",headerName:"공정 시작 일자",flex:4,cellStyle:{textAlign:"center"}},{field:"process_end_date",headerName:"공정 종료 일자",flex:4,cellStyle:{textAlign:"center"}},{field:"prod_name",headerName:"제품명",flex:4,cellStyle:{textAlign:"center"}},{field:"order_quantity",headerName:"지시량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"input_quantity",headerName:"투입량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"error_quantity",headerName:"불량량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"created_quantity",headerName:"생산량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"process_progress",headerName:"공정 진행도",flex:3,cellRenderer:"ProgressCell"}]}},methods:{clearForm(){this.formData={}},async getProcessData(){await q.A.get("/api/work/process/data").then((e=>{const a=e.data;for(let r of a){let e=Number(r.order_quantity)>0?Number((Number(r.error_quantity)+Number(r.created_quantity))/Number(r.order_quantity)*100):0;this.processList.push({product_order_code:r.product_order_code,product_order_name:r.product_order_name,process_name:r.process_name,process_start_date:r.process_start_date,process_end_date:r.process_end_date,prod_name:r.prod_name,order_quantity:r.order_quantity,input_quantity:r.input_quantity,error_quantity:r.error_quantity,created_quantity:r.created_quantity,process_progress:e})}this.processList=[...this.processList]})).catch((e=>{console.error(e),K().fire({title:"실패",text:"실적을 조회하던 중 오류가 발생했습니다.",icon:"error",confirmButtonText:"확인"})}))},async searchProcessData(){await q.A.get("/api/work/process/data",{params:{searchKeywords:this.formData}}).then((e=>{const a=e.data;this.processList=[];for(let r of a){let e=Number(r.order_quantity)>0?Number((Number(r.error_quantity)+Number(r.created_quantity))/Number(r.order_quantity)*100):0;this.processList.push({product_order_code:r.product_order_code,product_order_name:r.product_order_name,process_name:r.process_name,process_start_date:r.process_start_date,process_end_date:r.process_end_date,prod_name:r.prod_name,order_quantity:r.order_quantity,input_quantity:r.input_quantity,error_quantity:r.error_quantity,created_quantity:r.created_quantity,process_progress:e})}this.processList=[...this.processList]})).catch((e=>{console.error(e),K().fire({title:"실패",text:"실적을 조회하던 중 오류가 발생했습니다.",icon:"error",confirmButtonText:"확인"})}))}}},j=r(6262);const S=(0,j.A)(z,[["render",x]]);var R=S}}]);
//# sourceMappingURL=285.ce323f22.js.map