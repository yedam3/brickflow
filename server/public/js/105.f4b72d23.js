"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[105],{7105:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var o=a(5122),l=a(641),i=a(3751),n=a(33);const d={class:"card border-0 h-100"},s={class:"text-end mt-3 mb-3",style:{"padding-right":"4%"}},r={class:"row"},c={class:"emp-grid col"},p={class:"card border-0 col",style:{width:"700px",height:"500px","background-color":"#F5F5F5"}},m={class:"row"},u={class:"input-group mb-5 col"},f={class:"input-group mb-5 col"},h={class:"row"},b={class:"input-group mb-5 col"},k=["value"],v={class:"input-group mb-5 col"},x={class:"row"},g={class:"input-group mb-5 col"},y={class:"input-group mb-5 col"};function L(e,t,a,L,_,w){const C=o.A,D=(0,l.g2)("ag-grid-vue");return(0,l.uX)(),(0,l.CE)("div",d,[t[15]||(t[15]=(0,l.Lk)("div",{class:"font-semibold text-xl mb-4"},"사원 관리",-1)),(0,l.Lk)("div",s,[(0,l.bF)(C,{label:"초기화",severity:"success",class:"me-3",onClick:w.empReset},null,8,["onClick"]),(0,l.bF)(C,{label:"등록",severity:"info",class:"me-3",onClick:w.empSave},null,8,["onClick"]),(0,l.bF)(C,{label:"수정",severity:"help",class:"me-3",onClick:w.empModify},null,8,["onClick"]),(0,l.bF)(C,{label:"삭제",severity:"danger",class:"me-3",onClick:e.empDelete},null,8,["onClick"])]),(0,l.Lk)("div",r,[(0,l.Lk)("div",c,[t[6]||(t[6]=(0,l.Lk)("h5",null,"사원목록",-1)),(0,l.bF)(D,{style:{width:"700px",height:"500px"},class:"ag-theme-alpine",columnDefs:_.columnDefs,rowData:_.rowData,gridOptions:_.gridOptions,defaultColDef:e.defaultColDef,onCellClicked:w.empCellClicked},null,8,["columnDefs","rowData","gridOptions","defaultColDef","onCellClicked"])]),(0,l.Lk)("div",p,[t[14]||(t[14]=(0,l.Lk)("h5",null,"사원상세",-1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",u,[t[7]||(t[7]=(0,l.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"사원번호",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"사원번호","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[0]||(t[0]=e=>_.info.emp_code=e),readonly:""},null,512),[[i.Jo,_.info.emp_code]])]),(0,l.Lk)("div",f,[t[8]||(t[8]=(0,l.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"이름",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"이름","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[1]||(t[1]=e=>_.info.emp_name=e)},null,512),[[i.Jo,_.info.emp_name]])])]),(0,l.Lk)("div",h,[(0,l.Lk)("div",b,[t[10]||(t[10]=(0,l.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"부서",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select col","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=e=>_.info.department=e)},[t[9]||(t[9]=(0,l.Lk)("option",{disabled:"",selected:"",value:""},"부서",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(_.departmentListAry,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.sub_code,value:e.sub_code},(0,n.v_)(e.sub_code_name),9,k)))),128))],512),[[i.u1,_.info.department]])]),(0,l.Lk)("div",v,[t[11]||(t[11]=(0,l.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"입사일",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control",placeholder:"입사일","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[3]||(t[3]=e=>_.info.hire_date=e)},null,512),[[i.Jo,_.info.hire_date]])])]),(0,l.Lk)("div",x,[(0,l.Lk)("div",g,[t[12]||(t[12]=(0,l.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"전화번호",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"전화번호","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[4]||(t[4]=e=>_.info.tel=e)},null,512),[[i.Jo,_.info.tel]])]),(0,l.Lk)("div",y,[t[13]||(t[13]=(0,l.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"비밀번호",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control",placeholder:"비밀번호","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[5]||(t[5]=e=>_.info.pwd=e)},null,512),[[i.Jo,_.info.pwd]])])])])])])}var _=a(7654),w=a(4335),C=a(8465),D=a.n(C),U={components:{AgGridVue:_.b,Swal:D()},data(){return{rowData:[{emp_code:"",department:"",hire_date:"",tel:"",pwd:""}],columnDefs:[{field:"emp_code",headerName:"사원번호",flex:1},{field:"emp_name",headerName:"이름",flex:1},{field:"department",headerName:"부서",flex:1,valueFormatter:e=>"DP1"==e.value?e.value="관리자":"DP2"==e.value?e.value="영업":"DP3"==e.value?e.value="생산":"DP4"==e.value?e.value="품질":"DP5"==e.value?e.value="자재":"DP6"==e.value?e.value="설비":void 0},{field:"hire_date",headerName:"입사일",flex:1},{field:"tel",headerName:"전화번호",flex:1}],gridOptions:{pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[5,10,20,50],overlayNoRowsTemplate:"표시할 값이 없습니다.",defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1,onGridReady:function(e){e.api.sizeColumnsToFit()}}},selectedSecondIndex:null,prodIndex:null,info:{emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""},departmentListAry:[],selectedSecondIndex:null,prodIndex:null}},async mounted(){await this.EmployeesData(),await this.departmentList()},methods:{async EmployeesData(){try{const e=await w.A.get("/api/admin/employees");this.rowData=e.data}catch(e){console.error("데이터 조회 실패:",e)}},empCellClicked(e){let t=e.data.emp_code;this.prodIndex=e.rowIndex,w.A.get("/api/admin/employees/"+t).then((e=>{console.log(e),this.info=e.data[0]})).catch((e=>{console.error(e)})),console.log(e)},async departmentList(){await w.A.get("/api/admin/departmentList").then((e=>{console.log(e.data),this.departmentListAry=e.data}))},checkValue(){return""==this.info.emp_name||""==this.info.department||""==this.info.hire_date||""==this.info.tel?(D().fire({title:"실패",text:"값을 다 입력해주세요",icon:"error",confirmButtonText:"확인"}),1):0},async empSave(){let e=this.checkValue();if(1==e)return;await w.A.post("/api/admin/empSave",this.info).then((e=>{e.data.affectedRows>0?D().fire({title:"등록 성공",text:"정상적으로 등록이 완료되었습니다.",icon:"success",confirmButtonText:"확인"}):D().fire({title:"등록 실패",text:"등록이 실패하였습니다..",icon:"error",confirmButtonText:"확인"})})).catch((e=>{console.error(e),D().fire({title:"등록 실패",text:"알수 없는 오류가 발생하였습니다..",icon:"error",confirmButtonText:"확인"})}));await this.EmployeesData(),this.info={emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}},async empModify(){let e=this.checkValue();1!=e&&(""!=this.info.emp_code?(await w.A.put("/api/admin/empUpdate",this.info).then((e=>{e.data.affectedRows>0?(D().fire({title:"수정 완료",text:"수정이 완료되었습니다.",icon:"success",confirmButtonText:"확인"}),this.EmployeesData(),this.info={emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}):D().fire({title:"수정 실패",text:"수정을 실패하였습니다.",icon:"error",confirmButtonText:"확인"})})).catch((e=>{console.error(e),D().fire({title:"수정 실패",text:"알수 없는 에러.",icon:"error",confirmButtonText:"확인"})})),this.info={emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}):D().fire({title:"수정 불가",text:"사원번호가 필요합니다.",icon:"error",confirmButtonText:"확인"}))},empReset(){this.info=[]}}},A=a(6262);const F=(0,A.A)(U,[["render",L],["__scopeId","data-v-6ab952a3"]]);var T=F}}]);
//# sourceMappingURL=105.f4b72d23.js.map