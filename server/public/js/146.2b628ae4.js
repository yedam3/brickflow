"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[146],{8146:function(e,t,a){a.r(t),a.d(t,{default:function(){return F}});var o=a(5122),i=a(641),l=a(3751),n=a(33);const r={class:"card border-0 h-100"},d={class:"text-end mt-3 mb-3",style:{"padding-right":"4%"}},s={class:"row"},c={class:"emp-grid col"},p={class:"card border-0 col",style:{width:"700px",height:"500px","background-color":"#F5F5F5"}},m={class:"row"},u={class:"input-group mb-5 col"},f={class:"input-group mb-5 col"},h={class:"row"},b={class:"input-group mb-5 col"},x=["value"],k={class:"input-group mb-5 col"},v={class:"row"},_={class:"input-group mb-5 col"},g={class:"input-group mb-5 col"};function y(e,t,a,y,w,L){const D=o.A,C=(0,i.g2)("ag-grid-vue");return(0,i.uX)(),(0,i.CE)("div",r,[t[15]||(t[15]=(0,i.Lk)("div",{class:"font-semibold text-xl mb-4"},"사원 관리",-1)),(0,i.Lk)("div",d,[(0,i.bF)(D,{label:"초기화",severity:"success",class:"me-3",onClick:L.empReset},null,8,["onClick"]),(0,i.bF)(D,{label:"등록",severity:"info",class:"me-3",onClick:L.empSave},null,8,["onClick"]),(0,i.bF)(D,{label:"수정",severity:"help",class:"me-3",onClick:L.empModify},null,8,["onClick"]),(0,i.bF)(D,{label:"삭제",severity:"danger",class:"me-3",onClick:L.empDelete},null,8,["onClick"])]),(0,i.Lk)("div",s,[(0,i.Lk)("div",c,[t[6]||(t[6]=(0,i.Lk)("h5",null,"사원목록",-1)),(0,i.bF)(C,{style:{width:"700px",height:"500px"},class:"ag-theme-alpine",columnDefs:w.columnDefs,rowData:w.rowData,gridOptions:w.gridOptions,defaultColDef:e.defaultColDef,onCellClicked:L.empCellClicked},null,8,["columnDefs","rowData","gridOptions","defaultColDef","onCellClicked"])]),(0,i.Lk)("div",p,[t[14]||(t[14]=(0,i.Lk)("h5",null,"사원상세",-1)),(0,i.Lk)("div",m,[(0,i.Lk)("div",u,[t[7]||(t[7]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"사원번호",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control",placeholder:"사원번호","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[0]||(t[0]=e=>w.info.emp_code=e),readonly:""},null,512),[[l.Jo,w.info.emp_code]])]),(0,i.Lk)("div",f,[t[8]||(t[8]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"이름",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control",placeholder:"이름","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[1]||(t[1]=e=>w.info.emp_name=e)},null,512),[[l.Jo,w.info.emp_name]])])]),(0,i.Lk)("div",h,[(0,i.Lk)("div",b,[t[10]||(t[10]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"부서",-1)),(0,i.bo)((0,i.Lk)("select",{class:"form-select col","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=e=>w.info.department=e)},[t[9]||(t[9]=(0,i.Lk)("option",{disabled:"",selected:"",value:""},"부서",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(w.departmentListAry,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e.sub_code,value:e.sub_code},(0,n.v_)(e.sub_code_name),9,x)))),128))],512),[[l.u1,w.info.department]])]),(0,i.Lk)("div",k,[t[11]||(t[11]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"입사일",-1)),(0,i.bo)((0,i.Lk)("input",{type:"date",class:"form-control",placeholder:"입사일","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[3]||(t[3]=e=>w.info.hire_date=e)},null,512),[[l.Jo,w.info.hire_date]])])]),(0,i.Lk)("div",v,[(0,i.Lk)("div",_,[t[12]||(t[12]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"전화번호",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control",placeholder:"전화번호","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[4]||(t[4]=e=>w.info.tel=e)},null,512),[[l.Jo,w.info.tel]])]),(0,i.Lk)("div",g,[t[13]||(t[13]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon1"},"비밀번호",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",class:"form-control",placeholder:"비밀번호","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":t[5]||(t[5]=e=>w.info.pwd=e)},null,512),[[l.Jo,w.info.pwd]])])])])])])}var w=a(7654),L=a(4335),D=a(8465),C=a.n(D),T={components:{AgGridVue:w.b,Swal:C()},data(){return{rowData:[{emp_code:"",department:"",hire_date:"",tel:"",pwd:""}],columnDefs:[{field:"emp_code",headerName:"사원번호",flex:1},{field:"emp_name",headerName:"이름",flex:1},{field:"department",headerName:"부서",flex:1,valueFormatter:e=>"DP1"==e.value?e.value="관리자":"DP2"==e.value?e.value="영업":"DP3"==e.value?e.value="생산":"DP4"==e.value?e.value="품질":"DP5"==e.value?e.value="자재":"DP6"==e.value?e.value="설비":void 0},{field:"hire_date",headerName:"입사일",flex:1},{field:"tel",headerName:"전화번호",flex:1}],gridOptions:{pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[5,10,20,50],overlayNoRowsTemplate:"표시할 값이 없습니다.",defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1,onGridReady:function(e){e.api.sizeColumnsToFit()}}},selectedSecondIndex:null,prodIndex:null,info:{emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""},departmentListAry:[],selectedSecondIndex:null,prodIndex:null}},async mounted(){await this.EmployeesData(),await this.departmentList()},methods:{async EmployeesData(){try{const e=await L.A.get("/api/admin/employees");this.rowData=e.data}catch(e){console.error("데이터 조회 실패:",e)}},empCellClicked(e){let t=e.data.emp_code;this.prodIndex=e.rowIndex,L.A.get("/api/admin/employees/"+t).then((e=>{console.log(e),this.info=e.data[0]})).catch((e=>{console.error(e)})),console.log(e)},async departmentList(){await L.A.get("/api/admin/departmentList").then((e=>{console.log(e.data),this.departmentListAry=e.data}))},checkValue(){""!=this.info.emp_name&&""!=this.info.department&&""!=this.info.hire_date&&""!=this.info.tel||C().fire({title:"실패",text:"값을 다 입력해주세요",icon:"error",confirmButtonText:"확인"})},async empSave(){console.log(this.info);let e=this.checkValue();if(1==e)return;if(""!=this.info.emp_code)return void C().fire({title:"등록 불가",text:"이미 사원번호가 등록된 건입니다.",icon:"error",confirmButtonText:"확인"});console.log(this.rowData[this.prodIndex]);await L.A.post("/api/admin/empSave",this.info).then((e=>{e.data.affectedRows>0?C().fire({title:"등록 성공",text:"정상적으로 등록이 완료되었습니다.",icon:"success",confirmButtonText:"확인"}):C().fire({title:"등록 실패",text:"등록이 실패하였습니다..",icon:"error",confirmButtonText:"확인"})})).catch((e=>{console.error(e),C().fire({title:"등록 실패",text:"알수 없는 오류가 발생하였습니다..",icon:"error",confirmButtonText:"확인"})}));await this.EmployeesData(),this.info={emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}},async empModify(){let e=this.checkValue();1!=e&&(""!=this.info.emp_code?(await L.A.put("/api/admin/empModify",this.info).then((e=>{e.data.affectedRows>0?(C().fire({title:"수정 완료",text:"수정이 완료되었습니다.",icon:"success",confirmButtonText:"확인"}),this.EmployeesData(),this.info={emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}):C().fire({title:"수정 실패",text:"수정을 실패하였습니다.",icon:"error",confirmButtonText:"확인"})})).catch((e=>{console.error(e),C().fire({title:"수정 실패",text:"알수 없는 에러.",icon:"error",confirmButtonText:"확인"})})),this.info=[{emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}]):C().fire({title:"수정 불가",text:"사원번호가 필요합니다.",icon:"error",confirmButtonText:"확인"}))},async empDelete(){""!=this.info.emp_code?(await L.A.delete("/api/admin/empDelete/"+this.info.emp_code).then((e=>{e.data.affectedRows>0?(C().fire({title:"삭제 성공",text:"정상적으로 삭제되었습니다.",icon:"success",confirmButtonText:"확인"}),this.EmployeesData(),this.info={emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}):C().fire({title:"삭제 실패",text:"삭제를 실패하였습니다.",icon:"error",confirmButtonText:"확인"})})).catch((e=>{console.error(e),C().fire({title:"삭제 실패",text:"알수 없는 에러.",icon:"error",confirmButtonText:"확인"})})),this.info=[{emp_code:"",emp_name:"",department:"",hire_date:"",tel:"",pwd:""}]):C().fire({title:"삭제 실패",text:"사원번호가 필요합니다.",icon:"error",confirmButtonText:"확인"})},empReset(){this.info=[]}}},B=a(6262);const A=(0,B.A)(T,[["render",y],["__scopeId","data-v-d6d6b138"]]);var F=A}}]);
//# sourceMappingURL=146.2b628ae4.js.map