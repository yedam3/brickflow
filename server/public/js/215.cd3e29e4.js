"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[215],{2772:function(e,a,r){r.d(a,{A:function(){return c}});var t=r(641);const o=["value"];function l(e,a,r,l,n,s){return(0,t.uX)(),(0,t.CE)("input",{type:"date",value:r.value,onInput:a[0]||(a[0]=(...e)=>s.onInput&&s.onInput(...e)),onBlur:a[1]||(a[1]=(...e)=>s.onBlur&&s.onBlur(...e)),class:"ag-input"},null,40,o)}var n={props:["value"],data(){return{internalValue:this.value}},methods:{onInput(e){this.internalValue=e.target.value},onBlur(){this.params.stopEditing()},getValue(){return this.internalValue}},mounted(){this.internalValue=this.params.value}},s=r(6262);const d=(0,s.A)(n,[["render",l]]);var c=d},3215:function(e,a,r){r.r(a),r.d(a,{default:function(){return R}});var t=r(5122),o=r(3889),l=r(6704),n=r(109),s=r(8235),d=r(641),c=r(3751);const u={class:"card border-0",style:{height:"calc(50vh - 5rem)"}},i={class:"mb-3"},m={class:"mb-5 row"},_={class:"col-4"},p={class:"col-4"},f={class:"col-4"},h={class:"mb-5 row"},y={class:"col-4"},g={class:"col-4"},k={class:"col-4"},b={class:"mb-2 row"},w={class:"col-6"},v={class:"col-6"},D={class:"d-flex justify-content-center"},F={class:"mt-2"},L={class:"card border-0",style:{height:"calc(50vh - 5rem)"}},V={class:"ag-wrapper d-flex justify-content-center",style:{border:"none"}};function x(e,a,r,x,q,A){const P=s.A,K=n.A,C=l.A,N=o.A,z=t.A,j=(0,d.g2)("ag-grid-vue");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",u,[a[21]||(a[21]=(0,d.Lk)("h3",null,"공정 관리",-1)),a[22]||(a[22]=(0,d.Lk)("div",{class:"heading-with-line mb-3"},[(0,d.Lk)("h5",{class:"m-0 me-3"},"생산 실적 조회")],-1)),(0,d.Lk)("div",i,[(0,d.Lk)("div",m,[(0,d.Lk)("div",_,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[11]||(a[11]=[(0,d.eW)(" 계획코드 ")]))),_:1}),(0,d.bF)(K,{modelValue:q.formData.plan_code,"onUpdate:modelValue":a[0]||(a[0]=e=>q.formData.plan_code=e),size:"large",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,d.Lk)("div",p,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[12]||(a[12]=[(0,d.eW)(" 지시 코드 ")]))),_:1}),(0,d.bF)(K,{modelValue:q.formData.product_order_code,"onUpdate:modelValue":a[1]||(a[1]=e=>q.formData.product_order_code=e),size:"large",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,d.Lk)("div",f,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[13]||(a[13]=[(0,d.eW)(" 제품명 ")]))),_:1}),(0,d.bF)(K,{modelValue:q.formData.prod_name,"onUpdate:modelValue":a[2]||(a[2]=e=>q.formData.prod_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})])]),(0,d.Lk)("div",h,[(0,d.Lk)("div",y,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[14]||(a[14]=[(0,d.eW)(" 계획명 ")]))),_:1}),(0,d.bF)(K,{modelValue:q.formData.plan_name,"onUpdate:modelValue":a[3]||(a[3]=e=>q.formData.plan_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,d.Lk)("div",g,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[15]||(a[15]=[(0,d.eW)(" 지시명 ")]))),_:1}),(0,d.bF)(K,{modelValue:q.formData.product_order_name,"onUpdate:modelValue":a[4]||(a[4]=e=>q.formData.product_order_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})]),(0,d.Lk)("div",k,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[16]||(a[16]=[(0,d.eW)(" 공정명 ")]))),_:1}),(0,d.bF)(K,{modelValue:q.formData.process_name,"onUpdate:modelValue":a[5]||(a[5]=e=>q.formData.process_name=e),size:"large",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"])},null,8,["modelValue","onKeydown"])])),_:1})])]),(0,d.Lk)("div",b,[(0,d.Lk)("div",w,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[17]||(a[17]=[(0,d.eW)(" 시작일자 ")]))),_:1}),(0,d.bF)(N,{modelValue:q.formData.work_start_date_from,"onUpdate:modelValue":a[6]||(a[6]=e=>q.formData.work_start_date_from=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"]),a[18]||(a[18]=(0,d.Lk)("div",{class:"align-content-center"},[(0,d.Lk)("div",{class:"mx-2"},"~")],-1)),(0,d.bF)(N,{modelValue:q.formData.work_start_date_to,"onUpdate:modelValue":a[7]||(a[7]=e=>q.formData.work_start_date_to=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"])])),_:1})]),(0,d.Lk)("div",v,[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(P,null,{default:(0,d.k6)((()=>a[19]||(a[19]=[(0,d.eW)(" 종료일자 ")]))),_:1}),(0,d.bF)(N,{modelValue:q.formData.work_end_date_from,"onUpdate:modelValue":a[8]||(a[8]=e=>q.formData.work_end_date_from=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"]),a[20]||(a[20]=(0,d.Lk)("div",{class:"align-content-center"},[(0,d.Lk)("div",{class:"mx-2"},"~")],-1)),(0,d.bF)(N,{modelValue:q.formData.work_end_date_to,"onUpdate:modelValue":a[9]||(a[9]=e=>q.formData.work_end_date_to=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",onKeydown:(0,c.jR)(A.searchProcessData,["enter"]),showIcon:"",iconDisplay:"input"},null,8,["modelValue","onKeydown"])])),_:1})])]),(0,d.Lk)("div",D,[(0,d.Lk)("div",F,[(0,d.bF)(z,{label:"조회",severity:"success",size:"large",class:"me-2",onClick:A.searchProcessData},null,8,["onClick"]),(0,d.bF)(z,{label:"초기화",severity:"danger",size:"large",class:"",onClick:A.clearForm},null,8,["onClick"])])])])]),(0,d.Lk)("div",L,[a[23]||(a[23]=(0,d.Lk)("div",{class:"heading-with-line mb-3"},[(0,d.Lk)("h5",{class:"m-0 me-3"},"생산 실적 목록")],-1)),(0,d.Lk)("div",V,[(0,d.bF)(j,{ref:"mainGrid",class:"ag-theme-alpine custom-grid-theme",style:{width:"100%",border:"none"},columnDefs:A.columnDefs,rowData:q.processList,gridOptions:q.gridOptions,onCellClicked:a[10]||(a[10]=()=>{})},null,8,["columnDefs","rowData","gridOptions"])])])],64)}r(4114);var q=r(4335),A=r(7654),P=r(2772),K=r(8465),C=r.n(K),N=r(5643),z={components:{AgGridVue:A.b,DatePicker:P.A,ProgressCell:N.A},data(){return{formData:{plan_code:"",product_order_code:"",prod_name:"",product_order_name:"",plan_name:"",process_name:"",work_start_date_from:"",work_start_date_to:"",work_end_date_from:"",work_end_date_to:""},processList:[],gridOptions:{domLayout:"autoHeight",pagination:!0,paginationPageSize:5,paginationPageSizeSelector:!1,defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1}}}},watch(){},mounted(){this.getProcessData()},computed:{columnDefs(){return[{field:"product_order_code",headerName:"지시코드",flex:2,cellStyle:{textAlign:"center"}},{field:"product_order_name",headerName:"지시명",flex:3,cellStyle:{textAlign:"center"}},{field:"process_name",headerName:"공정명",flex:3,cellStyle:{textAlign:"center"}},{field:"process_start_date",headerName:"공정 시작 일자",flex:4,cellStyle:{textAlign:"center"}},{field:"process_end_date",headerName:"공정 종료 일자",flex:4,cellStyle:{textAlign:"center"}},{field:"prod_name",headerName:"제품명",flex:4,cellStyle:{textAlign:"center"}},{field:"order_quantity",headerName:"지시량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"input_quantity",headerName:"투입량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"error_quantity",headerName:"불량량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"created_quantity",headerName:"생산량",flex:1.5,cellStyle:{textAlign:"center"}},{field:"process_progress",headerName:"공정 진행도",flex:3,cellRenderer:"ProgressCell"}]}},methods:{clearForm(){this.formData={}},async getProcessData(){await q.A.get("/api/work/process/data").then((e=>{const a=e.data;for(let r of a){let e=Number(r.order_quantity)>0?Number((Number(r.error_quantity)+Number(r.created_quantity))/Number(r.order_quantity)*100):0;this.processList.push({product_order_code:r.product_order_code,product_order_name:r.product_order_name,process_name:r.process_name,process_start_date:r.process_start_date,process_end_date:r.process_end_date,prod_name:r.prod_name,order_quantity:r.order_quantity,input_quantity:r.input_quantity,error_quantity:r.error_quantity,created_quantity:r.created_quantity,process_progress:e})}this.processList=[...this.processList]})).catch((e=>{console.error(e),C().fire({title:"실패",text:"실적을 조회하던 중 오류가 발생했습니다.",icon:"error",confirmButtonText:"확인"})}))},async searchProcessData(){await q.A.get("/api/work/process/data",{params:{searchKeywords:this.formData}}).then((e=>{const a=e.data;this.processList=[];for(let r of a){let e=Number(r.order_quantity)>0?Number((Number(r.error_quantity)+Number(r.created_quantity))/Number(r.order_quantity)*100):0;this.processList.push({product_order_code:r.product_order_code,product_order_name:r.product_order_name,process_name:r.process_name,process_start_date:r.process_start_date,process_end_date:r.process_end_date,prod_name:r.prod_name,order_quantity:r.order_quantity,input_quantity:r.input_quantity,error_quantity:r.error_quantity,created_quantity:r.created_quantity,process_progress:e})}this.processList=[...this.processList]})).catch((e=>{console.error(e),C().fire({title:"실패",text:"실적을 조회하던 중 오류가 발생했습니다.",icon:"error",confirmButtonText:"확인"})}))}}},j=r(6262);const S=(0,j.A)(z,[["render",x]]);var R=S},5643:function(e,a,r){r.d(a,{A:function(){return i}});var t=r(641),o=r(33);const l={style:{"margin-top":"10px"}};function n(e,a,r,n,s,d){const c=(0,t.g2)("CProgressBar"),u=(0,t.g2)("CProgress");return(0,t.uX)(),(0,t.CE)("div",l,[(0,t.bF)(u,{color:d.barColor,variant:"striped",animated:"",value:d.progress},{default:(0,t.k6)((()=>[(0,t.bF)(c,null,{default:(0,t.k6)((()=>[(0,t.eW)((0,o.v_)(d.progress)+"%",1)])),_:1})])),_:1},8,["color","value"])])}var s=r(7443),d={name:"ProgressCell",components:{CProgress:s.fZ,CProgressBar:s.Em},props:{params:Object},computed:{progress(){return this.params&&null!=this.params.value?this.params.value:0},barColor(){const e=this.progress;return e<30?"danger":e<60?"warning":e<100?"info":"success"}}},c=r(6262);const u=(0,c.A)(d,[["render",n],["__scopeId","data-v-384db79f"]]);var i=u}}]);
//# sourceMappingURL=215.cd3e29e4.js.map