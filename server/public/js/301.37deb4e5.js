"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[301],{301:function(t,e,r){r.r(e),r.d(e,{default:function(){return rt}});var n=r(7448),a=r(6580),o={root:"p-fluid"},i=a.A.extend({name:"fluid",classes:o}),s=r(641),l={name:"BaseFluid",extends:n.A,style:i,provide:function(){return{$pcFluid:this,$parentInstance:this}}},c={name:"Fluid",extends:l,inheritAttrs:!1};function u(t,e,r,n,a,o){return(0,s.uX)(),(0,s.CE)("div",(0,s.v6)({class:t.cx("root")},t.ptmi("root")),[(0,s.RG)(t.$slots,"default")],16)}c.render=u;var d={root:{position:"relative"}},p={root:"p-chart"},f=a.A.extend({name:"chart",classes:p,inlineStyles:d}),h={name:"BaseChart",extends:n.A,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:f,provide:function(){return{$pcChart:this,$parentInstance:this}}},m={name:"Chart",extends:h,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var t=this;r.e(135).then(r.bind(r,9135)).then((function(e){t.chart&&(t.chart.destroy(),t.chart=null),e&&e["default"]&&(t.chart=new e["default"](t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)}))},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var e=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);e&&e[0]&&r&&this.$emit("select",{originalEvent:t,element:e[0],dataset:r})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=x(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){var e=k(t,"string");return"symbol"==b(e)?e:e+""}function k(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var C=["width","height"];function w(t,e,r,n,a,o){return(0,s.uX)(),(0,s.CE)("div",(0,s.v6)({class:t.cx("root"),style:t.sx("root")},t.ptmi("root")),[(0,s.Lk)("canvas",(0,s.v6)({ref:"canvas",width:t.width,height:t.height,onClick:e[0]||(e[0]=function(t){return o.onCanvasClick(t)})},y(y({},t.canvasProps),t.ptm("canvas"))),null,16,C)],16)}m.render=w;var L=r(33);const O={class:"grid grid-cols-12 gap-8 mb-5"},j={class:"col-span-12 lg:col-span-6 xl:col-span-3"},A={class:"card mb-0"},D={class:"flex justify-between mb-4"},E={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},F={class:"col-span-12 lg:col-span-6 xl:col-span-3"},P={class:"card mb-0"},S={class:"flex justify-between mb-4"},B={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},I={class:"col-span-12 lg:col-span-6 xl:col-span-3"},$={class:"card mb-0"},N={class:"flex justify-between mb-4"},H={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},T={class:"col-span-12 lg:col-span-6 xl:col-span-3"},_={class:"card mb-0"},q={class:"flex justify-between mb-4"},R={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},W={class:"col-span-12 xl:col-span-6"},V={class:"card"},M={class:"col-span-12 xl:col-span-6"},X={class:"card"},U={class:"col-span-12 xl:col-span-6"},G={class:"card flex flex-col items-center"},K={class:"col-span-12 xl:col-span-6"},z={class:"card flex flex-col items-center"};function J(t,e,r,n,a,o){const i=m,l=c;return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",O,[(0,s.Lk)("div",j,[(0,s.Lk)("div",A,[(0,s.Lk)("div",D,[(0,s.Lk)("div",null,[e[0]||(e[0]=(0,s.Lk)("span",{class:"block text-primary font-medium mb-4"},"금일 주문건",-1)),(0,s.Lk)("div",E,(0,L.v_)(a.info.orderCount)+"건",1)]),e[1]||(e[1]=(0,s.Lk)("div",{class:"flex items-center justify-center bg-blue-100 dark:bg-blue-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[(0,s.Lk)("i",{class:"pi pi-shopping-cart text-blue-500 !text-xl"})],-1))])])]),(0,s.Lk)("div",F,[(0,s.Lk)("div",P,[(0,s.Lk)("div",S,[(0,s.Lk)("div",null,[e[2]||(e[2]=(0,s.Lk)("span",{class:"block text-warning font-medium mb-4"},"금일 매출건",-1)),(0,s.Lk)("div",B,(0,L.v_)(a.info.deliveryCount)+"건",1)]),e[3]||(e[3]=(0,s.Lk)("div",{class:"flex items-center justify-center bg-orange-100 dark:bg-orange-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[(0,s.Lk)("i",{class:"pi pi-dollar text-orange-500 !text-xl"})],-1))])])]),(0,s.Lk)("div",I,[(0,s.Lk)("div",$,[(0,s.Lk)("div",N,[(0,s.Lk)("div",null,[e[4]||(e[4]=(0,s.Lk)("span",{class:"block text-info font-medium mb-4"},"금일 발주건",-1)),(0,s.Lk)("div",H,(0,L.v_)(a.info.matOrderCount)+"건",1)]),e[5]||(e[5]=(0,s.Lk)("div",{class:"flex items-center justify-center bg-cyan-100 dark:bg-cyan-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[(0,s.Lk)("i",{class:"pi pi-users text-cyan-500 !text-xl"})],-1))])])]),(0,s.Lk)("div",T,[(0,s.Lk)("div",_,[(0,s.Lk)("div",q,[(0,s.Lk)("div",null,[e[6]||(e[6]=(0,s.Lk)("span",{class:"block text-secondary font-medium mb-4"},"금일 생산건",-1)),(0,s.Lk)("div",R,(0,L.v_)(a.info.workCount)+"건",1)]),e[7]||(e[7]=(0,s.Lk)("div",{class:"flex items-center justify-center bg-purple-100 dark:bg-purple-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[(0,s.Lk)("i",{class:"pi pi-comment text-purple-500 !text-xl"})],-1))])])])]),(0,s.bF)(l,{class:"grid grid-cols-12 gap-8"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",W,[(0,s.Lk)("div",V,[e[8]||(e[8]=(0,s.Lk)("div",{class:"font-semibold text-xl mb-4"},"주간 제품 입고량",-1)),(0,s.bF)(i,{type:"line",data:a.lineData,options:a.lineOptions},null,8,["data","options"])])]),(0,s.Lk)("div",M,[(0,s.Lk)("div",X,[e[9]||(e[9]=(0,s.Lk)("div",{class:"font-semibold text-xl mb-4"},"주간 자재 소모량",-1)),(0,s.bF)(i,{type:"bar",data:a.barData,options:a.barOptions},null,8,["data","options"])])]),(0,s.Lk)("div",U,[(0,s.Lk)("div",G,[e[10]||(e[10]=(0,s.Lk)("div",{class:"font-semibold text-xl mb-4"},"주간 제품 출고량",-1)),(0,s.bF)(i,{type:"doughnut",data:a.pieData,options:a.pieOptions},null,8,["data","options"])])]),(0,s.Lk)("div",K,[(0,s.Lk)("div",z,[e[11]||(e[11]=(0,s.Lk)("div",{class:"font-semibold text-xl mb-4"},"주간 자재 입고량",-1)),(0,s.bF)(i,{type:"polarArea",data:a.polarData,options:a.polarOptions},null,8,["data","options"])])])])),_:1})],64)}r(8111),r(7588),r(1701);var Q=r(6417),Y=r(4335),Z={data(){return{lineData:null,pieData:null,polarData:null,barData:null,radarData:null,lineOptions:null,pieOptions:null,polarOptions:null,barOptions:null,radarOptions:null,info:{orderCount:"",workCount:"",matOrderCount:"",deliveryCount:""}}},created(){this.setColorOptions()},mounted(){this.countList();const{getPrimary:t,getSurface:e,isDarkTheme:r}=(0,Q.g)();this.stopWatcher=this.$watch((()=>[t.value,e.value,r.value]),(()=>{this.setColorOptions()}),{immediate:!0})},beforeUnmount(){this.stopWatcher&&this.stopWatcher()},methods:{async countList(){await Y.A.get("/api/main/count",{withCredentials:!0}).then((t=>{console.log(t.data[0][0].orderCount),this.info.orderCount=t.data[0][0].orderCount,this.info.matOrderCount=t.data[1][0].matOrderCount,this.info.deliveryCount=t.data[2][0].deliveryCount,this.info.workCount=t.data[3][0].workCount}))},async setColorOptions(){const t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--text-color"),r=t.getPropertyValue("--text-color-secondary"),n=t.getPropertyValue("--surface-border"),a=await Y.A.get("/api/main/lineChart",{withCredentials:!0}),o=await Y.A.get("/api/main/barChart",{withCredentials:!0}),i=await Y.A.get("/api/main/pieChart",{withCredentials:!0}),s=await Y.A.get("/api/main/popChart",{withCredentials:!0}),l={},c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],u=["#42A5F5","#66BB6A","#FFA726","#AB47BC","#FF7043","#26C6DA","#D4E157","#FFCA28","#5C6BC0","#EC407A"];a.data.forEach((t=>{l[t.prodName]=Array(7).fill(0);const e=c.indexOf(t.day);console.log(e),-1!==e&&(console.log(t.quantity),l[t.prodName][e]=t.quantity)}));let d=Object.keys(l).map(((t,e)=>({label:t,data:l[t],fill:!1,borderColor:u[e%10],tension:.4})));this.lineData={labels:c,datasets:d},this.lineOptions={plugins:{legend:{labels:{fontColor:e}}},scales:{x:{ticks:{color:r},grid:{color:n,drawBorder:!1}},y:{ticks:{color:r},grid:{color:n,drawBorder:!1}}}};let p={};o.data.forEach((t=>{p[t.matName]=Array(7).fill(0);const e=c.indexOf(t.day);p[t.matName][e]=t.quantity})),d=Object.keys(p).map(((t,e)=>({label:t,data:p[t],fill:!1,backgroundColor:u[e%10],borderColor:u[e%10],tension:.4}))),this.barData={labels:c,datasets:d},this.barOptions={plugins:{legend:{labels:{fontColor:e}}},scales:{x:{ticks:{color:r,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:r},grid:{color:n,drawBorder:!1}}}};let f=i.data.map((t=>t.prodName)),h=i.data.map((t=>t.quantity));this.pieData={labels:f,datasets:[{data:h,backgroundColor:u,hoverBackgroundColor:u}]},this.pieOptions={plugins:{legend:{labels:{usePointStyle:!0,color:e}}}};let m=s.data.map((t=>t.matName)),b=s.data.map((t=>t.quantity));this.polarData={datasets:[{data:b,backgroundColor:u}],labels:m},this.polarOptions={plugins:{legend:{labels:{color:e}}},scales:{r:{grid:{color:n}}}}}}},tt=r(6262);const et=(0,tt.A)(Z,[["render",J]]);var rt=et},1701:function(t,e,r){var n=r(6518),a=r(9565),o=r(9306),i=r(8551),s=r(1767),l=r(9462),c=r(6319),u=r(9539),d=r(4549),p=r(6395),f=!p&&d("map",TypeError),h=l((function(){var t=this.iterator,e=i(a(this.next,t)),r=this.done=!!e.done;if(!r)return c(t,this.mapper,[e.value,this.counter++],!0)}));n({target:"Iterator",proto:!0,real:!0,forced:p||f},{map:function(t){i(this);try{o(t)}catch(e){u(this,"throw",e)}return f?a(f,this,t):new h(s(this),{mapper:t})}})},2529:function(t){t.exports=function(t,e){return{value:t,done:e}}},6279:function(t,e,r){var n=r(6840);t.exports=function(t,e,r){for(var a in e)n(t,a,e[a],r);return t}},6319:function(t,e,r){var n=r(8551),a=r(9539);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(i){a(t,"throw",i)}}},7588:function(t,e,r){var n=r(6518),a=r(9565),o=r(2652),i=r(9306),s=r(8551),l=r(1767),c=r(9539),u=r(4549),d=u("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:d},{forEach:function(t){s(this);try{i(t)}catch(n){c(this,"throw",n)}if(d)return a(d,this,t);var e=l(this),r=0;o(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},9462:function(t,e,r){var n=r(9565),a=r(2360),o=r(6699),i=r(6279),s=r(8227),l=r(1181),c=r(5966),u=r(7657).IteratorPrototype,d=r(2529),p=r(9539),f=s("toStringTag"),h="IteratorHelper",m="WrapForValidIterator",b=l.set,v=function(t){var e=l.getterFor(t?m:h);return i(a(u),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return d(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:d(n,r.done)}catch(a){throw r.done=!0,a}},return:function(){var r=e(this),a=r.iterator;if(r.done=!0,t){var o=c(a,"return");return o?n(o,a):d(void 0,!0)}if(r.inner)try{p(r.inner.iterator,"normal")}catch(i){return p(a,"throw",i)}return a&&p(a,"normal"),d(void 0,!0)}})},y=v(!0),g=v(!1);o(g,f,"Iterator Helper"),t.exports=function(t,e,r){var n=function(n,a){a?(a.iterator=n.iterator,a.next=n.next):a=n,a.type=e?m:h,a.returnHandlerResult=!!r,a.nextHandler=t,a.counter=0,a.done=!1,b(this,a)};return n.prototype=e?y:g,n}}}]);
//# sourceMappingURL=301.37deb4e5.js.map