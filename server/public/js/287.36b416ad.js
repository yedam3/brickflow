"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[287],{3590:function(e,l,a){a.d(l,{A:function(){return p}});var o=a(641),t=a(3751);const d={class:"ag-theme-alpine",style:{height:"400px",width:"100%"}},r={class:"d-flex justify-content-center me-5"},n={class:"input-group mb-3 w-50"};function s(e,l,a,s,i,c){const u=(0,o.g2)("CModalHeader"),m=(0,o.g2)("AgGridVue"),f=(0,o.g2)("CModalBody"),p=(0,o.g2)("CButton"),b=(0,o.g2)("CModalFooter"),y=(0,o.g2)("CModal");return(0,o.uX)(),(0,o.Wv)(y,{visible:a.visible,onClose:c.close,backdrop:"static",alignment:"center",size:"xl",style:{"min-width":"1000px"}},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"header",{},(()=>[l[3]||(l[3]=(0,o.eW)("주문 목록"))]))])),_:3}),(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",d,[(0,o.Lk)("div",r,[(0,o.Lk)("div",n,[l[5]||(l[5]=(0,o.Lk)("select",{class:"form-select","aria-label":"Default select example"},[(0,o.Lk)("option",{value:"1",selected:""},"제품명"),(0,o.Lk)("option",{value:"2"},"주문명"),(0,o.Lk)("option",{value:"2"},"주문번호")],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=l=>e.searchText=l),placeholder:"검색어 입력",onKeydown:l[1]||(l[1]=(0,t.jR)(((...l)=>e.searchOrders&&e.searchOrders(...l)),["enter"])),class:"form-control w-50",style:{width:"30%"}},null,544),[[t.Jo,e.searchText]]),(0,o.Lk)("button",{onClick:l[2]||(l[2]=(...l)=>e.searchMaterials&&e.searchMaterials(...l)),class:"btn btn-primary"},l[4]||(l[4]=[(0,o.Lk)("i",{class:"pi pi-search"},null,-1)]))])]),(0,o.bF)(m,{style:{width:"100%",height:"100%"},class:"ag-theme-alpine",columnDefs:i.columnDefs,rowData:i.rowData,gridOptions:i.gridOptions,onRowClicked:c.onRowClicked},null,8,["columnDefs","rowData","gridOptions","onRowClicked"])])])),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"footer",{},(()=>[(0,o.bF)(p,{color:"secondary",onClick:c.close},{default:(0,o.k6)((()=>l[6]||(l[6]=[(0,o.eW)("닫기")]))),_:1},8,["onClick"])]))])),_:3})])),_:3},8,["visible","onClose"])}var i=a(7654),c=a(4335),u={name:"DeliveryModal",components:{AgGridVue:i.b},props:{visible:{type:Boolean,required:!0}},watch:{visible(e){e&&this.deliverytList()}},data(){return{rowData:[],columnDefs:[{field:"delivery_code",headerName:"출고번호",flex:1},{field:"delivery_name",headerName:"출고명",flex:1},{field:"delivery_date",headerName:"출고일자",flex:1},{field:"company_name",headerName:"업체명",flex:1},{field:"prod_name",headerName:"제품명",flex:2}],gridOptions:{domLayout:"autoHeight",suppressCellFocus:!0,pagination:!0,paginationPageSize:5,paginationPageSizeSelector:!1,defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1,cellStyle:{textAlign:"center"}}}}},methods:{close(){this.$emit("close")},async deliverytList(){await c.A.get("/api/sales/deliveryModal").then((e=>{this.rowData=e.data}))},onRowClicked(e){this.$emit("selectOrder",e.data),this.close()}}},m=a(6262);const f=(0,m.A)(u,[["render",s]]);var p=f},9287:function(e,l,a){a.r(l),a.d(l,{default:function(){return R}});var o=a(3590),t=a(3889),d=a(5063),r=a(6704),n=a(109),s=a(8235),i=a(5122),c=a(641);const u={class:"card border-0 h-100"},m={class:"text-end mt-3 mb-3"},f={class:"mb-3"},p={class:"mb-5 row"},b={class:"col-4"},y={class:"col-4"},h={class:"col-4"},k={class:"card border-0 h-100"},v={class:"mb-3"},_={class:"mb-5 row"},g={class:"col-4"},w={class:"col-4"},D={class:"col-4"},F={class:"mb-5 row"},L={class:"col-4"},x={class:"col-4"};function C(e,l,a,C,V,A){const O=i.A,S=s.A,M=n.A,z=r.A,N=d.A,R=(0,c.g2)("ag-grid-vue"),W=t.A,T=o.A;return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("div",u,[l[15]||(l[15]=(0,c.Lk)("div",{class:"font-semibold text-xl mb-4"},"판매 이력",-1)),(0,c.Lk)("div",m,[(0,c.bF)(O,{label:"조회",severity:"success",class:"me-3",onClick:A.deliverytList},null,8,["onClick"]),(0,c.bF)(O,{label:"등록",severity:"info",class:"me-3",onClick:l[0]||(l[0]=()=>{})}),(0,c.bF)(O,{label:"수정",severity:"help",class:"me-3",onClick:l[1]||(l[1]=()=>{})}),(0,c.bF)(O,{label:"삭제",severity:"danger",class:"me-5",onClick:l[2]||(l[2]=()=>{})})]),(0,c.Lk)("div",f,[(0,c.bF)(N,{style:{overflow:"hidden","background-color":"#f8f9fa"}},{content:(0,c.k6)((()=>[(0,c.Lk)("div",p,[(0,c.Lk)("div",b,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[12]||(l[12]=[(0,c.eW)(" 업체명 ")]))),_:1}),(0,c.bF)(M,{modelValue:V.rowData.company_name,"onUpdate:modelValue":l[3]||(l[3]=e=>V.rowData.company_name=e),size:"large",placeholder:""},null,8,["modelValue"])])),_:1})]),(0,c.Lk)("div",y,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[13]||(l[13]=[(0,c.eW)(" 출고명 ")]))),_:1}),(0,c.bF)(M,{modelValue:V.rowData.delivery_name,"onUpdate:modelValue":l[4]||(l[4]=e=>V.rowData.delivery_name=e),size:"large",placeholder:"",readonly:""},null,8,["modelValue"])])),_:1})]),(0,c.Lk)("div",h,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[14]||(l[14]=[(0,c.eW)(" 주문번호 ")]))),_:1}),(0,c.bF)(M,{modelValue:V.rowData.orders_code,"onUpdate:modelValue":l[5]||(l[5]=e=>V.rowData.orders_code=e),size:"large",placeholder:"",readonly:""},null,8,["modelValue"])])),_:1})])])])),_:1})]),(0,c.bF)(R,{class:"ag-theme-alpine custom-grid-theme",columnDefs:V.columnDefs,rowData:V.formData,gridOptions:V.gridOptions,onRowClicked:A.gridselect},null,8,["columnDefs","rowData","gridOptions","onRowClicked"])]),(0,c.Lk)("div",k,[l[21]||(l[21]=(0,c.Lk)("div",{class:"font-semibold text-xl mb-4"},"반품 관리",-1)),(0,c.Lk)("div",v,[(0,c.bF)(N,{style:{overflow:"hidden","background-color":"#f8f9fa"}},{content:(0,c.k6)((()=>[(0,c.Lk)("div",_,[(0,c.Lk)("div",g,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[16]||(l[16]=[(0,c.eW)(" 제품명 ")]))),_:1}),(0,c.bF)(M,{modelValue:V.serowData.prod_name,"onUpdate:modelValue":l[6]||(l[6]=e=>V.serowData.prod_name=e),size:"large",placeholder:""},null,8,["modelValue"])])),_:1})]),(0,c.Lk)("div",w,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[17]||(l[17]=[(0,c.eW)(" 업체명 ")]))),_:1}),(0,c.bF)(M,{modelValue:V.serowData.company_name,"onUpdate:modelValue":l[7]||(l[7]=e=>V.serowData.company_name=e),size:"large",placeholder:"",readonly:""},null,8,["modelValue"])])),_:1})]),(0,c.Lk)("div",D,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[18]||(l[18]=[(0,c.eW)(" LOT번호 ")]))),_:1}),(0,c.bF)(M,{modelValue:V.serowData.prod_LOT,"onUpdate:modelValue":l[8]||(l[8]=e=>V.serowData.prod_LOT=e),size:"large",placeholder:"",readonly:""},null,8,["modelValue"])])),_:1})])]),(0,c.Lk)("div",F,[(0,c.Lk)("div",L,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[19]||(l[19]=[(0,c.eW)(" 수량 ")]))),_:1}),(0,c.bF)(M,{modelValue:V.serowData.delivery_quantity,"onUpdate:modelValue":l[9]||(l[9]=e=>V.serowData.delivery_quantity=e),size:"large",placeholder:"",readonly:""},null,8,["modelValue"])])),_:1})]),(0,c.Lk)("div",x,[(0,c.bF)(z,null,{default:(0,c.k6)((()=>[(0,c.bF)(S,null,{default:(0,c.k6)((()=>l[20]||(l[20]=[(0,c.eW)(" 판매일자 ")]))),_:1}),(0,c.bF)(W,{modelValue:V.serowData.start_date,"onUpdate:modelValue":l[10]||(l[10]=e=>V.serowData.start_date=e),size:"large",dateFormat:"yy/mm/dd",placeholder:"(입력)",showIcon:"",iconDisplay:"input"},null,8,["modelValue"])])),_:1})])])])),_:1})])]),(0,c.bF)(T,{ref:"deliveryModal",visible:V.showDeliveryModal,onClose:l[11]||(l[11]=e=>V.showDeliveryModal=!1),onSelectOrder:A.deliveryOrderSelected},null,8,["visible","onSelectOrder"])],64)}a(4114);var V=a(4335),A=a(7654),O=a(8465),S=a.n(O),M={components:{AgGridVue:A.b,DeliveryModal:o.A,Swal:S()},data(){return{rowData:[{}],formData:[],serowData:[],columnDefs:[{field:"orders_code",headerName:"주문번호",flex:1,cellStyle:{textAlign:"center"}},{field:"prod_name",headerName:"제품명",flex:1,cellStyle:{textAlign:"center"}},{field:"company_name",headerName:"업체명",flex:1,cellStyle:{textAlign:"center"}},{field:"delivery_quantity",headerName:"출고수량",flex:1,cellStyle:{textAlign:"center"}},{field:"del_date",headerName:"판매일자",flex:1,editable:!1,cellStyle:{textAlign:"center"}},{field:"prod_LOT",headerName:"LOT번호",flex:1,editable:!1,cellStyle:{textAlign:"center"}},{field:"note",headerName:"비고",flex:1,editable:!0,cellStyle:{textAlign:"center"}}],gridOptions:{domLayout:"autoHeight",singleClickEdit:!0,suppressRowClickSelection:!0,defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1}},showDeliveryModal:!1,selectedRowIndexes:[]}},mounted(){},methods:{deliverytList(){this.showDeliveryModal=!0},async deliveryOrderSelected(e){this.rowData.company_name=e.company_name,this.rowData.delivery_name=e.delivery_name,this.rowData.orders_code=e.orders_code,await V.A.get(`/api/sales/returnOrders/${e.orders_code}`).then((l=>{console.log(l.data);let a=[];for(let o of l.data)a.push({orders_code:e.orders_code,prod_name:e.prod_name,company_name:e.company_name,delivery_quantity:o.delivery_quantity,del_date:o.del_date,prod_LOT:o.prod_LOT,note:o.note});this.formData=[...a],console.log(this.formData)})).catch((e=>console.log(e)))},async gridselect(e){}}},z=a(6262);const N=(0,z.A)(M,[["render",C]]);var R=N}}]);
//# sourceMappingURL=287.36b416ad.js.map