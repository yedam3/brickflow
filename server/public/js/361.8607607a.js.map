{"version":3,"file":"js/361.8607607a.js","mappings":"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","sources":["webpack://client/./node_modules/core-js/modules/es.iterator.map.js","webpack://client/./node_modules/core-js/modules/es.iterator.filter.js","webpack://client/./node_modules/core-js/internals/create-iter-result-object.js","webpack://client/./src/components/modal/ProcModal.vue?acdb","webpack://client/./src/components/modal/ProcModal.vue","webpack://client/./src/components/modal/ProcModal.vue?d4ab","webpack://client/./src/views/pages/qual/ProcessFlow.vue?f71e","webpack://client/./node_modules/@vue-flow/core/dist/vue-flow-core.mjs","webpack://client/./node_modules/@vue-flow/background/dist/vue-flow-background.mjs","webpack://client/./node_modules/@vue-flow/controls/dist/vue-flow-controls.mjs","webpack://client/./node_modules/@vue-flow/minimap/dist/vue-flow-minimap.mjs","webpack://client/./src/views/pages/qual/ProcessFlow.vue","webpack://client/./src/views/pages/qual/ProcessFlow.vue?ec9d","webpack://client/./node_modules/core-js/internals/define-built-ins.js","webpack://client/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://client/./node_modules/core-js/internals/iterator-create-proxy.js"],"sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\nvar IS_PURE = require('../internals/is-pure');\n\nvar mapWithoutClosingOnEarlyError = !IS_PURE && iteratorHelperWithoutClosingOnEarlyError('map', TypeError);\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE || mapWithoutClosingOnEarlyError }, {\n  map: function map(mapper) {\n    anObject(this);\n    try {\n      aCallable(mapper);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (mapWithoutClosingOnEarlyError) return call(mapWithoutClosingOnEarlyError, this, mapper);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper\n    });\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar IS_PURE = require('../internals/is-pure');\nvar iteratorClose = require('../internals/iterator-close');\nvar iteratorHelperWithoutClosingOnEarlyError = require('../internals/iterator-helper-without-closing-on-early-error');\n\nvar filterWithoutClosingOnEarlyError = !IS_PURE && iteratorHelperWithoutClosingOnEarlyError('filter', TypeError);\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var predicate = this.predicate;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, predicate, [value, this.counter++], true)) return value;\n  }\n});\n\n// `Iterator.prototype.filter` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.filter\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE || filterWithoutClosingOnEarlyError }, {\n  filter: function filter(predicate) {\n    anObject(this);\n    try {\n      aCallable(predicate);\n    } catch (error) {\n      iteratorClose(this, 'throw', error);\n    }\n\n    if (filterWithoutClosingOnEarlyError) return call(filterWithoutClosingOnEarlyError, this, predicate);\n\n    return new IteratorProxy(getIteratorDirect(this), {\n      predicate: predicate\n    });\n  }\n});\n","'use strict';\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","import { renderSlot as _renderSlot, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withKeys as _withKeys, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"ag-theme-alpine\",\n  style: {\n    \"height\": \"400px\",\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"d-flex justify-content-end me-5\"\n};\nconst _hoisted_3 = {\n  class: \"input-group mb-3 w-50\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CModalHeader = _resolveComponent(\"CModalHeader\");\n  const _component_AgGridVue = _resolveComponent(\"AgGridVue\");\n  const _component_CModalBody = _resolveComponent(\"CModalBody\");\n  const _component_CButton = _resolveComponent(\"CButton\");\n  const _component_CModalFooter = _resolveComponent(\"CModalFooter\");\n  const _component_CModal = _resolveComponent(\"CModal\");\n  return _openBlock(), _createBlock(_component_CModal, {\n    visible: $props.visible,\n    onClose: $options.close,\n    backdrop: \"static\",\n    alignment: \"center\",\n    size: \"xl\",\n    style: {\n      \"min-width\": \"1000px\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_CModalHeader, null, {\n      default: _withCtx(() => [_renderSlot(_ctx.$slots, \"header\", {}, () => [_cache[4] || (_cache[4] = _createTextVNode(\"공정 목록\"))], true)]),\n      _: 3\n    }), _createVNode(_component_CModalBody, null, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchType = $event),\n        class: \"form-select\",\n        \"aria-label\": \"Default select example\"\n      }, _cache[5] || (_cache[5] = [_createElementVNode(\"option\", {\n        value: \"process_code\",\n        selected: \"\"\n      }, \"공정코드\", -1), _createElementVNode(\"option\", {\n        value: \"process_name\"\n      }, \"공정명\", -1)]), 512), [[_vModelSelect, $data.searchType]]), _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchText = $event),\n        placeholder: \"검색어 입력\",\n        class: \"form-control w-50\",\n        style: {\n          \"width\": \"30%\"\n        },\n        onKeydown: _cache[2] || (_cache[2] = _withKeys((...args) => $options.searchProcess && $options.searchProcess(...args), [\"enter\"]))\n      }, null, 544), [[_vModelText, $data.searchText]]), _createElementVNode(\"button\", {\n        onClick: _cache[3] || (_cache[3] = (...args) => $options.searchProcess && $options.searchProcess(...args)),\n        class: \"btn btn-primary\"\n      }, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n        class: \"pi pi-search\"\n      }, null, -1)]))])]), _createVNode(_component_AgGridVue, {\n        style: {\n          \"width\": \"100%\",\n          \"height\": \"100%\"\n        },\n        class: \"ag-theme-alpine\",\n        columnDefs: $data.columnDefs,\n        rowData: $data.rowData,\n        gridOptions: $data.gridOptions,\n        onRowClicked: $options.clicked\n      }, null, 8, [\"columnDefs\", \"rowData\", \"gridOptions\", \"onRowClicked\"])])]),\n      _: 1\n    }), _createVNode(_component_CModalFooter, null, {\n      default: _withCtx(() => [_renderSlot(_ctx.$slots, \"footer\", {}, () => [_createVNode(_component_CButton, {\n        color: \"secondary\",\n        onClick: $options.close\n      }, {\n        default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"닫기\")])),\n        _: 1\n      }, 8, [\"onClick\"])], true)]),\n      _: 3\n    })]),\n    _: 3\n  }, 8, [\"visible\", \"onClose\"]);\n}","import { AgGridVue } from \"ag-grid-vue3\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    AgGridVue\n  },\n  props: {\n    visible: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      rowData: [],\n      searchType: \"process_code\",\n      // 검색 조건 \n      searchText: \"\",\n      // 검색어\n      columnDefs: [{\n        field: \"process_code\",\n        headerName: \"공정코드\",\n        flex: 1\n      }, {\n        field: \"process_name\",\n        headerName: \"공정명\",\n        flex: 1\n      }],\n      gridOptions: {\n        domLayout: \"autoHeight\",\n        singleClickEdit: true,\n        suppressRowClickSelection: true,\n        pagination: true,\n        paginationPageSize: 5,\n        paginationPageSizeSelector: false,\n        overlayNoRowsTemplate: '표시할 값이 없습니다.',\n        defaultColDef: {\n          suppressMovable: true,\n          resizable: false,\n          sortable: false,\n          cellStyle: {\n            textAlign: \"center\"\n          }\n        }\n      }\n    };\n  },\n  mounted() {\n    this.procList();\n  },\n  methods: {\n    close() {\n      this.$emit(\"close\");\n    },\n    async procList() {\n      await axios.get('/api/admin/processAll').then(res => {\n        console.log('결과', res.data);\n        this.rowData = res.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    searchProcess() {\n      axios.get('/api/admin/processflow/:prodno', {\n        params: {\n          type: this.searchType,\n          keyword: this.searchText\n        }\n      }).then(res => {\n        this.rowData = res.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    clicked(event) {\n      this.$emit('selectProc', event.data);\n      this.close();\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./ProcModal.vue?vue&type=template&id=28c1fc96&scoped=true\"\nimport script from \"./ProcModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProcModal.vue?vue&type=script&lang=js\"\n\nimport \"./ProcModal.vue?vue&type=style&index=0&id=28c1fc96&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-28c1fc96\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card border-0 h-100\"\n};\nconst _hoisted_2 = {\n  class: \"flex items-center justify-between mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"grid grid-cols-2 gap-6\"\n};\nconst _hoisted_4 = {\n  class: \"flow-container border rounded-lg p-2 bg-gray-50\"\n};\nconst _hoisted_5 = {\n  class: \"bg-white p-4 rounded-lg\"\n};\nconst _hoisted_6 = {\n  class: \"flex justify-between items-center mb-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_ag_grid_vue = _resolveComponent(\"ag-grid-vue\");\n  const _component_VueFlow = _resolveComponent(\"VueFlow\");\n  const _component_ProcModal = _resolveComponent(\"ProcModal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n    class: \"text-2xl font-bold\"\n  }, \"공정흐름도 관리\", -1)), _createElementVNode(\"div\", null, [_createVNode(_component_Button, {\n    label: \"초기화\",\n    severity: \"help\",\n    class: \"me-3\",\n    onClick: $options.resetList\n  }, null, 8, [\"onClick\"]), _createVNode(_component_Button, {\n    label: \"저장\",\n    severity: \"info\",\n    class: \"me-3\",\n    onClick: $options.proSave\n  }, null, 8, [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"h5\", {\n    class: \"mb-2\"\n  }, \"제품목록\", -1)), _createVNode(_component_ag_grid_vue, {\n    class: \"ag-theme-alpine w-full\",\n    columnDefs: $data.columnDefs,\n    rowData: $data.rowData,\n    gridOptions: $data.gridOptions1,\n    defaultColDef: _ctx.defaultColDef,\n    onCellClicked: $options.prodCellClicked\n  }, null, 8, [\"columnDefs\", \"rowData\", \"gridOptions\", \"defaultColDef\", \"onCellClicked\"])]), _createElementVNode(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"h5\", {\n    class: \"mb-2\"\n  }, \"공정흐름도\", -1)), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_VueFlow, {\n    nodes: $data.nodes,\n    edges: $data.edges,\n    class: \"h-80\",\n    \"fit-view\": true\n  }, null, 8, [\"nodes\", \"edges\"])])])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[4] || (_cache[4] = _createElementVNode(\"h5\", null, \"상세공정조회\", -1)), _createElementVNode(\"div\", null, [_createVNode(_component_Button, {\n    label: \"행추가\",\n    severity: \"success\",\n    class: \"me-3\",\n    onClick: $options.addRow\n  }, null, 8, [\"onClick\"]), _createVNode(_component_Button, {\n    label: \"행삭제\",\n    severity: \"danger\",\n    class: \"me-3\",\n    onClick: $options.deleteRow\n  }, null, 8, [\"onClick\"])])]), _createVNode(_component_ag_grid_vue, {\n    ref: \"secondGrid\",\n    class: \"ag-theme-alpine w-full\",\n    columnDefs: $data.columnDefs2,\n    rowData: $data.rowData2,\n    gridOptions: $data.gridOptions2,\n    rowSelection: \"multiple\",\n    defaultColDef: _ctx.defaultColDef,\n    onCellClicked: $options.procCellClicked,\n    onRowDragEnd: $options.onRowDragEnd\n  }, null, 8, [\"columnDefs\", \"rowData\", \"gridOptions\", \"defaultColDef\", \"onCellClicked\", \"onRowDragEnd\"])]), _createVNode(_component_ProcModal, {\n    visible: $data.showProcModal,\n    rowSelection: \"multiple\",\n    onClose: _cache[0] || (_cache[0] = $event => $data.showProcModal = false),\n    onSelectProc: $options.procSelected\n  }, null, 8, [\"visible\", \"onSelectProc\"])]);\n}","import { getCurrentScope, onScopeDispose, isRef, reactive, unref, toRefs as toRefs$1, customRef, ref, readonly, watch, getCurrentInstance, nextTick, computed, toRef, toValue as toValue$1, markRaw, inject, effectScope, onBeforeMount, defineComponent, createPropsRestProxy, onMounted, openBlock, createElementBlock, normalizeClass, renderSlot, h, Fragment, normalizeStyle, createCommentVNode, createElementVNode, mergeProps, createBlock, resolveDynamicComponent, createTextVNode, toDisplayString, useAttrs, provide, onBeforeUnmount, createVNode, withCtx, resolveComponent, renderList, Teleport, isMemoSame, useSlots, onUnmounted } from \"vue\";\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction toValue(r) {\n  return typeof r === \"function\" ? r() : unref(r);\n}\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef))\n    return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value))\n        objectRef.value[p].value = value;\n      else\n        objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\nconst isClient = typeof window !== \"undefined\" && typeof document !== \"undefined\";\nconst isDef$1 = (val) => typeof val !== \"undefined\";\nconst toString = Object.prototype.toString;\nconst isObject = (val) => toString.call(val) === \"[object Object]\";\nconst noop$2 = () => {\n};\nfunction createFilterWrapper(filter2, fn) {\n  function wrapper(...args) {\n    return new Promise((resolve, reject) => {\n      Promise.resolve(filter2(() => fn.apply(this, args), { fn, thisArg: this, args })).then(resolve).catch(reject);\n    });\n  }\n  return wrapper;\n}\nconst bypassFilter = (invoke) => {\n  return invoke();\n};\nfunction pausableFilter(extendFilter = bypassFilter) {\n  const isActive = ref(true);\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value)\n      extendFilter(...args);\n  };\n  return { isActive: readonly(isActive), pause, resume, eventFilter };\n}\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout)\n      setTimeout(() => reject(reason), ms);\n    else\n      setTimeout(resolve, ms);\n  });\n}\nfunction watchWithFilter(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  return watch(\n    source,\n    createFilterWrapper(\n      eventFilter,\n      cb\n    ),\n    watchOptions\n  );\n}\nfunction watchPausable(source, cb, options = {}) {\n  const {\n    eventFilter: filter2,\n    ...watchOptions\n  } = options;\n  const { eventFilter, pause, resume, isActive } = pausableFilter(filter2);\n  const stop = watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter\n    }\n  );\n  return { stop, pause, resume, isActive };\n}\nfunction toRefs(objectRef, options = {}) {\n  if (!isRef(objectRef))\n    return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? Array.from({ length: objectRef.value.length }) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        var _a;\n        const replaceRef = (_a = toValue(options.replaceRef)) != null ? _a : true;\n        if (replaceRef) {\n          if (Array.isArray(objectRef.value)) {\n            const copy = [...objectRef.value];\n            copy[key] = v;\n            objectRef.value = copy;\n          } else {\n            const newObject = { ...objectRef.value, [key]: v };\n            Object.setPrototypeOf(newObject, Object.getPrototypeOf(objectRef.value));\n            objectRef.value = newObject;\n          }\n        } else {\n          objectRef.value[key] = v;\n        }\n      }\n    }));\n  }\n  return result;\n}\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = {}) {\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        r,\n        (v) => {\n          if (condition(v) !== isNot) {\n            stop == null ? void 0 : stop();\n            resolve(v);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => stop == null ? void 0 : stop())\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value))\n      return toMatch((v) => v === value, options);\n    const { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        [r, value],\n        ([v1, v2]) => {\n          if (isNot !== (v1 === v2)) {\n            stop == null ? void 0 : stop();\n            resolve(v1);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => {\n          stop == null ? void 0 : stop();\n          return toValue(r);\n        })\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch((v) => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch((v) => {\n      const array2 = Array.from(v);\n      return array2.includes(value) || array2.includes(toValue(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(toValue(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = toValue(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nconst defaultWindow = isClient ? window : void 0;\nfunction useEventListener(...args) {\n  let target;\n  let events;\n  let listeners;\n  let options;\n  if (typeof args[0] === \"string\" || Array.isArray(args[0])) {\n    [events, listeners, options] = args;\n    target = defaultWindow;\n  } else {\n    [target, events, listeners, options] = args;\n  }\n  if (!target)\n    return noop$2;\n  if (!Array.isArray(events))\n    events = [events];\n  if (!Array.isArray(listeners))\n    listeners = [listeners];\n  const cleanups = [];\n  const cleanup = () => {\n    cleanups.forEach((fn) => fn());\n    cleanups.length = 0;\n  };\n  const register = (el, event, listener, options2) => {\n    el.addEventListener(event, listener, options2);\n    return () => el.removeEventListener(event, listener, options2);\n  };\n  const stopWatch = watch(\n    () => [unrefElement(target), toValue(options)],\n    ([el, options2]) => {\n      cleanup();\n      if (!el)\n        return;\n      const optionsClone = isObject(options2) ? { ...options2 } : options2;\n      cleanups.push(\n        ...events.flatMap((event) => {\n          return listeners.map((listener) => register(el, event, listener, optionsClone));\n        })\n      );\n    },\n    { immediate: true, flush: \"post\" }\n  );\n  const stop = () => {\n    stopWatch();\n    cleanup();\n  };\n  tryOnScopeDispose(stop);\n  return stop;\n}\nfunction createKeyPredicate$1(keyFilter) {\n  if (typeof keyFilter === \"function\")\n    return keyFilter;\n  else if (typeof keyFilter === \"string\")\n    return (event) => event.key === keyFilter;\n  else if (Array.isArray(keyFilter))\n    return (event) => keyFilter.includes(event.key);\n  return () => true;\n}\nfunction onKeyStroke(...args) {\n  let key;\n  let handler;\n  let options = {};\n  if (args.length === 3) {\n    key = args[0];\n    handler = args[1];\n    options = args[2];\n  } else if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      key = true;\n      handler = args[0];\n      options = args[1];\n    } else {\n      key = args[0];\n      handler = args[1];\n    }\n  } else {\n    key = true;\n    handler = args[0];\n  }\n  const {\n    target = defaultWindow,\n    eventName = \"keydown\",\n    passive = false,\n    dedupe = false\n  } = options;\n  const predicate = createKeyPredicate$1(key);\n  const listener = (e) => {\n    if (e.repeat && toValue(dedupe))\n      return;\n    if (predicate(e))\n      handler(e);\n  };\n  return useEventListener(target, eventName, listener, passive);\n}\nfunction cloneFnJSON(source) {\n  return JSON.parse(JSON.stringify(source));\n}\nfunction useVModel(props, key, emit, options = {}) {\n  var _a, _b, _c;\n  const {\n    clone = false,\n    passive = false,\n    eventName,\n    deep = false,\n    defaultValue,\n    shouldEmit\n  } = options;\n  const vm = getCurrentInstance();\n  const _emit = emit || (vm == null ? void 0 : vm.emit) || ((_a = vm == null ? void 0 : vm.$emit) == null ? void 0 : _a.bind(vm)) || ((_c = (_b = vm == null ? void 0 : vm.proxy) == null ? void 0 : _b.$emit) == null ? void 0 : _c.bind(vm == null ? void 0 : vm.proxy));\n  let event = eventName;\n  if (!key) {\n    {\n      key = \"modelValue\";\n    }\n  }\n  event = event || `update:${key.toString()}`;\n  const cloneFn = (val) => !clone ? val : typeof clone === \"function\" ? clone(val) : cloneFnJSON(val);\n  const getValue = () => isDef$1(props[key]) ? cloneFn(props[key]) : defaultValue;\n  const triggerEmit = (value) => {\n    if (shouldEmit) {\n      if (shouldEmit(value))\n        _emit(event, value);\n    } else {\n      _emit(event, value);\n    }\n  };\n  if (passive) {\n    const initialValue = getValue();\n    const proxy = ref(initialValue);\n    let isUpdating = false;\n    watch(\n      () => props[key],\n      (v) => {\n        if (!isUpdating) {\n          isUpdating = true;\n          proxy.value = cloneFn(v);\n          nextTick(() => isUpdating = false);\n        }\n      }\n    );\n    watch(\n      proxy,\n      (v) => {\n        if (!isUpdating && (v !== props[key] || deep))\n          triggerEmit(v);\n      },\n      { deep }\n    );\n    return proxy;\n  } else {\n    return computed({\n      get() {\n        return getValue();\n      },\n      set(value) {\n        triggerEmit(value);\n      }\n    });\n  }\n}\nvar noop$1 = { value: () => {\n} };\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t))\n      throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\nfunction Dispatch(_) {\n  this._ = _;\n}\nfunction parseTypenames$1(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t))\n      throw new Error(\"unknown type: \" + t);\n    return { type: t, name };\n  });\n}\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._, T = parseTypenames$1(typename + \"\", _), t, i = -1, n = T.length;\n    if (arguments.length < 2) {\n      while (++i < n)\n        if ((t = (typename = T[i]).type) && (t = get$1(_[t], typename.name)))\n          return t;\n      return;\n    }\n    if (callback != null && typeof callback !== \"function\")\n      throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type)\n        _[t] = set$1(_[t], typename.name, callback);\n      else if (callback == null)\n        for (t in _)\n          _[t] = set$1(_[t], typename.name, null);\n    }\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _)\n      copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0)\n      for (var args = new Array(n), i = 0, n, t; i < n; ++i)\n        args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  }\n};\nfunction get$1(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\nfunction set$1(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop$1, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null)\n    type.push({ name, value: callback });\n  return type;\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nconst namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\")\n    name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n}\nfunction creatorInherit(name) {\n  return function() {\n    var document2 = this.ownerDocument, uri = this.namespaceURI;\n    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\nfunction none() {\n}\nfunction selector(selector2) {\n  return selector2 == null ? none : function() {\n    return this.querySelector(selector2);\n  };\n}\nfunction selection_select(select2) {\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\nfunction empty() {\n  return [];\n}\nfunction selectorAll(selector2) {\n  return selector2 == null ? empty : function() {\n    return this.querySelectorAll(selector2);\n  };\n}\nfunction arrayAll(select2) {\n  return function() {\n    return array(select2.apply(this, arguments));\n  };\n}\nfunction selection_selectAll(select2) {\n  if (typeof select2 === \"function\")\n    select2 = arrayAll(select2);\n  else\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select2.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, parents);\n}\nfunction matcher(selector2) {\n  return function() {\n    return this.matches(selector2);\n  };\n}\nfunction childMatcher(selector2) {\n  return function(node) {\n    return node.matches(selector2);\n  };\n}\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\nfunction selection_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction sparse(update) {\n  return new Array(update.length);\n}\nfunction selection_enter() {\n  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum2) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum2;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function(selector2) {\n    return this._parent.querySelector(selector2);\n  },\n  querySelectorAll: function(selector2) {\n    return this._parent.querySelectorAll(selector2);\n  }\n};\nfunction constant$3(x) {\n  return function() {\n    return x;\n  };\n}\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0, node, groupLength = group.length, dataLength = data.length;\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nfunction selection_data(value, key) {\n  if (!arguments.length)\n    return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;\n  if (typeof value !== \"function\")\n    value = constant$3(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j], group = groups[j], groupLength = group.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1)\n          i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength)\n          ;\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection$1(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data : Array.from(data);\n}\nfunction selection_exit() {\n  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter)\n      enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update)\n      update = update.selection();\n  }\n  if (onexit == null)\n    exit.remove();\n  else\n    onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(context) {\n  var selection2 = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection$1(merges, this._parents);\n}\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4)\n          next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}\nfunction selection_sort(compare) {\n  if (!compare)\n    compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection$1(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\nfunction selection_nodes() {\n  return Array.from(this);\n}\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node)\n        return node;\n    }\n  }\n  return null;\n}\nfunction selection_size() {\n  let size = 0;\n  for (const node of this)\n    ++size;\n  return size;\n}\nfunction selection_empty() {\n  return !this.node();\n}\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}\nfunction attrRemove$1(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS$1(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant$1(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS$1(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction$1(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttribute(name);\n    else\n      this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS$1(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttributeNS(fullname.space, fullname.local);\n    else\n      this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS$1 : attrRemove$1 : typeof value === \"function\" ? fullname.local ? attrFunctionNS$1 : attrFunction$1 : fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, value));\n}\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;\n}\nfunction styleRemove$1(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant$1(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction$1(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.style.removeProperty(name);\n    else\n      this.style.setProperty(name, v, priority);\n  };\n}\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove$1 : typeof value === \"function\" ? styleFunction$1 : styleConstant$1)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      delete this[name];\n    else\n      this[name] = v;\n  };\n}\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n)\n      if (!list.contains(names[i]))\n        return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant$1(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction$1(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction$1 : textConstant$1)(value)) : this.node().textContent;\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\nfunction raise() {\n  if (this.nextSibling)\n    this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n  return this.each(raise);\n}\nfunction lower() {\n  if (this.previousSibling)\n    this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n  return this.each(lower);\n}\nfunction selection_append(name) {\n  var create2 = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create2.apply(this, arguments));\n  });\n}\nfunction constantNull() {\n  return null;\n}\nfunction selection_insert(name, before) {\n  var create2 = typeof name === \"function\" ? name : creator(name), select2 = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);\n  });\n}\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent)\n    parent.removeChild(this);\n}\nfunction selection_remove() {\n  return this.each(remove);\n}\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\nfunction contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    return { type: t, name };\n  });\n}\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on)\n      return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i)\n      on.length = i;\n    else\n      delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on)\n      for (var j = 0, m = on.length; j < m; ++j) {\n        if ((o = on[j]).type === typename.type && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.options);\n          this.addEventListener(o.type, o.listener = listener, o.options = options);\n          o.value = value;\n          return;\n        }\n      }\n    this.addEventListener(typename.type, listener, options);\n    o = { type: typename.type, name: typename.name, value, listener, options };\n    if (!on)\n      this.__on = [o];\n    else\n      on.push(o);\n  };\n}\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on)\n      for (var j = 0, m = on.length, o; j < m; ++j) {\n        for (i = 0, o = on[j]; i < n; ++i) {\n          if ((t = typenames[i]).type === o.type && t.name === o.name) {\n            return o.value;\n          }\n        }\n      }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i)\n    this.each(on(typenames[i], value, options));\n  return this;\n}\nfunction dispatchEvent(node, type, params) {\n  var window2 = defaultView(node), event = window2.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window2.document.createEvent(\"Event\");\n    if (params)\n      event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else\n      event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        yield node;\n    }\n  }\n}\nvar root = [null];\nfunction Selection$1(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection() {\n  return new Selection$1([[document.documentElement]], root);\n}\nfunction selection_selection() {\n  return this;\n}\nSelection$1.prototype = selection.prototype = {\n  constructor: Selection$1,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nfunction select(selector2) {\n  return typeof selector2 === \"string\" ? new Selection$1([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$1([[selector2]], root);\n}\nfunction sourceEvent(event) {\n  let sourceEvent2;\n  while (sourceEvent2 = event.sourceEvent)\n    event = sourceEvent2;\n  return event;\n}\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === void 0)\n    node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\nconst nonpassive = { passive: false };\nconst nonpassivecapture = { capture: true, passive: false };\nfunction nopropagation$1(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent$1(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", noevent$1, nonpassivecapture);\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", noevent$1, nonpassivecapture);\n  } else {\n    root2.__noselect = root2.style.MozUserSelect;\n    root2.style.MozUserSelect = \"none\";\n  }\n}\nfunction yesdrag(view, noclick) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection2.on(\"click.drag\", noevent$1, nonpassivecapture);\n    setTimeout(function() {\n      selection2.on(\"click.drag\", null);\n    }, 0);\n  }\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", null);\n  } else {\n    root2.style.MozUserSelect = root2.__noselect;\n    delete root2.__noselect;\n  }\n}\nconst constant$2 = (x) => () => x;\nfunction DragEvent(type, {\n  sourceEvent: sourceEvent2,\n  subject,\n  target,\n  identifier,\n  active,\n  x,\n  y,\n  dx,\n  dy,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    subject: { value: subject, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    identifier: { value: identifier, enumerable: true, configurable: true },\n    active: { value: active, enumerable: true, configurable: true },\n    x: { value: x, enumerable: true, configurable: true },\n    y: { value: y, enumerable: true, configurable: true },\n    dx: { value: dx, enumerable: true, configurable: true },\n    dy: { value: dy, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\nfunction defaultFilter$1(event) {\n  return !event.ctrlKey && !event.button;\n}\nfunction defaultContainer() {\n  return this.parentNode;\n}\nfunction defaultSubject(event, d) {\n  return d == null ? { x: event.x, y: event.y } : d;\n}\nfunction defaultTouchable$1() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction drag() {\n  var filter2 = defaultFilter$1, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable$1, gestures = {}, listeners = dispatch(\"start\", \"drag\", \"end\"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;\n  function drag2(selection2) {\n    selection2.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved, nonpassive).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  function mousedowned(event, d) {\n    if (touchending || !filter2.call(this, event, d))\n      return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture)\n      return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, nonpassivecapture).on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    dragDisable(event.view);\n    nopropagation$1(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n  function mousemoved(event) {\n    noevent$1(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent$1(event);\n    gestures.mouse(\"end\", event);\n  }\n  function touchstarted(event, d) {\n    if (!filter2.call(this, event, d))\n      return;\n    var touches = event.changedTouches, c = container.call(this, event, d), n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation$1(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n  function touchmoved(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent$1(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n  function touchended(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, 500);\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation$1(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n  function beforestart(that, container2, event, d, identifier, touch) {\n    var dispatch2 = listeners.copy(), p = pointer(touch || event, container2), dx, dy, s;\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n      sourceEvent: event,\n      target: drag2,\n      identifier,\n      active,\n      x: p[0],\n      y: p[1],\n      dx: 0,\n      dy: 0,\n      dispatch: dispatch2\n    }), d)) == null)\n      return;\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n    return function gesture(type, event2, touch2) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\":\n          gestures[identifier] = gesture, n = active++;\n          break;\n        case \"end\":\n          delete gestures[identifier], --active;\n        case \"drag\":\n          p = pointer(touch2 || event2, container2), n = active;\n          break;\n      }\n      dispatch2.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event2,\n          subject: s,\n          target: drag2,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch: dispatch2\n        }),\n        d\n      );\n    };\n  }\n  drag2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : filter2;\n  };\n  drag2.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$2(_), drag2) : container;\n  };\n  drag2.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$2(_), drag2) : subject;\n  };\n  drag2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : touchable;\n  };\n  drag2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag2 : value;\n  };\n  drag2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag2) : Math.sqrt(clickDistance2);\n  };\n  return drag2;\n}\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition)\n    prototype[key] = definition[key];\n  return prototype;\n}\nfunction Color() {\n}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\", reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\", reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`), reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`), reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`), reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`), reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`), reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 15792383,\n  antiquewhite: 16444375,\n  aqua: 65535,\n  aquamarine: 8388564,\n  azure: 15794175,\n  beige: 16119260,\n  bisque: 16770244,\n  black: 0,\n  blanchedalmond: 16772045,\n  blue: 255,\n  blueviolet: 9055202,\n  brown: 10824234,\n  burlywood: 14596231,\n  cadetblue: 6266528,\n  chartreuse: 8388352,\n  chocolate: 13789470,\n  coral: 16744272,\n  cornflowerblue: 6591981,\n  cornsilk: 16775388,\n  crimson: 14423100,\n  cyan: 65535,\n  darkblue: 139,\n  darkcyan: 35723,\n  darkgoldenrod: 12092939,\n  darkgray: 11119017,\n  darkgreen: 25600,\n  darkgrey: 11119017,\n  darkkhaki: 12433259,\n  darkmagenta: 9109643,\n  darkolivegreen: 5597999,\n  darkorange: 16747520,\n  darkorchid: 10040012,\n  darkred: 9109504,\n  darksalmon: 15308410,\n  darkseagreen: 9419919,\n  darkslateblue: 4734347,\n  darkslategray: 3100495,\n  darkslategrey: 3100495,\n  darkturquoise: 52945,\n  darkviolet: 9699539,\n  deeppink: 16716947,\n  deepskyblue: 49151,\n  dimgray: 6908265,\n  dimgrey: 6908265,\n  dodgerblue: 2003199,\n  firebrick: 11674146,\n  floralwhite: 16775920,\n  forestgreen: 2263842,\n  fuchsia: 16711935,\n  gainsboro: 14474460,\n  ghostwhite: 16316671,\n  gold: 16766720,\n  goldenrod: 14329120,\n  gray: 8421504,\n  green: 32768,\n  greenyellow: 11403055,\n  grey: 8421504,\n  honeydew: 15794160,\n  hotpink: 16738740,\n  indianred: 13458524,\n  indigo: 4915330,\n  ivory: 16777200,\n  khaki: 15787660,\n  lavender: 15132410,\n  lavenderblush: 16773365,\n  lawngreen: 8190976,\n  lemonchiffon: 16775885,\n  lightblue: 11393254,\n  lightcoral: 15761536,\n  lightcyan: 14745599,\n  lightgoldenrodyellow: 16448210,\n  lightgray: 13882323,\n  lightgreen: 9498256,\n  lightgrey: 13882323,\n  lightpink: 16758465,\n  lightsalmon: 16752762,\n  lightseagreen: 2142890,\n  lightskyblue: 8900346,\n  lightslategray: 7833753,\n  lightslategrey: 7833753,\n  lightsteelblue: 11584734,\n  lightyellow: 16777184,\n  lime: 65280,\n  limegreen: 3329330,\n  linen: 16445670,\n  magenta: 16711935,\n  maroon: 8388608,\n  mediumaquamarine: 6737322,\n  mediumblue: 205,\n  mediumorchid: 12211667,\n  mediumpurple: 9662683,\n  mediumseagreen: 3978097,\n  mediumslateblue: 8087790,\n  mediumspringgreen: 64154,\n  mediumturquoise: 4772300,\n  mediumvioletred: 13047173,\n  midnightblue: 1644912,\n  mintcream: 16121850,\n  mistyrose: 16770273,\n  moccasin: 16770229,\n  navajowhite: 16768685,\n  navy: 128,\n  oldlace: 16643558,\n  olive: 8421376,\n  olivedrab: 7048739,\n  orange: 16753920,\n  orangered: 16729344,\n  orchid: 14315734,\n  palegoldenrod: 15657130,\n  palegreen: 10025880,\n  paleturquoise: 11529966,\n  palevioletred: 14381203,\n  papayawhip: 16773077,\n  peachpuff: 16767673,\n  peru: 13468991,\n  pink: 16761035,\n  plum: 14524637,\n  powderblue: 11591910,\n  purple: 8388736,\n  rebeccapurple: 6697881,\n  red: 16711680,\n  rosybrown: 12357519,\n  royalblue: 4286945,\n  saddlebrown: 9127187,\n  salmon: 16416882,\n  sandybrown: 16032864,\n  seagreen: 3050327,\n  seashell: 16774638,\n  sienna: 10506797,\n  silver: 12632256,\n  skyblue: 8900331,\n  slateblue: 6970061,\n  slategray: 7372944,\n  slategrey: 7372944,\n  snow: 16775930,\n  springgreen: 65407,\n  steelblue: 4620980,\n  tan: 13808780,\n  teal: 32896,\n  thistle: 14204888,\n  tomato: 16737095,\n  turquoise: 4251856,\n  violet: 15631086,\n  wheat: 16113331,\n  white: 16777215,\n  whitesmoke: 16119285,\n  yellow: 16776960,\n  yellowgreen: 10145074\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0)\n    r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h2, s, l, a) {\n  if (a <= 0)\n    h2 = s = l = NaN;\n  else if (l <= 0 || l >= 1)\n    h2 = s = NaN;\n  else if (s <= 0)\n    h2 = NaN;\n  return new Hsl(h2, s, l, a);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl)\n    return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Hsl();\n  if (o instanceof Hsl)\n    return o;\n  o = o.rgb();\n  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h2 = NaN, s = max - min, l = (max + min) / 2;\n  if (s) {\n    if (r === max)\n      h2 = (g - b) / s + (g < b) * 6;\n    else if (g === max)\n      h2 = (b - r) / s + 2;\n    else\n      h2 = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h2 *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h2;\n  }\n  return new Hsl(h2, s, l, o.opacity);\n}\nfunction hsl(h2, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h2) : new Hsl(h2, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h2, s, l, opacity) {\n  this.h = +h2;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h2 = this.h % 360 + (this.h < 0) * 360, s = isNaN(h2) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h2 >= 240 ? h2 - 240 : h2 + 120, m1, m2),\n      hsl2rgb(h2, m1, m2),\n      hsl2rgb(h2 < 120 ? h2 + 240 : h2 - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\nfunction hsl2rgb(h2, m1, m2) {\n  return (h2 < 60 ? m1 + (m2 - m1) * h2 / 60 : h2 < 180 ? m2 : h2 < 240 ? m1 + (m2 - m1) * (240 - h2) / 60 : m1) * 255;\n}\nconst constant$1 = (x) => () => x;\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant$1(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$1(isNaN(a) ? b : a);\n}\nconst interpolateRgb = function rgbGamma(y) {\n  var color2 = gamma(y);\n  function rgb$1(start2, end) {\n    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);\n    return function(t) {\n      start2.r = r(t);\n      start2.g = g(t);\n      start2.b = b(t);\n      start2.opacity = opacity(t);\n      return start2 + \"\";\n    };\n  }\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n  a = a + \"\", b = b + \"\";\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      bs = b.slice(bi, bs);\n      if (s[i])\n        s[i] += bs;\n      else\n        s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      if (s[i])\n        s[i] += bm;\n      else\n        s[++i] = bm;\n    } else {\n      s[++i] = null;\n      q.push({ i, x: interpolateNumber(am, bm) });\n    }\n    bi = reB.lastIndex;\n  }\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i])\n      s[i] += bs;\n    else\n      s[++i] = bs;\n  }\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {\n    for (var i2 = 0, o; i2 < b; ++i2)\n      s[(o = q[i2]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}\nvar degrees = 180 / Math.PI;\nvar identity$1 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b))\n    a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d)\n    c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d))\n    c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c)\n    a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX,\n    scaleY\n  };\n}\nvar svgNode;\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity$1 : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nfunction parseSvg(value) {\n  if (value == null)\n    return identity$1;\n  if (!svgNode)\n    svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate()))\n    return identity$1;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180)\n        b += 360;\n      else if (b - a > 180)\n        a += 360;\n      q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function(a, b) {\n    var s = [], q = [];\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n)\n        s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar epsilon2 = 1e-12;\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\nconst interpolateZoom = function zoomRho(rho, rho2, rho4) {\n  function zoom2(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      };\n    }\n    i.duration = S * 1e3 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom2.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom2;\n}(Math.SQRT2, 2, 4);\nvar frame = 0, timeout$1 = 0, interval = 0, pokeDelay = 1e3, taskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === \"object\" && performance.now ? performance : Date, setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {\n  setTimeout(f, 17);\n};\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n  clockNow = 0;\n}\nfunction Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\")\n      throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail)\n        taskTail._next = this;\n      else\n        taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nfunction timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nfunction timerFlush() {\n  now();\n  ++frame;\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0)\n      t._call.call(void 0, e);\n    t = t._next;\n  }\n  --frame;\n}\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout$1 = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\nfunction poke() {\n  var now2 = clock.now(), delay = now2 - clockLast;\n  if (delay > pokeDelay)\n    clockSkew -= delay, clockLast = now2;\n}\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time)\n        time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\nfunction sleep(time) {\n  if (frame)\n    return;\n  if (timeout$1)\n    timeout$1 = clearTimeout(timeout$1);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity)\n      timeout$1 = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval)\n      interval = clearInterval(interval);\n  } else {\n    if (!interval)\n      clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\nfunction timeout(callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart((elapsed) => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id2, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules)\n    node.__transition = {};\n  else if (id2 in schedules)\n    return;\n  create(node, id2, {\n    name,\n    index,\n    // For context during callback.\n    group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nfunction init(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > CREATED)\n    throw new Error(\"too late; already scheduled\");\n  return schedule2;\n}\nfunction set(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > STARTED)\n    throw new Error(\"too late; already running\");\n  return schedule2;\n}\nfunction get(node, id2) {\n  var schedule2 = node.__transition;\n  if (!schedule2 || !(schedule2 = schedule2[id2]))\n    throw new Error(\"transition not found\");\n  return schedule2;\n}\nfunction create(node, id2, self) {\n  var schedules = node.__transition, tween;\n  schedules[id2] = self;\n  self.timer = timer(schedule2, 0, self.time);\n  function schedule2(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start2, self.delay, self.time);\n    if (self.delay <= elapsed)\n      start2(elapsed - self.delay);\n  }\n  function start2(elapsed) {\n    var i, j, n, o;\n    if (self.state !== SCHEDULED)\n      return stop();\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name)\n        continue;\n      if (o.state === STARTED)\n        return timeout(start2);\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } else if (+i < id2) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING)\n      return;\n    self.state = STARTED;\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id2];\n    for (var i in schedules)\n      return;\n    delete node.__transition;\n  }\n}\nfunction interrupt(node, name) {\n  var schedules = node.__transition, schedule2, active, empty2 = true, i;\n  if (!schedules)\n    return;\n  name = name == null ? null : name + \"\";\n  for (i in schedules) {\n    if ((schedule2 = schedules[i]).name !== name) {\n      empty2 = false;\n      continue;\n    }\n    active = schedule2.state > STARTING && schedule2.state < ENDING;\n    schedule2.state = ENDED;\n    schedule2.timer.stop();\n    schedule2.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule2.index, schedule2.group);\n    delete schedules[i];\n  }\n  if (empty2)\n    delete node.__transition;\n}\nfunction selection_interrupt(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\nfunction tweenRemove(id2, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction tweenFunction(id2, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n)\n        tween1.push(t);\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction transition_tween(name, value) {\n  var id2 = this._id;\n  name += \"\";\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id2).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));\n}\nfunction tweenValue(transition2, name, value) {\n  var id2 = transition2._id;\n  transition2.each(function() {\n    var schedule2 = set(this, id2);\n    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function(node) {\n    return get(node, id2).value[name];\n  };\n}\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrConstantNS(fullname, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction attrFunctionNS(fullname, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction transition_attr(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id2, value) {\n  return function() {\n    init(this, id2).delay = +value.apply(this, arguments);\n  };\n}\nfunction delayConstant(id2, value) {\n  return value = +value, function() {\n    init(this, id2).delay = value;\n  };\n}\nfunction transition_delay(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id2, value)) : get(this.node(), id2).delay;\n}\nfunction durationFunction(id2, value) {\n  return function() {\n    set(this, id2).duration = +value.apply(this, arguments);\n  };\n}\nfunction durationConstant(id2, value) {\n  return value = +value, function() {\n    set(this, id2).duration = value;\n  };\n}\nfunction transition_duration(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id2, value)) : get(this.node(), id2).duration;\n}\nfunction easeConstant(id2, value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    set(this, id2).ease = value;\n  };\n}\nfunction transition_ease(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each(easeConstant(id2, value)) : get(this.node(), id2).ease;\n}\nfunction easeVarying(id2, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\")\n      throw new Error();\n    set(this, id2).ease = v;\n  };\n}\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.each(easeVarying(this._id, value));\n}\nfunction transition_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition2) {\n  if (transition2._id !== this._id)\n    throw new Error();\n  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0)\n      t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\nfunction onFunction(id2, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule2 = sit(this, id2), on = schedule2.on;\n    if (on !== on0)\n      (on1 = (on0 = on).copy()).on(name, listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_on(name, listener) {\n  var id2 = this._id;\n  return arguments.length < 2 ? get(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));\n}\nfunction removeFunction(id2) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition)\n      if (+i !== id2)\n        return;\n    if (parent)\n      parent.removeChild(this);\n  };\n}\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id2, i, subgroup, get(node, id2));\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, name, id2);\n}\nfunction transition_selectAll(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children2 = select2.call(node, node.__data__, i, group), child, inherit2 = get(node, id2), k = 0, l = children2.length; k < l; ++k) {\n          if (child = children2[k]) {\n            schedule(child, name, id2, k, children2, inherit2);\n          }\n        }\n        subgroups.push(children2);\n        parents.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, parents, name, id2);\n}\nvar Selection = selection.prototype.constructor;\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate2) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);\n  };\n}\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction styleFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + \"\";\n    if (value1 == null)\n      string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction styleMaybeRemove(id2, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove2;\n  return function() {\n    var schedule2 = set(this, id2), on = schedule2.on, listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove(name)) : void 0;\n    if (on !== on0 || listener0 !== listener)\n      (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}\nfunction textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, textTween(value));\n}\nfunction transition_transition() {\n  var name = this._name, id0 = this._id, id1 = newId();\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit2 = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit2.time + inherit2.delay + inherit2.duration,\n          delay: 0,\n          duration: inherit2.duration,\n          ease: inherit2.ease\n        });\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n  var on0, on1, that = this, id2 = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = { value: reject }, end = { value: function() {\n      if (--size === 0)\n        resolve();\n    } };\n    that.each(function() {\n      var schedule2 = set(this, id2), on = schedule2.on;\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n      schedule2.on = on1;\n    });\n    if (size === 0)\n      resolve();\n  });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id2) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id2;\n}\nfunction newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\nfunction inherit(node, id2) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id2])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id2} not found`);\n    }\n  }\n  return timing;\n}\nfunction selection_transition(name) {\n  var id2, timing;\n  if (name instanceof Transition) {\n    id2 = name._id, name = name._name;\n  } else {\n    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id2, i, group, timing || inherit(node, id2));\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id2);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\nconst constant = (x) => () => x;\nfunction ZoomEvent(type, {\n  sourceEvent: sourceEvent2,\n  target,\n  transform,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    transform: { value: transform, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nvar identity = new Transform(1, 0, 0);\nTransform.prototype;\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === \"wheel\") && !event.button;\n}\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\nfunction zoom() {\n  var filter2 = defaultFilter, extent = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate2 = interpolateZoom, listeners = dispatch(\"start\", \"zoom\", \"end\"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;\n  function zoom2(selection2) {\n    selection2.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled, { passive: false }).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  zoom2.transform = function(collection, transform, point, event) {\n    var selection2 = collection.selection ? collection.selection() : collection;\n    selection2.property(\"__zoom\", defaultTransform);\n    if (collection !== selection2) {\n      schedule2(collection, transform, point, event);\n    } else {\n      selection2.interrupt().each(function() {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n  zoom2.scaleBy = function(selection2, k, p, event) {\n    zoom2.scaleTo(selection2, function() {\n      var k0 = this.__zoom.k, k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n  zoom2.scaleTo = function(selection2, k, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n  zoom2.translateBy = function(selection2, x, y, event) {\n    zoom2.transform(selection2, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n  zoom2.translateTo = function(selection2, x, y, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n  function centroid(extent2) {\n    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];\n  }\n  function schedule2(transition2, transform, point, event) {\n    transition2.on(\"start.zoom\", function() {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function() {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function() {\n      var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform === \"function\" ? transform.apply(that, args) : transform, i = interpolate2(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function(t) {\n        if (t === 1)\n          t = b;\n        else {\n          var l = i(t), k = w / l[2];\n          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n        }\n        g.zoom(null, t);\n      };\n    });\n  }\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n  Gesture.prototype = {\n    event: function(event) {\n      if (event)\n        this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\")\n        this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\")\n        this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\")\n        this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom2,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n  function wheeled(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = pointer(event);\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    } else if (t.k === k)\n      return;\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n  function mousedowned(event, ...args) {\n    if (touchending || !filter2.apply(this, arguments))\n      return;\n    var currentTarget = event.currentTarget, g = gesture(this, args, true).event(event), v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true), p = pointer(event, currentTarget), x0 = event.clientX, y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n    function mousemoved(event2) {\n      noevent(event2);\n      if (!g.moved) {\n        var dx = event2.clientX - x0, dy = event2.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event2).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n    function mouseupped(event2) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event2.view, g.moved);\n      noevent(event2);\n      g.event(event2).end();\n    }\n  }\n  function dblclicked(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var t0 = this.__zoom, p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent(event);\n    if (duration > 0)\n      select(this).transition().duration(duration).call(schedule2, t1, p0, event);\n    else\n      select(this).call(zoom2.transform, t1, p0, event);\n  }\n  function touchstarted(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i, t, p;\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0)\n        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2])\n        g.touch1 = p, g.taps = 0;\n    }\n    if (touchstarting)\n      touchstarting = clearTimeout(touchstarting);\n    if (started) {\n      if (g.taps < 2)\n        touchfirst = p[0], touchstarting = setTimeout(function() {\n          touchstarting = null;\n        }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n  function touchmoved(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t, p, l;\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0)\n      p = g.touch0[0], l = g.touch0[1];\n    else\n      return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n  function touchended(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t;\n    nopropagation(event);\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0)\n      g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0)\n      g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p)\n            p.apply(this, arguments);\n        }\n      }\n    }\n  }\n  zoom2.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom2) : wheelDelta;\n  };\n  zoom2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : filter2;\n  };\n  zoom2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : touchable;\n  };\n  zoom2.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom2) : extent;\n  };\n  zoom2.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom2) : [scaleExtent[0], scaleExtent[1]];\n  };\n  zoom2.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n  zoom2.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom2) : constrain;\n  };\n  zoom2.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom2) : duration;\n  };\n  zoom2.interpolate = function(_) {\n    return arguments.length ? (interpolate2 = _, zoom2) : interpolate2;\n  };\n  zoom2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom2 : value;\n  };\n  zoom2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom2) : Math.sqrt(clickDistance2);\n  };\n  zoom2.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom2) : tapDistance;\n  };\n  return zoom2;\n}\nvar Position = /* @__PURE__ */ ((Position2) => {\n  Position2[\"Left\"] = \"left\";\n  Position2[\"Top\"] = \"top\";\n  Position2[\"Right\"] = \"right\";\n  Position2[\"Bottom\"] = \"bottom\";\n  return Position2;\n})(Position || {});\nvar SelectionMode = /* @__PURE__ */ ((SelectionMode2) => {\n  SelectionMode2[\"Partial\"] = \"partial\";\n  SelectionMode2[\"Full\"] = \"full\";\n  return SelectionMode2;\n})(SelectionMode || {});\nvar ConnectionLineType = /* @__PURE__ */ ((ConnectionLineType2) => {\n  ConnectionLineType2[\"Bezier\"] = \"default\";\n  ConnectionLineType2[\"SimpleBezier\"] = \"simple-bezier\";\n  ConnectionLineType2[\"Straight\"] = \"straight\";\n  ConnectionLineType2[\"Step\"] = \"step\";\n  ConnectionLineType2[\"SmoothStep\"] = \"smoothstep\";\n  return ConnectionLineType2;\n})(ConnectionLineType || {});\nvar ConnectionMode = /* @__PURE__ */ ((ConnectionMode2) => {\n  ConnectionMode2[\"Strict\"] = \"strict\";\n  ConnectionMode2[\"Loose\"] = \"loose\";\n  return ConnectionMode2;\n})(ConnectionMode || {});\nvar MarkerType = /* @__PURE__ */ ((MarkerType2) => {\n  MarkerType2[\"Arrow\"] = \"arrow\";\n  MarkerType2[\"ArrowClosed\"] = \"arrowclosed\";\n  return MarkerType2;\n})(MarkerType || {});\nvar PanOnScrollMode = /* @__PURE__ */ ((PanOnScrollMode2) => {\n  PanOnScrollMode2[\"Free\"] = \"free\";\n  PanOnScrollMode2[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode2[\"Horizontal\"] = \"horizontal\";\n  return PanOnScrollMode2;\n})(PanOnScrollMode || {});\nvar PanelPosition = /* @__PURE__ */ ((PanelPosition2) => {\n  PanelPosition2[\"TopLeft\"] = \"top-left\";\n  PanelPosition2[\"TopCenter\"] = \"top-center\";\n  PanelPosition2[\"TopRight\"] = \"top-right\";\n  PanelPosition2[\"BottomLeft\"] = \"bottom-left\";\n  PanelPosition2[\"BottomCenter\"] = \"bottom-center\";\n  PanelPosition2[\"BottomRight\"] = \"bottom-right\";\n  return PanelPosition2;\n})(PanelPosition || {});\nconst inputTags = [\"INPUT\", \"SELECT\", \"TEXTAREA\"];\nfunction isInputDOMNode(event) {\n  var _a, _b;\n  const target = ((_b = (_a = event.composedPath) == null ? void 0 : _a.call(event)) == null ? void 0 : _b[0]) || event.target;\n  const hasAttribute = typeof (target == null ? void 0 : target.hasAttribute) === \"function\" ? target.hasAttribute(\"contenteditable\") : false;\n  const closest = typeof (target == null ? void 0 : target.closest) === \"function\" ? target.closest(\".nokey\") : null;\n  return inputTags.includes(target == null ? void 0 : target.nodeName) || hasAttribute || !!closest;\n}\nfunction wasModifierPressed(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey || event.altKey;\n}\nfunction isKeyMatch(pressedKey, keyToMatch, pressedKeys, isKeyUp) {\n  const keyCombination = keyToMatch.replace(\"+\", \"\\n\").replace(\"\\n\\n\", \"\\n+\").split(\"\\n\").map((k) => k.trim().toLowerCase());\n  if (keyCombination.length === 1) {\n    return pressedKey.toLowerCase() === keyToMatch.toLowerCase();\n  }\n  if (!isKeyUp) {\n    pressedKeys.add(pressedKey.toLowerCase());\n  }\n  const isMatch = keyCombination.every(\n    (key, index) => pressedKeys.has(key) && Array.from(pressedKeys.values())[index] === keyCombination[index]\n  );\n  if (isKeyUp) {\n    pressedKeys.delete(pressedKey.toLowerCase());\n  }\n  return isMatch;\n}\nfunction createKeyPredicate(keyFilter, pressedKeys) {\n  return (event) => {\n    if (!event.code && !event.key) {\n      return false;\n    }\n    const keyOrCode = useKeyOrCode(event.code, keyFilter);\n    if (Array.isArray(keyFilter)) {\n      return keyFilter.some((key) => isKeyMatch(event[keyOrCode], key, pressedKeys, event.type === \"keyup\"));\n    }\n    return isKeyMatch(event[keyOrCode], keyFilter, pressedKeys, event.type === \"keyup\");\n  };\n}\nfunction useKeyOrCode(code, keysToWatch) {\n  return keysToWatch.includes(code) ? \"code\" : \"key\";\n}\nfunction useKeyPress(keyFilter, options) {\n  const actInsideInputWithModifier = toRef(() => toValue$1(options == null ? void 0 : options.actInsideInputWithModifier) ?? false);\n  const target = toRef(() => toValue$1(options == null ? void 0 : options.target) ?? window);\n  const preventDefault = toRef(() => toValue$1(options == null ? void 0 : options.preventDefault) ?? true);\n  const isPressed = ref(toValue$1(keyFilter) === true);\n  let modifierPressed = false;\n  const pressedKeys = /* @__PURE__ */ new Set();\n  let currentFilter = createKeyFilterFn(toValue$1(keyFilter));\n  watch(\n    () => toValue$1(keyFilter),\n    (nextKeyFilter, previousKeyFilter) => {\n      if (typeof previousKeyFilter === \"boolean\" && typeof nextKeyFilter !== \"boolean\") {\n        reset();\n      }\n      currentFilter = createKeyFilterFn(nextKeyFilter);\n    },\n    {\n      immediate: true\n    }\n  );\n  useEventListener([\"blur\", \"contextmenu\"], reset);\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      var _a, _b;\n      modifierPressed = wasModifierPressed(e);\n      const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier.value) && isInputDOMNode(e);\n      if (preventAction) {\n        return;\n      }\n      const target2 = ((_b = (_a = e.composedPath) == null ? void 0 : _a.call(e)) == null ? void 0 : _b[0]) || e.target;\n      const isInteractiveElement = (target2 == null ? void 0 : target2.nodeName) === \"BUTTON\" || (target2 == null ? void 0 : target2.nodeName) === \"A\";\n      if (!preventDefault.value && (modifierPressed || !isInteractiveElement)) {\n        e.preventDefault();\n      }\n      isPressed.value = true;\n    },\n    { eventName: \"keydown\", target }\n  );\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      if (isPressed.value) {\n        const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier.value) && isInputDOMNode(e);\n        if (preventAction) {\n          return;\n        }\n        modifierPressed = false;\n        isPressed.value = false;\n      }\n    },\n    { eventName: \"keyup\", target }\n  );\n  function reset() {\n    modifierPressed = false;\n    pressedKeys.clear();\n    isPressed.value = toValue$1(keyFilter) === true;\n  }\n  function createKeyFilterFn(keyFilter2) {\n    if (keyFilter2 === null) {\n      reset();\n      return () => false;\n    }\n    if (typeof keyFilter2 === \"boolean\") {\n      reset();\n      isPressed.value = keyFilter2;\n      return () => false;\n    }\n    if (Array.isArray(keyFilter2) || typeof keyFilter2 === \"string\") {\n      return createKeyPredicate(keyFilter2, pressedKeys);\n    }\n    return keyFilter2;\n  }\n  return isPressed;\n}\nconst ARIA_NODE_DESC_KEY = \"vue-flow__node-desc\";\nconst ARIA_EDGE_DESC_KEY = \"vue-flow__edge-desc\";\nconst ARIA_LIVE_MESSAGE = \"vue-flow__aria-live\";\nconst elementSelectionKeys = [\"Enter\", \" \", \"Escape\"];\nconst arrowKeyDiffs = {\n  ArrowUp: { x: 0, y: -1 },\n  ArrowDown: { x: 0, y: 1 },\n  ArrowLeft: { x: -1, y: 0 },\n  ArrowRight: { x: 1, y: 0 }\n};\nfunction nodeToRect(node) {\n  return {\n    ...node.computedPosition || { x: 0, y: 0 },\n    width: node.dimensions.width || 0,\n    height: node.dimensions.height || 0\n  };\n}\nfunction getOverlappingArea(rectA, rectB) {\n  const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n  const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n  return Math.ceil(xOverlap * yOverlap);\n}\nfunction getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n}\nfunction clamp(val, min = 0, max = 1) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction clampPosition(position, extent) {\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n}\nfunction getHostForElement(element) {\n  const doc = element.getRootNode();\n  if (\"elementFromPoint\" in doc) {\n    return doc;\n  }\n  return window.document;\n}\nfunction isEdge(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"source\" in element && \"target\" in element;\n}\nfunction isGraphEdge(element) {\n  return isEdge(element) && \"sourceNode\" in element && \"targetNode\" in element;\n}\nfunction isNode(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"position\" in element && !isEdge(element);\n}\nfunction isGraphNode(element) {\n  return isNode(element) && \"computedPosition\" in element;\n}\nfunction isNumeric(n) {\n  return !Number.isNaN(n) && Number.isFinite(n);\n}\nfunction isRect(obj) {\n  return isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n}\nfunction parseNode(node, existingNode, parentNode) {\n  const initialState = {\n    id: node.id.toString(),\n    type: node.type ?? \"default\",\n    dimensions: markRaw({\n      width: 0,\n      height: 0\n    }),\n    computedPosition: markRaw({\n      z: 0,\n      ...node.position\n    }),\n    // todo: shouldn't be defined initially, as we want to use handleBounds to check if a node was actually initialized or not\n    handleBounds: {\n      source: [],\n      target: []\n    },\n    draggable: void 0,\n    selectable: void 0,\n    connectable: void 0,\n    focusable: void 0,\n    selected: false,\n    dragging: false,\n    resizing: false,\n    initialized: false,\n    isParent: false,\n    position: {\n      x: 0,\n      y: 0\n    },\n    data: isDef(node.data) ? node.data : {},\n    events: markRaw(isDef(node.events) ? node.events : {})\n  };\n  return Object.assign(existingNode ?? initialState, node, { id: node.id.toString(), parentNode });\n}\nfunction parseEdge(edge, existingEdge, defaultEdgeOptions) {\n  var _a, _b;\n  const initialState = {\n    id: edge.id.toString(),\n    type: edge.type ?? (existingEdge == null ? void 0 : existingEdge.type) ?? \"default\",\n    source: edge.source.toString(),\n    target: edge.target.toString(),\n    sourceHandle: (_a = edge.sourceHandle) == null ? void 0 : _a.toString(),\n    targetHandle: (_b = edge.targetHandle) == null ? void 0 : _b.toString(),\n    updatable: edge.updatable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.updatable),\n    selectable: edge.selectable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.selectable),\n    focusable: edge.focusable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.focusable),\n    data: isDef(edge.data) ? edge.data : {},\n    events: markRaw(isDef(edge.events) ? edge.events : {}),\n    label: edge.label ?? \"\",\n    interactionWidth: edge.interactionWidth ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.interactionWidth),\n    ...defaultEdgeOptions ?? {}\n  };\n  return Object.assign(existingEdge ?? initialState, edge, { id: edge.id.toString() });\n}\nfunction getConnectedElements(nodeOrId, nodes, edges, dir) {\n  const id2 = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const connectedIds = /* @__PURE__ */ new Set();\n  const origin = dir === \"source\" ? \"target\" : \"source\";\n  for (const edge of edges) {\n    if (edge[origin] === id2) {\n      connectedIds.add(edge[dir]);\n    }\n  }\n  return nodes.filter((n) => connectedIds.has(n.id));\n}\nfunction getOutgoers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"target\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const outgoers = elements.filter((el) => isEdge(el) && el.source === nodeId);\n  return outgoers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.target));\n}\nfunction getIncomers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"source\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const incomers = elements.filter((el) => isEdge(el) && el.target === nodeId);\n  return incomers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.source));\n}\nfunction getEdgeId({ source, sourceHandle, target, targetHandle }) {\n  return `vueflow__edge-${source}${sourceHandle ?? \"\"}-${target}${targetHandle ?? \"\"}`;\n}\nfunction connectionExists(edge, elements) {\n  return elements.some(\n    (el) => isEdge(el) && el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle)\n  );\n}\nfunction addEdge(edgeParams, elements, defaults) {\n  if (!edgeParams.source || !edgeParams.target) {\n    warn(\"Can't create edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = { ...edgeParams };\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaults);\n  if (connectionExists(edge, elements)) {\n    return elements;\n  }\n  elements.push(edge);\n  return elements;\n}\nfunction updateEdge(oldEdge, newConnection, elements) {\n  if (!newConnection.source || !newConnection.target) {\n    warn(\"Can't create new edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  const foundEdge = elements.find((e) => isEdge(e) && e.id === oldEdge.id);\n  if (!foundEdge) {\n    warn(`The old edge with id=${oldEdge.id} does not exist.`);\n    return elements;\n  }\n  const edge = {\n    ...oldEdge,\n    id: getEdgeId(newConnection),\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  elements.splice(elements.indexOf(foundEdge), 1, edge);\n  return elements.filter((e) => e.id !== oldEdge.id);\n}\nfunction rendererPointToPoint({ x, y }, { x: tx, y: ty, zoom: tScale }) {\n  return {\n    x: x * tScale + tx,\n    y: y * tScale + ty\n  };\n}\nfunction pointToRendererPoint({ x, y }, { x: tx, y: ty, zoom: tScale }, snapToGrid = false, snapGrid = [1, 1]) {\n  const position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n  return snapToGrid ? snapPosition(position, snapGrid) : position;\n}\nfunction getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n}\nfunction rectToBox({ x, y, width, height }) {\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height\n  };\n}\nfunction boxToRect({ x, y, x2, y2 }) {\n  return {\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y\n  };\n}\nfunction getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n}\nfunction getRectOfNodes(nodes) {\n  let box = {\n    x: Number.POSITIVE_INFINITY,\n    y: Number.POSITIVE_INFINITY,\n    x2: Number.NEGATIVE_INFINITY,\n    y2: Number.NEGATIVE_INFINITY\n  };\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    box = getBoundsOfBoxes(\n      box,\n      rectToBox({\n        ...node.computedPosition,\n        ...node.dimensions\n      })\n    );\n  }\n  return boxToRect(box);\n}\nfunction getNodesInside(nodes, rect, viewport = { x: 0, y: 0, zoom: 1 }, partially = false, excludeNonSelectableNodes = false) {\n  const paneRect = {\n    ...pointToRendererPoint(rect, viewport),\n    width: rect.width / viewport.zoom,\n    height: rect.height / viewport.zoom\n  };\n  const visibleNodes = [];\n  for (const node of nodes) {\n    const { dimensions, selectable = true, hidden = false } = node;\n    const width = dimensions.width ?? node.width ?? null;\n    const height = dimensions.height ?? node.height ?? null;\n    if (excludeNonSelectableNodes && !selectable || hidden) {\n      continue;\n    }\n    const overlappingArea = getOverlappingArea(paneRect, nodeToRect(node));\n    const notInitialized = width === null || height === null;\n    const partiallyVisible = partially && overlappingArea > 0;\n    const area = (width ?? 0) * (height ?? 0);\n    const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n    if (isVisible || node.dragging) {\n      visibleNodes.push(node);\n    }\n  }\n  return visibleNodes;\n}\nfunction getConnectedEdges(nodesOrId, edges) {\n  const nodeIds = /* @__PURE__ */ new Set();\n  if (typeof nodesOrId === \"string\") {\n    nodeIds.add(nodesOrId);\n  } else if (nodesOrId.length >= 1) {\n    for (const n of nodesOrId) {\n      nodeIds.add(n.id);\n    }\n  }\n  return edges.filter((edge) => nodeIds.has(edge.source) || nodeIds.has(edge.target));\n}\nfunction getTransformForBounds(bounds, width, height, minZoom, maxZoom, padding = 0.1, offset = { x: 0, y: 0 }) {\n  const xZoom = width / (bounds.width * (1 + padding));\n  const yZoom = height / (bounds.height * (1 + padding));\n  const zoom2 = Math.min(xZoom, yZoom);\n  const clampedZoom = clamp(zoom2, minZoom, maxZoom);\n  const boundsCenterX = bounds.x + bounds.width / 2;\n  const boundsCenterY = bounds.y + bounds.height / 2;\n  const x = width / 2 - boundsCenterX * clampedZoom + (offset.x ?? 0);\n  const y = height / 2 - boundsCenterY * clampedZoom + (offset.y ?? 0);\n  return { x, y, zoom: clampedZoom };\n}\nfunction getXYZPos(parentPos, computedPosition) {\n  return {\n    x: computedPosition.x + parentPos.x,\n    y: computedPosition.y + parentPos.y,\n    z: (parentPos.z > computedPosition.z ? parentPos.z : computedPosition.z) + 1\n  };\n}\nfunction isParentSelected(node, findNode) {\n  if (!node.parentNode) {\n    return false;\n  }\n  const parent = findNode(node.parentNode);\n  if (!parent) {\n    return false;\n  }\n  if (parent.selected) {\n    return true;\n  }\n  return isParentSelected(parent, findNode);\n}\nfunction getMarkerId(marker, vueFlowId) {\n  if (typeof marker === \"undefined\") {\n    return \"\";\n  }\n  if (typeof marker === \"string\") {\n    return marker;\n  }\n  const idPrefix = vueFlowId ? `${vueFlowId}__` : \"\";\n  return `${idPrefix}${Object.keys(marker).sort().map((key) => `${key}=${marker[key]}`).join(\"&\")}`;\n}\nfunction calcAutoPanVelocity(value, min, max) {\n  if (value < min) {\n    return clamp(Math.abs(value - min), 1, min) / min;\n  }\n  if (value > max) {\n    return -clamp(Math.abs(value - max), 1, min) / min;\n  }\n  return 0;\n}\nfunction calcAutoPan(pos, bounds, speed = 15, distance2 = 40) {\n  const xMovement = calcAutoPanVelocity(pos.x, distance2, bounds.width - distance2) * speed;\n  const yMovement = calcAutoPanVelocity(pos.y, distance2, bounds.height - distance2) * speed;\n  return [xMovement, yMovement];\n}\nfunction handleParentExpand(updateItem, parent) {\n  if (parent) {\n    const extendWidth = updateItem.position.x + updateItem.dimensions.width - parent.dimensions.width;\n    const extendHeight = updateItem.position.y + updateItem.dimensions.height - parent.dimensions.height;\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      let parentStyles = {};\n      if (typeof parent.style === \"function\") {\n        parentStyles = { ...parent.style(parent) };\n      } else if (parent.style) {\n        parentStyles = { ...parent.style };\n      }\n      parentStyles.width = parentStyles.width ?? `${parent.dimensions.width}px`;\n      parentStyles.height = parentStyles.height ?? `${parent.dimensions.height}px`;\n      if (extendWidth > 0) {\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + extendWidth}px`;\n        } else {\n          parentStyles.width += extendWidth;\n        }\n      }\n      if (extendHeight > 0) {\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + extendHeight}px`;\n        } else {\n          parentStyles.height += extendHeight;\n        }\n      }\n      if (updateItem.position.x < 0) {\n        const xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + xDiff}px`;\n        } else {\n          parentStyles.width += xDiff;\n        }\n        updateItem.position.x = 0;\n      }\n      if (updateItem.position.y < 0) {\n        const yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + yDiff}px`;\n        } else {\n          parentStyles.height += yDiff;\n        }\n        updateItem.position.y = 0;\n      }\n      parent.dimensions.width = Number(parentStyles.width.toString().replace(\"px\", \"\"));\n      parent.dimensions.height = Number(parentStyles.height.toString().replace(\"px\", \"\"));\n      if (typeof parent.style === \"function\") {\n        parent.style = (p) => {\n          const styleFunc = parent.style;\n          return {\n            ...styleFunc(p),\n            ...parentStyles\n          };\n        };\n      } else {\n        parent.style = {\n          ...parent.style,\n          ...parentStyles\n        };\n      }\n    }\n  }\n}\nfunction applyChanges(changes, elements) {\n  var _a, _b;\n  const addRemoveChanges = changes.filter((c) => c.type === \"add\" || c.type === \"remove\");\n  for (const change of addRemoveChanges) {\n    if (change.type === \"add\") {\n      const index = elements.findIndex((el) => el.id === change.item.id);\n      if (index === -1) {\n        elements.push(change.item);\n      }\n    } else if (change.type === \"remove\") {\n      const index = elements.findIndex((el) => el.id === change.id);\n      if (index !== -1) {\n        elements.splice(index, 1);\n      }\n    }\n  }\n  const elementIds = elements.map((el) => el.id);\n  for (const element of elements) {\n    for (const currentChange of changes) {\n      if (currentChange.id !== element.id) {\n        continue;\n      }\n      switch (currentChange.type) {\n        case \"select\":\n          element.selected = currentChange.selected;\n          break;\n        case \"position\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.position !== \"undefined\") {\n              element.position = currentChange.position;\n            }\n            if (typeof currentChange.dragging !== \"undefined\") {\n              element.dragging = currentChange.dragging;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                handleParentExpand(element, parent);\n              }\n            }\n          }\n          break;\n        case \"dimensions\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.dimensions !== \"undefined\") {\n              element.dimensions = currentChange.dimensions;\n            }\n            if (typeof currentChange.updateStyle !== \"undefined\" && currentChange.updateStyle) {\n              element.style = {\n                ...element.style || {},\n                width: `${(_a = currentChange.dimensions) == null ? void 0 : _a.width}px`,\n                height: `${(_b = currentChange.dimensions) == null ? void 0 : _b.height}px`\n              };\n            }\n            if (typeof currentChange.resizing !== \"undefined\") {\n              element.resizing = currentChange.resizing;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                const parentInit = !!parent.dimensions.width && !!parent.dimensions.height;\n                if (!parentInit) {\n                  nextTick(() => {\n                    handleParentExpand(element, parent);\n                  });\n                } else {\n                  handleParentExpand(element, parent);\n                }\n              }\n            }\n          }\n          break;\n      }\n    }\n  }\n  return elements;\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction createSelectionChange(id2, selected) {\n  return {\n    id: id2,\n    type: \"select\",\n    selected\n  };\n}\nfunction createAdditionChange(item) {\n  return {\n    item,\n    type: \"add\"\n  };\n}\nfunction createNodeRemoveChange(id2) {\n  return {\n    id: id2,\n    type: \"remove\"\n  };\n}\nfunction createEdgeRemoveChange(id2, source, target, sourceHandle, targetHandle) {\n  return {\n    id: id2,\n    source,\n    target,\n    sourceHandle: sourceHandle || null,\n    targetHandle: targetHandle || null,\n    type: \"remove\"\n  };\n}\nfunction getSelectionChanges(items, selectedIds = /* @__PURE__ */ new Set(), mutateItem = false) {\n  const changes = [];\n  for (const [id2, item] of items) {\n    const willBeSelected = selectedIds.has(id2);\n    if (!(item.selected === void 0 && !willBeSelected) && item.selected !== willBeSelected) {\n      if (mutateItem) {\n        item.selected = willBeSelected;\n      }\n      changes.push(createSelectionChange(item.id, willBeSelected));\n    }\n  }\n  return changes;\n}\nfunction createExtendedEventHook(defaultHandler) {\n  const fns = /* @__PURE__ */ new Set();\n  let hasDefaultHandler = false;\n  const hasListeners = () => fns.size > 0;\n  if (defaultHandler) {\n    hasDefaultHandler = true;\n    fns.add(defaultHandler);\n  }\n  const off = (fn) => {\n    fns.delete(fn);\n  };\n  const on = (fn) => {\n    if (defaultHandler && hasDefaultHandler) {\n      fns.delete(defaultHandler);\n    }\n    fns.add(fn);\n    const offFn = () => {\n      off(fn);\n      if (defaultHandler && hasDefaultHandler) {\n        fns.add(defaultHandler);\n      }\n    };\n    tryOnScopeDispose(offFn);\n    return {\n      off: offFn\n    };\n  };\n  const trigger = (param) => {\n    return Promise.all(Array.from(fns).map((fn) => fn(param)));\n  };\n  return {\n    on,\n    off,\n    trigger,\n    hasListeners,\n    fns\n  };\n}\nfunction hasSelector(target, selector2, node) {\n  let current = target;\n  do {\n    if (current && current.matches(selector2)) {\n      return true;\n    } else if (current === node) {\n      return false;\n    }\n    current = current.parentElement;\n  } while (current);\n  return false;\n}\nfunction getDragItems(nodes, nodesDraggable, mousePos, findNode, nodeId) {\n  var _a, _b;\n  const dragItems = [];\n  for (const node of nodes) {\n    if ((node.selected || node.id === nodeId) && (!node.parentNode || !isParentSelected(node, findNode)) && (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\")) {\n      dragItems.push(\n        markRaw({\n          id: node.id,\n          position: node.position || { x: 0, y: 0 },\n          distance: {\n            x: mousePos.x - ((_a = node.computedPosition) == null ? void 0 : _a.x) || 0,\n            y: mousePos.y - ((_b = node.computedPosition) == null ? void 0 : _b.y) || 0\n          },\n          from: node.computedPosition,\n          extent: node.extent,\n          parentNode: node.parentNode,\n          dimensions: node.dimensions,\n          expandParent: node.expandParent\n        })\n      );\n    }\n  }\n  return dragItems;\n}\nfunction getEventHandlerParams({\n  id: id2,\n  dragItems,\n  findNode\n}) {\n  const extendedDragItems = [];\n  for (const dragItem of dragItems) {\n    const node = findNode(dragItem.id);\n    if (node) {\n      extendedDragItems.push(node);\n    }\n  }\n  return [id2 ? extendedDragItems.find((n) => n.id === id2) : extendedDragItems[0], extendedDragItems];\n}\nfunction getExtentPadding(padding) {\n  if (Array.isArray(padding)) {\n    switch (padding.length) {\n      case 1:\n        return [padding[0], padding[0], padding[0], padding[0]];\n      case 2:\n        return [padding[0], padding[1], padding[0], padding[1]];\n      case 3:\n        return [padding[0], padding[1], padding[2], padding[1]];\n      case 4:\n        return padding;\n      default:\n        return [0, 0, 0, 0];\n    }\n  }\n  return [padding, padding, padding, padding];\n}\nfunction getParentExtent(currentExtent, node, parent) {\n  const [top, right, bottom, left] = typeof currentExtent !== \"string\" ? getExtentPadding(currentExtent.padding) : [0, 0, 0, 0];\n  if (parent && typeof parent.computedPosition.x !== \"undefined\" && typeof parent.computedPosition.y !== \"undefined\" && typeof parent.dimensions.width !== \"undefined\" && typeof parent.dimensions.height !== \"undefined\") {\n    return [\n      [parent.computedPosition.x + left, parent.computedPosition.y + top],\n      [\n        parent.computedPosition.x + parent.dimensions.width - right,\n        parent.computedPosition.y + parent.dimensions.height - bottom\n      ]\n    ];\n  }\n  return false;\n}\nfunction getExtent(item, triggerError, extent, parent) {\n  let currentExtent = item.extent || extent;\n  if ((currentExtent === \"parent\" || !Array.isArray(currentExtent) && (currentExtent == null ? void 0 : currentExtent.range) === \"parent\") && !item.expandParent) {\n    if (item.parentNode && parent && item.dimensions.width && item.dimensions.height) {\n      const parentExtent = getParentExtent(currentExtent, item, parent);\n      if (parentExtent) {\n        currentExtent = parentExtent;\n      }\n    } else {\n      triggerError(new VueFlowError(ErrorCode.NODE_EXTENT_INVALID, item.id));\n      currentExtent = extent;\n    }\n  } else if (Array.isArray(currentExtent)) {\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent[0][0] + parentX, currentExtent[0][1] + parentY],\n      [currentExtent[1][0] + parentX, currentExtent[1][1] + parentY]\n    ];\n  } else if (currentExtent !== \"parent\" && (currentExtent == null ? void 0 : currentExtent.range) && Array.isArray(currentExtent.range)) {\n    const [top, right, bottom, left] = getExtentPadding(currentExtent.padding);\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent.range[0][0] + parentX + left, currentExtent.range[0][1] + parentY + top],\n      [currentExtent.range[1][0] + parentX - right, currentExtent.range[1][1] + parentY - bottom]\n    ];\n  }\n  return currentExtent === \"parent\" ? [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n  ] : currentExtent;\n}\nfunction clampNodeExtent({ width, height }, extent) {\n  return [extent[0], [extent[1][0] - (width || 0), extent[1][1] - (height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, triggerError, nodeExtent, parentNode) {\n  const extent = clampNodeExtent(node.dimensions, getExtent(node, triggerError, nodeExtent, parentNode));\n  const clampedPos = clampPosition(nextPosition, extent);\n  return {\n    position: {\n      x: clampedPos.x - ((parentNode == null ? void 0 : parentNode.computedPosition.x) || 0),\n      y: clampedPos.y - ((parentNode == null ? void 0 : parentNode.computedPosition.y) || 0)\n    },\n    computedPosition: clampedPos\n  };\n}\nfunction getHandlePosition(node, handle, fallbackPosition = Position.Left, center = false) {\n  const x = ((handle == null ? void 0 : handle.x) ?? 0) + node.computedPosition.x;\n  const y = ((handle == null ? void 0 : handle.y) ?? 0) + node.computedPosition.y;\n  const { width, height } = handle ?? getNodeDimensions(node);\n  if (center) {\n    return { x: x + width / 2, y: y + height / 2 };\n  }\n  const position = (handle == null ? void 0 : handle.position) ?? fallbackPosition;\n  switch (position) {\n    case Position.Top:\n      return { x: x + width / 2, y };\n    case Position.Right:\n      return { x: x + width, y: y + height / 2 };\n    case Position.Bottom:\n      return { x: x + width / 2, y: y + height };\n    case Position.Left:\n      return { x, y: y + height / 2 };\n  }\n}\nfunction getEdgeHandle(bounds, handleId) {\n  if (!bounds) {\n    return null;\n  }\n  return (!handleId ? bounds[0] : bounds.find((d) => d.id === handleId)) || null;\n}\nfunction isEdgeVisible({\n  sourcePos,\n  targetPos,\n  sourceWidth,\n  sourceHeight,\n  targetWidth,\n  targetHeight,\n  width,\n  height,\n  viewport\n}) {\n  const edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n  const viewBox = rectToBox({\n    x: (0 - viewport.x) / viewport.zoom,\n    y: (0 - viewport.y) / viewport.zoom,\n    width: width / viewport.zoom,\n    height: height / viewport.zoom\n  });\n  const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  const overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getEdgeZIndex(edge, findNode, elevateEdgesOnSelect = false) {\n  const hasZIndex = typeof edge.zIndex === \"number\";\n  let z = hasZIndex ? edge.zIndex : 0;\n  const source = findNode(edge.source);\n  const target = findNode(edge.target);\n  if (!source || !target) {\n    return 0;\n  }\n  if (elevateEdgesOnSelect) {\n    z = hasZIndex ? edge.zIndex : Math.max(source.computedPosition.z || 0, target.computedPosition.z || 0);\n  }\n  return z;\n}\nvar ErrorCode = /* @__PURE__ */ ((ErrorCode2) => {\n  ErrorCode2[\"MISSING_STYLES\"] = \"MISSING_STYLES\";\n  ErrorCode2[\"MISSING_VIEWPORT_DIMENSIONS\"] = \"MISSING_VIEWPORT_DIMENSIONS\";\n  ErrorCode2[\"NODE_INVALID\"] = \"NODE_INVALID\";\n  ErrorCode2[\"NODE_NOT_FOUND\"] = \"NODE_NOT_FOUND\";\n  ErrorCode2[\"NODE_MISSING_PARENT\"] = \"NODE_MISSING_PARENT\";\n  ErrorCode2[\"NODE_TYPE_MISSING\"] = \"NODE_TYPE_MISSING\";\n  ErrorCode2[\"NODE_EXTENT_INVALID\"] = \"NODE_EXTENT_INVALID\";\n  ErrorCode2[\"EDGE_INVALID\"] = \"EDGE_INVALID\";\n  ErrorCode2[\"EDGE_NOT_FOUND\"] = \"EDGE_NOT_FOUND\";\n  ErrorCode2[\"EDGE_SOURCE_MISSING\"] = \"EDGE_SOURCE_MISSING\";\n  ErrorCode2[\"EDGE_TARGET_MISSING\"] = \"EDGE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_TYPE_MISSING\"] = \"EDGE_TYPE_MISSING\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_SAME\"] = \"EDGE_SOURCE_TARGET_SAME\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_MISSING\"] = \"EDGE_SOURCE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_ORPHANED\"] = \"EDGE_ORPHANED\";\n  ErrorCode2[\"USEVUEFLOW_OPTIONS\"] = \"USEVUEFLOW_OPTIONS\";\n  return ErrorCode2;\n})(ErrorCode || {});\nconst messages = {\n  [\n    \"MISSING_STYLES\"\n    /* MISSING_STYLES */\n  ]: () => `It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly`,\n  [\n    \"MISSING_VIEWPORT_DIMENSIONS\"\n    /* MISSING_VIEWPORT_DIMENSIONS */\n  ]: () => \"The Vue Flow parent container needs a width and a height to render the graph\",\n  [\n    \"NODE_INVALID\"\n    /* NODE_INVALID */\n  ]: (id2) => `Node is invalid\nNode: ${id2}`,\n  [\n    \"NODE_NOT_FOUND\"\n    /* NODE_NOT_FOUND */\n  ]: (id2) => `Node not found\nNode: ${id2}`,\n  [\n    \"NODE_MISSING_PARENT\"\n    /* NODE_MISSING_PARENT */\n  ]: (id2, parentId) => `Node is missing a parent\nNode: ${id2}\nParent: ${parentId}`,\n  [\n    \"NODE_TYPE_MISSING\"\n    /* NODE_TYPE_MISSING */\n  ]: (type) => `Node type is missing\nType: ${type}`,\n  [\n    \"NODE_EXTENT_INVALID\"\n    /* NODE_EXTENT_INVALID */\n  ]: (id2) => `Only child nodes can use a parent extent\nNode: ${id2}`,\n  [\n    \"EDGE_INVALID\"\n    /* EDGE_INVALID */\n  ]: (id2) => `An edge needs a source and a target\nEdge: ${id2}`,\n  [\n    \"EDGE_SOURCE_MISSING\"\n    /* EDGE_SOURCE_MISSING */\n  ]: (id2, source) => `Edge source is missing\nEdge: ${id2} \nSource: ${source}`,\n  [\n    \"EDGE_TARGET_MISSING\"\n    /* EDGE_TARGET_MISSING */\n  ]: (id2, target) => `Edge target is missing\nEdge: ${id2} \nTarget: ${target}`,\n  [\n    \"EDGE_TYPE_MISSING\"\n    /* EDGE_TYPE_MISSING */\n  ]: (type) => `Edge type is missing\nType: ${type}`,\n  [\n    \"EDGE_SOURCE_TARGET_SAME\"\n    /* EDGE_SOURCE_TARGET_SAME */\n  ]: (id2, source, target) => `Edge source and target are the same\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_SOURCE_TARGET_MISSING\"\n    /* EDGE_SOURCE_TARGET_MISSING */\n  ]: (id2, source, target) => `Edge source or target is missing\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_ORPHANED\"\n    /* EDGE_ORPHANED */\n  ]: (id2) => `Edge was orphaned (suddenly missing source or target) and has been removed\nEdge: ${id2}`,\n  [\n    \"EDGE_NOT_FOUND\"\n    /* EDGE_NOT_FOUND */\n  ]: (id2) => `Edge not found\nEdge: ${id2}`,\n  // deprecation errors\n  [\n    \"USEVUEFLOW_OPTIONS\"\n    /* USEVUEFLOW_OPTIONS */\n  ]: () => `The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead`\n};\nclass VueFlowError extends Error {\n  constructor(code, ...args) {\n    var _a;\n    super((_a = messages[code]) == null ? void 0 : _a.call(messages, ...args));\n    this.name = \"VueFlowError\";\n    this.code = code;\n    this.args = args;\n  }\n}\nfunction isErrorOfType(error, code) {\n  return error.code === code;\n}\nfunction isMouseEvent(event) {\n  return \"clientX\" in event;\n}\nfunction isUseDragEvent(event) {\n  return \"sourceEvent\" in event;\n}\nfunction getEventPosition(event, bounds) {\n  const isMouse = isMouseEvent(event);\n  let evtX;\n  let evtY;\n  if (isMouse) {\n    evtX = event.clientX;\n    evtY = event.clientY;\n  } else if (\"touches\" in event && event.touches.length > 0) {\n    evtX = event.touches[0].clientX;\n    evtY = event.touches[0].clientY;\n  } else if (\"changedTouches\" in event && event.changedTouches.length > 0) {\n    evtX = event.changedTouches[0].clientX;\n    evtY = event.changedTouches[0].clientY;\n  } else {\n    evtX = 0;\n    evtY = 0;\n  }\n  return {\n    x: evtX - ((bounds == null ? void 0 : bounds.left) ?? 0),\n    y: evtY - ((bounds == null ? void 0 : bounds.top) ?? 0)\n  };\n}\nconst isMacOs = () => {\n  var _a;\n  return typeof navigator !== \"undefined\" && ((_a = navigator == null ? void 0 : navigator.userAgent) == null ? void 0 : _a.indexOf(\"Mac\")) >= 0;\n};\nfunction getNodeDimensions(node) {\n  var _a, _b;\n  return {\n    width: ((_a = node.dimensions) == null ? void 0 : _a.width) ?? node.width ?? 0,\n    height: ((_b = node.dimensions) == null ? void 0 : _b.height) ?? node.height ?? 0\n  };\n}\nfunction snapPosition(position, snapGrid = [1, 1]) {\n  return {\n    x: snapGrid[0] * Math.round(position.x / snapGrid[0]),\n    y: snapGrid[1] * Math.round(position.y / snapGrid[1])\n  };\n}\nconst alwaysValid$1 = () => true;\nfunction resetRecentHandle(handleDomNode) {\n  handleDomNode == null ? void 0 : handleDomNode.classList.remove(\"valid\", \"connecting\", \"vue-flow__handle-valid\", \"vue-flow__handle-connecting\");\n}\nfunction getNodesWithinDistance(position, nodeLookup, distance2) {\n  const nodes = [];\n  const rect = {\n    x: position.x - distance2,\n    y: position.y - distance2,\n    width: distance2 * 2,\n    height: distance2 * 2\n  };\n  for (const node of nodeLookup.values()) {\n    if (getOverlappingArea(rect, nodeToRect(node)) > 0) {\n      nodes.push(node);\n    }\n  }\n  return nodes;\n}\nconst ADDITIONAL_DISTANCE = 250;\nfunction getClosestHandle(position, connectionRadius, nodeLookup, fromHandle) {\n  var _a, _b;\n  let closestHandles = [];\n  let minDistance = Number.POSITIVE_INFINITY;\n  const closeNodes = getNodesWithinDistance(position, nodeLookup, connectionRadius + ADDITIONAL_DISTANCE);\n  for (const node of closeNodes) {\n    const allHandles = [...((_a = node.handleBounds) == null ? void 0 : _a.source) ?? [], ...((_b = node.handleBounds) == null ? void 0 : _b.target) ?? []];\n    for (const handle of allHandles) {\n      if (fromHandle.nodeId === handle.nodeId && fromHandle.type === handle.type && fromHandle.id === handle.id) {\n        continue;\n      }\n      const { x, y } = getHandlePosition(node, handle, handle.position, true);\n      const distance2 = Math.sqrt((x - position.x) ** 2 + (y - position.y) ** 2);\n      if (distance2 > connectionRadius) {\n        continue;\n      }\n      if (distance2 < minDistance) {\n        closestHandles = [{ ...handle, x, y }];\n        minDistance = distance2;\n      } else if (distance2 === minDistance) {\n        closestHandles.push({ ...handle, x, y });\n      }\n    }\n  }\n  if (!closestHandles.length) {\n    return null;\n  }\n  if (closestHandles.length > 1) {\n    const oppositeHandleType = fromHandle.type === \"source\" ? \"target\" : \"source\";\n    return closestHandles.find((handle) => handle.type === oppositeHandleType) ?? closestHandles[0];\n  }\n  return closestHandles[0];\n}\nfunction isValidHandle(event, {\n  handle,\n  connectionMode,\n  fromNodeId,\n  fromHandleId,\n  fromType,\n  doc,\n  lib,\n  flowId,\n  isValidConnection = alwaysValid$1\n}, edges, nodes, findNode) {\n  const isTarget = fromType === \"target\";\n  const handleDomNode = handle ? doc.querySelector(`.${lib}-flow__handle[data-id=\"${flowId}-${handle == null ? void 0 : handle.nodeId}-${handle == null ? void 0 : handle.id}-${handle == null ? void 0 : handle.type}\"]`) : null;\n  const { x, y } = getEventPosition(event);\n  const handleBelow = doc.elementFromPoint(x, y);\n  const handleToCheck = (handleBelow == null ? void 0 : handleBelow.classList.contains(`${lib}-flow__handle`)) ? handleBelow : handleDomNode;\n  const result = {\n    handleDomNode: handleToCheck,\n    isValid: false,\n    connection: null,\n    toHandle: null\n  };\n  if (handleToCheck) {\n    const handleType = getHandleType(void 0, handleToCheck);\n    const handleNodeId = handleToCheck.getAttribute(\"data-nodeid\");\n    const handleId = handleToCheck.getAttribute(\"data-handleid\");\n    const connectable = handleToCheck.classList.contains(\"connectable\");\n    const connectableEnd = handleToCheck.classList.contains(\"connectableend\");\n    if (!handleNodeId || !handleType) {\n      return result;\n    }\n    const connection = {\n      source: isTarget ? handleNodeId : fromNodeId,\n      sourceHandle: isTarget ? handleId : fromHandleId,\n      target: isTarget ? fromNodeId : handleNodeId,\n      targetHandle: isTarget ? fromHandleId : handleId\n    };\n    result.connection = connection;\n    const isConnectable = connectable && connectableEnd;\n    const isValid = isConnectable && (connectionMode === ConnectionMode.Strict ? isTarget && handleType === \"source\" || !isTarget && handleType === \"target\" : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n    result.isValid = isValid && isValidConnection(connection, {\n      nodes,\n      edges,\n      sourceNode: findNode(fromNodeId),\n      targetNode: findNode(handleNodeId)\n    });\n    result.toHandle = handle;\n  }\n  return result;\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n  if (edgeUpdaterType) {\n    return edgeUpdaterType;\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"target\")) {\n    return \"target\";\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"source\")) {\n    return \"source\";\n  }\n  return null;\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n  let connectionStatus = null;\n  if (isHandleValid) {\n    connectionStatus = \"valid\";\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    connectionStatus = \"invalid\";\n  }\n  return connectionStatus;\n}\nfunction isConnectionValid(isInsideConnectionRadius, isHandleValid) {\n  let isValid = null;\n  if (isHandleValid) {\n    isValid = true;\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    isValid = false;\n  }\n  return isValid;\n}\nfunction getHandle(nodeId, handleType, handleId, nodeLookup, connectionMode, withAbsolutePosition = false) {\n  var _a, _b, _c;\n  const node = nodeLookup.get(nodeId);\n  if (!node) {\n    return null;\n  }\n  const handles = connectionMode === ConnectionMode.Strict ? (_a = node.handleBounds) == null ? void 0 : _a[handleType] : [...((_b = node.handleBounds) == null ? void 0 : _b.source) ?? [], ...((_c = node.handleBounds) == null ? void 0 : _c.target) ?? []];\n  const handle = (handleId ? handles == null ? void 0 : handles.find((h2) => h2.id === handleId) : handles == null ? void 0 : handles[0]) ?? null;\n  return handle && withAbsolutePosition ? { ...handle, ...getHandlePosition(node, handle, handle.position, true) } : handle;\n}\nconst oppositePosition = {\n  [Position.Left]: Position.Right,\n  [Position.Right]: Position.Left,\n  [Position.Top]: Position.Bottom,\n  [Position.Bottom]: Position.Top\n};\nconst productionEnvs = [\"production\", \"prod\"];\nfunction warn(message, ...args) {\n  if (isDev()) {\n    console.warn(`[Vue Flow]: ${message}`, ...args);\n  }\n}\nfunction isDev() {\n  return !productionEnvs.includes(process.env.NODE_ENV || \"\");\n}\nfunction getHandleBounds(type, nodeElement, nodeBounds, zoom2, nodeId) {\n  const handles = nodeElement.querySelectorAll(`.vue-flow__handle.${type}`);\n  if (!(handles == null ? void 0 : handles.length)) {\n    return null;\n  }\n  return Array.from(handles).map((handle) => {\n    const handleBounds = handle.getBoundingClientRect();\n    return {\n      id: handle.getAttribute(\"data-handleid\"),\n      type,\n      nodeId,\n      position: handle.getAttribute(\"data-handlepos\"),\n      x: (handleBounds.left - nodeBounds.left) / zoom2,\n      y: (handleBounds.top - nodeBounds.top) / zoom2,\n      ...getDimensions(handle)\n    };\n  });\n}\nfunction handleNodeClick(node, multiSelectionActive, addSelectedNodes, removeSelectedNodes, nodesSelectionActive, unselect = false, nodeEl) {\n  nodesSelectionActive.value = false;\n  if (!node.selected) {\n    addSelectedNodes([node]);\n  } else if (unselect || node.selected && multiSelectionActive) {\n    removeSelectedNodes([node]);\n    nextTick(() => {\n      nodeEl.blur();\n    });\n  }\n}\nfunction isDef(val) {\n  const unrefVal = unref(val);\n  return typeof unrefVal !== \"undefined\";\n}\nfunction addEdgeToStore(edgeParams, edges, triggerError, defaultEdgeOptions) {\n  if (!edgeParams || !edgeParams.source || !edgeParams.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, (edgeParams == null ? void 0 : edgeParams.id) ?? `[ID UNKNOWN]`));\n    return false;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = edgeParams;\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaultEdgeOptions);\n  if (connectionExists(edge, edges)) {\n    return false;\n  }\n  return edge;\n}\nfunction updateEdgeAction(edge, newConnection, prevEdge, shouldReplaceId, triggerError) {\n  if (!newConnection.source || !newConnection.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n    return false;\n  }\n  if (!prevEdge) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edge.id));\n    return false;\n  }\n  const { id: id2, ...rest } = edge;\n  return {\n    ...rest,\n    id: shouldReplaceId ? getEdgeId(newConnection) : id2,\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n}\nfunction createGraphNodes(nodes, findNode, triggerError) {\n  const parentNodes = {};\n  const nextNodes = [];\n  for (let i = 0; i < nodes.length; ++i) {\n    const node = nodes[i];\n    if (!isNode(node)) {\n      triggerError(\n        new VueFlowError(ErrorCode.NODE_INVALID, node == null ? void 0 : node.id) || `[ID UNKNOWN|INDEX ${i}]`\n      );\n      continue;\n    }\n    const parsed = parseNode(node, findNode(node.id), node.parentNode);\n    if (node.parentNode) {\n      parentNodes[node.parentNode] = true;\n    }\n    nextNodes[i] = parsed;\n  }\n  for (const node of nextNodes) {\n    const parentNode = findNode(node.parentNode) || nextNodes.find((n) => n.id === node.parentNode);\n    if (node.parentNode && !parentNode) {\n      triggerError(new VueFlowError(ErrorCode.NODE_MISSING_PARENT, node.id, node.parentNode));\n    }\n    if (node.parentNode || parentNodes[node.id]) {\n      if (parentNodes[node.id]) {\n        node.isParent = true;\n      }\n      if (parentNode) {\n        parentNode.isParent = true;\n      }\n    }\n  }\n  return nextNodes;\n}\nfunction addConnectionToLookup(type, connection, connectionKey, connectionLookup, nodeId, handleId) {\n  let key = nodeId;\n  const nodeMap = connectionLookup.get(key) || /* @__PURE__ */ new Map();\n  connectionLookup.set(key, nodeMap.set(connectionKey, connection));\n  key = `${nodeId}-${type}`;\n  const typeMap = connectionLookup.get(key) || /* @__PURE__ */ new Map();\n  connectionLookup.set(key, typeMap.set(connectionKey, connection));\n  if (handleId) {\n    key = `${nodeId}-${type}-${handleId}`;\n    const handleMap = connectionLookup.get(key) || /* @__PURE__ */ new Map();\n    connectionLookup.set(key, handleMap.set(connectionKey, connection));\n  }\n}\nfunction updateConnectionLookup(connectionLookup, edgeLookup, edges) {\n  connectionLookup.clear();\n  for (const edge of edges) {\n    const { source: sourceNode, target: targetNode, sourceHandle = null, targetHandle = null } = edge;\n    const connection = { edgeId: edge.id, source: sourceNode, target: targetNode, sourceHandle, targetHandle };\n    const sourceKey = `${sourceNode}-${sourceHandle}--${targetNode}-${targetHandle}`;\n    const targetKey = `${targetNode}-${targetHandle}--${sourceNode}-${sourceHandle}`;\n    addConnectionToLookup(\"source\", connection, targetKey, connectionLookup, sourceNode, sourceHandle);\n    addConnectionToLookup(\"target\", connection, sourceKey, connectionLookup, targetNode, targetHandle);\n  }\n}\nfunction handleConnectionChange(a, b, cb) {\n  if (!cb) {\n    return;\n  }\n  const diff = [];\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      diff.push(a.get(key));\n    }\n  }\n  if (diff.length) {\n    cb(diff);\n  }\n}\nfunction areConnectionMapsEqual(a, b) {\n  if (!a && !b) {\n    return true;\n  }\n  if (!a || !b || a.size !== b.size) {\n    return false;\n  }\n  if (!a.size && !b.size) {\n    return true;\n  }\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction areSetsEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction createGraphEdges(nextEdges, isValidConnection, findNode, findEdge, onError, defaultEdgeOptions, nodes, edges) {\n  const validEdges = [];\n  for (const edgeOrConnection of nextEdges) {\n    const edge = isEdge(edgeOrConnection) ? edgeOrConnection : addEdgeToStore(edgeOrConnection, edges, onError, defaultEdgeOptions);\n    if (!edge) {\n      continue;\n    }\n    const sourceNode = findNode(edge.source);\n    const targetNode = findNode(edge.target);\n    if (!sourceNode || !targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.id, edge.source, edge.target));\n      continue;\n    }\n    if (!sourceNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.id, edge.source));\n      continue;\n    }\n    if (!targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.id, edge.target));\n      continue;\n    }\n    if (isValidConnection) {\n      const isValid = isValidConnection(edge, {\n        edges,\n        nodes,\n        sourceNode,\n        targetNode\n      });\n      if (!isValid) {\n        onError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n        continue;\n      }\n    }\n    const existingEdge = findEdge(edge.id);\n    validEdges.push({\n      ...parseEdge(edge, existingEdge, defaultEdgeOptions),\n      sourceNode,\n      targetNode\n    });\n  }\n  return validEdges;\n}\nconst VueFlow = Symbol(\"vueFlow\");\nconst NodeId = Symbol(\"nodeId\");\nconst NodeRef = Symbol(\"nodeRef\");\nconst EdgeId = Symbol(\"edgeId\");\nconst EdgeRef = Symbol(\"edgeRef\");\nconst Slots = Symbol(\"slots\");\nfunction useDrag(params) {\n  const {\n    vueFlowRef,\n    snapToGrid,\n    snapGrid,\n    noDragClassName,\n    nodes,\n    nodeExtent,\n    nodeDragThreshold,\n    viewport,\n    autoPanOnNodeDrag,\n    autoPanSpeed,\n    nodesDraggable,\n    panBy,\n    findNode,\n    multiSelectionActive,\n    nodesSelectionActive,\n    selectNodesOnDrag,\n    removeSelectedElements,\n    addSelectedNodes,\n    updateNodePositions,\n    emits\n  } = useVueFlow();\n  const { onStart, onDrag, onStop, onClick, el, disabled, id: id2, selectable, dragHandle } = params;\n  const dragging = ref(false);\n  let dragItems = [];\n  let dragHandler;\n  let containerBounds = null;\n  let lastPos = { x: void 0, y: void 0 };\n  let mousePosition = { x: 0, y: 0 };\n  let dragEvent = null;\n  let dragStarted = false;\n  let autoPanId = 0;\n  let autoPanStarted = false;\n  const getPointerPosition = useGetPointerPosition();\n  const updateNodes = ({ x, y }) => {\n    lastPos = { x, y };\n    let hasChange = false;\n    dragItems = dragItems.map((n) => {\n      const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n      const { computedPosition } = calcNextPosition(\n        n,\n        snapToGrid.value ? snapPosition(nextPosition, snapGrid.value) : nextPosition,\n        emits.error,\n        nodeExtent.value,\n        n.parentNode ? findNode(n.parentNode) : void 0\n      );\n      hasChange = hasChange || n.position.x !== computedPosition.x || n.position.y !== computedPosition.y;\n      n.position = computedPosition;\n      return n;\n    });\n    if (!hasChange) {\n      return;\n    }\n    updateNodePositions(dragItems, true, true);\n    dragging.value = true;\n    if (dragEvent) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onDrag({ event: dragEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  const autoPan = () => {\n    if (!containerBounds) {\n      return;\n    }\n    const [xMovement, yMovement] = calcAutoPan(mousePosition, containerBounds, autoPanSpeed.value);\n    if (xMovement !== 0 || yMovement !== 0) {\n      const nextPos = {\n        x: (lastPos.x ?? 0) - xMovement / viewport.value.zoom,\n        y: (lastPos.y ?? 0) - yMovement / viewport.value.zoom\n      };\n      if (panBy({ x: xMovement, y: yMovement })) {\n        updateNodes(nextPos);\n      }\n    }\n    autoPanId = requestAnimationFrame(autoPan);\n  };\n  const startDrag = (event, nodeEl) => {\n    dragStarted = true;\n    const node = findNode(id2);\n    if (!selectNodesOnDrag.value && !multiSelectionActive.value && node) {\n      if (!node.selected) {\n        removeSelectedElements();\n      }\n    }\n    if (node && toValue$1(selectable) && selectNodesOnDrag.value) {\n      handleNodeClick(\n        node,\n        multiSelectionActive.value,\n        addSelectedNodes,\n        removeSelectedElements,\n        nodesSelectionActive,\n        false,\n        nodeEl\n      );\n    }\n    const pointerPos = getPointerPosition(event.sourceEvent);\n    lastPos = pointerPos;\n    dragItems = getDragItems(nodes.value, nodesDraggable.value, pointerPos, findNode, id2);\n    if (dragItems.length) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStart({ event: event.sourceEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  const eventStart = (event, nodeEl) => {\n    var _a;\n    if (event.sourceEvent.type === \"touchmove\" && event.sourceEvent.touches.length > 1) {\n      return;\n    }\n    if (nodeDragThreshold.value === 0) {\n      startDrag(event, nodeEl);\n    }\n    lastPos = getPointerPosition(event.sourceEvent);\n    containerBounds = ((_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect()) || null;\n    mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n  };\n  const eventDrag = (event, nodeEl) => {\n    const pointerPos = getPointerPosition(event.sourceEvent);\n    if (!autoPanStarted && dragStarted && autoPanOnNodeDrag.value) {\n      autoPanStarted = true;\n      autoPan();\n    }\n    if (!dragStarted) {\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 > nodeDragThreshold.value) {\n        startDrag(event, nodeEl);\n      }\n    }\n    if ((lastPos.x !== pointerPos.xSnapped || lastPos.y !== pointerPos.ySnapped) && dragItems.length && dragStarted) {\n      dragEvent = event.sourceEvent;\n      mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n      updateNodes(pointerPos);\n    }\n  };\n  const eventEnd = (event) => {\n    let isClick = false;\n    if (!dragStarted && !dragging.value && !multiSelectionActive.value) {\n      const evt = event.sourceEvent;\n      const pointerPos = getPointerPosition(evt);\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 !== 0 && distance2 <= nodeDragThreshold.value) {\n        onClick == null ? void 0 : onClick(evt);\n        isClick = true;\n      }\n    }\n    if (dragItems.length && !isClick) {\n      updateNodePositions(dragItems, false, false);\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStop({ event: event.sourceEvent, node: currentNode, nodes: nodes2 });\n    }\n    dragItems = [];\n    dragging.value = false;\n    autoPanStarted = false;\n    dragStarted = false;\n    lastPos = { x: void 0, y: void 0 };\n    cancelAnimationFrame(autoPanId);\n  };\n  watch([() => toValue$1(disabled), el], ([isDisabled, nodeEl], _, onCleanup) => {\n    if (nodeEl) {\n      const selection2 = select(nodeEl);\n      if (!isDisabled) {\n        dragHandler = drag().on(\"start\", (event) => eventStart(event, nodeEl)).on(\"drag\", (event) => eventDrag(event, nodeEl)).on(\"end\", (event) => eventEnd(event)).filter((event) => {\n          const target = event.target;\n          const unrefDragHandle = toValue$1(dragHandle);\n          return !event.button && (!noDragClassName.value || !hasSelector(target, `.${noDragClassName.value}`, nodeEl) && (!unrefDragHandle || hasSelector(target, unrefDragHandle, nodeEl)));\n        });\n        selection2.call(dragHandler);\n      }\n      onCleanup(() => {\n        selection2.on(\".drag\", null);\n        if (dragHandler) {\n          dragHandler.on(\"start\", null);\n          dragHandler.on(\"drag\", null);\n          dragHandler.on(\"end\", null);\n        }\n      });\n    }\n  });\n  return dragging;\n}\nfunction useEdge(id2) {\n  const edgeId = id2 ?? inject(EdgeId, \"\");\n  const edgeEl = inject(EdgeRef, ref(null));\n  const { findEdge, emits } = useVueFlow();\n  const edge = findEdge(edgeId);\n  if (!edge) {\n    emits.error(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edgeId));\n  }\n  return {\n    id: edgeId,\n    edge,\n    edgeEl\n  };\n}\nfunction createEdgeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    updateStart: createExtendedEventHook(),\n    update: createExtendedEventHook(),\n    updateEnd: createExtendedEventHook()\n  };\n}\nfunction useEdgeHooks(edge, emits) {\n  const edgeHooks = createEdgeHooks();\n  edgeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.edgeDoubleClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.click.on((event) => {\n    var _a, _b;\n    emits.edgeClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.edgeMouseEnter(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.edgeMouseMove(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.edgeMouseLeave(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.edgeContextMenu(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateStart.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateStart(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateStart) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.update.on((event) => {\n    var _a, _b;\n    emits.edgeUpdate(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateEnd.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateEnd(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateEnd) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(edgeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useGetPointerPosition() {\n  const { viewport, snapGrid, snapToGrid, vueFlowRef } = useVueFlow();\n  return (event) => {\n    var _a;\n    const containerBounds = ((_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect()) ?? { left: 0, top: 0 };\n    const evt = isUseDragEvent(event) ? event.sourceEvent : event;\n    const { x, y } = getEventPosition(evt, containerBounds);\n    const pointerPos = pointToRendererPoint({ x, y }, viewport.value);\n    const { x: xSnapped, y: ySnapped } = snapToGrid.value ? snapPosition(pointerPos, snapGrid.value) : pointerPos;\n    return {\n      xSnapped,\n      ySnapped,\n      ...pointerPos\n    };\n  };\n}\nfunction alwaysValid() {\n  return true;\n}\nfunction useHandle({\n  handleId,\n  nodeId,\n  type,\n  isValidConnection,\n  edgeUpdaterType,\n  onEdgeUpdate,\n  onEdgeUpdateEnd\n}) {\n  const {\n    id: flowId,\n    vueFlowRef,\n    connectionMode,\n    connectionRadius,\n    connectOnClick,\n    connectionClickStartHandle,\n    nodesConnectable,\n    autoPanOnConnect,\n    autoPanSpeed,\n    findNode,\n    panBy,\n    startConnection,\n    updateConnection,\n    endConnection,\n    emits,\n    viewport,\n    edges,\n    nodes,\n    isValidConnection: isValidConnectionProp,\n    nodeLookup\n  } = useVueFlow();\n  let connection = null;\n  let isValid = false;\n  let handleDomNode = null;\n  function handlePointerDown(event) {\n    var _a;\n    const isTarget = toValue$1(type) === \"target\";\n    const isMouseTriggered = isMouseEvent(event);\n    const doc = getHostForElement(event.target);\n    if (isMouseTriggered && event.button === 0 || !isMouseTriggered) {\n      let onPointerMove = function(event2) {\n        connectionPosition = getEventPosition(event2, containerBounds);\n        closestHandle = getClosestHandle(\n          pointToRendererPoint(connectionPosition, viewport.value, false, [1, 1]),\n          connectionRadius.value,\n          nodeLookup.value,\n          fromHandle\n        );\n        if (!autoPanStarted) {\n          autoPan();\n          autoPanStarted = true;\n        }\n        const result = isValidHandle(\n          event2,\n          {\n            handle: closestHandle,\n            connectionMode: connectionMode.value,\n            fromNodeId: toValue$1(nodeId),\n            fromHandleId: toValue$1(handleId),\n            fromType: isTarget ? \"target\" : \"source\",\n            isValidConnection: isValidConnectionHandler,\n            doc,\n            lib: \"vue\",\n            flowId,\n            nodeLookup: nodeLookup.value\n          },\n          edges.value,\n          nodes.value,\n          findNode\n        );\n        handleDomNode = result.handleDomNode;\n        connection = result.connection;\n        isValid = isConnectionValid(!!closestHandle, result.isValid);\n        const newConnection2 = {\n          // from stays the same\n          ...previousConnection,\n          isValid,\n          to: closestHandle && isValid ? rendererPointToPoint({ x: closestHandle.x, y: closestHandle.y }, viewport.value) : connectionPosition,\n          toHandle: result.toHandle,\n          toPosition: isValid && result.toHandle ? result.toHandle.position : oppositePosition[fromHandle.position],\n          toNode: result.toHandle ? nodeLookup.value.get(result.toHandle.nodeId) : null\n        };\n        if (isValid && closestHandle && (previousConnection == null ? void 0 : previousConnection.toHandle) && newConnection2.toHandle && previousConnection.toHandle.type === newConnection2.toHandle.type && previousConnection.toHandle.nodeId === newConnection2.toHandle.nodeId && previousConnection.toHandle.id === newConnection2.toHandle.id && previousConnection.to.x === newConnection2.to.x && previousConnection.to.y === newConnection2.to.y) {\n          return;\n        }\n        updateConnection(\n          closestHandle && isValid ? rendererPointToPoint(\n            {\n              x: closestHandle.x,\n              y: closestHandle.y\n            },\n            viewport.value\n          ) : connectionPosition,\n          result.toHandle,\n          getConnectionStatus(!!closestHandle, isValid)\n        );\n        previousConnection = newConnection2;\n        if (!closestHandle && !isValid && !handleDomNode) {\n          return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection && connection.source !== connection.target && handleDomNode) {\n          resetRecentHandle(prevActiveHandle);\n          prevActiveHandle = handleDomNode;\n          handleDomNode.classList.add(\"connecting\", \"vue-flow__handle-connecting\");\n          handleDomNode.classList.toggle(\"valid\", !!isValid);\n          handleDomNode.classList.toggle(\"vue-flow__handle-valid\", !!isValid);\n        }\n      }, onPointerUp = function(event2) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n          if (!onEdgeUpdate) {\n            emits.connect(connection);\n          } else {\n            onEdgeUpdate(event2, connection);\n          }\n        }\n        emits.connectEnd(event2);\n        if (edgeUpdaterType) {\n          onEdgeUpdateEnd == null ? void 0 : onEdgeUpdateEnd(event2);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelAnimationFrame(autoPanId);\n        endConnection(event2);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener(\"mousemove\", onPointerMove);\n        doc.removeEventListener(\"mouseup\", onPointerUp);\n        doc.removeEventListener(\"touchmove\", onPointerMove);\n        doc.removeEventListener(\"touchend\", onPointerUp);\n      };\n      const node = findNode(toValue$1(nodeId));\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      let closestHandle;\n      let autoPanId = 0;\n      const { x, y } = getEventPosition(event);\n      const clickedHandle = doc == null ? void 0 : doc.elementFromPoint(x, y);\n      const handleType = getHandleType(toValue$1(edgeUpdaterType), clickedHandle);\n      const containerBounds = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!containerBounds || !handleType) {\n        return;\n      }\n      const fromHandleInternal = getHandle(toValue$1(nodeId), handleType, toValue$1(handleId), nodeLookup.value, connectionMode.value);\n      if (!fromHandleInternal) {\n        return;\n      }\n      let prevActiveHandle;\n      let connectionPosition = getEventPosition(event, containerBounds);\n      let autoPanStarted = false;\n      const autoPan = () => {\n        if (!autoPanOnConnect.value) {\n          return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds, autoPanSpeed.value);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n      };\n      const fromHandle = {\n        ...fromHandleInternal,\n        nodeId: toValue$1(nodeId),\n        type: handleType,\n        position: fromHandleInternal.position\n      };\n      const fromNodeInternal = nodeLookup.value.get(toValue$1(nodeId));\n      const from = getHandlePosition(fromNodeInternal, fromHandle, Position.Left, true);\n      const newConnection = {\n        inProgress: true,\n        isValid: null,\n        from,\n        fromHandle,\n        fromPosition: fromHandle.position,\n        fromNode: fromNodeInternal,\n        to: connectionPosition,\n        toHandle: null,\n        toPosition: oppositePosition[fromHandle.position],\n        toNode: null\n      };\n      startConnection(\n        {\n          nodeId: toValue$1(nodeId),\n          id: toValue$1(handleId),\n          type: handleType,\n          position: (clickedHandle == null ? void 0 : clickedHandle.getAttribute(\"data-handlepos\")) || Position.Top\n        },\n        {\n          x: x - containerBounds.left,\n          y: y - containerBounds.top\n        }\n      );\n      emits.connectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId), handleType });\n      let previousConnection = newConnection;\n      doc.addEventListener(\"mousemove\", onPointerMove);\n      doc.addEventListener(\"mouseup\", onPointerUp);\n      doc.addEventListener(\"touchmove\", onPointerMove);\n      doc.addEventListener(\"touchend\", onPointerUp);\n    }\n  }\n  function handleClick(event) {\n    var _a, _b;\n    if (!connectOnClick.value) {\n      return;\n    }\n    const isTarget = toValue$1(type) === \"target\";\n    if (!connectionClickStartHandle.value) {\n      emits.clickConnectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId) });\n      startConnection(\n        { nodeId: toValue$1(nodeId), type: toValue$1(type), id: toValue$1(handleId), position: Position.Top },\n        void 0,\n        true\n      );\n      return;\n    }\n    let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n    const node = findNode(toValue$1(nodeId));\n    if (!isValidConnectionHandler && node) {\n      isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n    }\n    if (node && (typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable) === false) {\n      return;\n    }\n    const doc = getHostForElement(event.target);\n    const result = isValidHandle(\n      event,\n      {\n        handle: {\n          nodeId: toValue$1(nodeId),\n          id: toValue$1(handleId),\n          type: toValue$1(type),\n          position: Position.Top\n        },\n        connectionMode: connectionMode.value,\n        fromNodeId: connectionClickStartHandle.value.nodeId,\n        fromHandleId: connectionClickStartHandle.value.id || null,\n        fromType: connectionClickStartHandle.value.type,\n        isValidConnection: isValidConnectionHandler,\n        doc,\n        lib: \"vue\",\n        flowId,\n        nodeLookup: nodeLookup.value\n      },\n      edges.value,\n      nodes.value,\n      findNode\n    );\n    const isOwnHandle = ((_a = result.connection) == null ? void 0 : _a.source) === ((_b = result.connection) == null ? void 0 : _b.target);\n    if (result.isValid && result.connection && !isOwnHandle) {\n      emits.connect(result.connection);\n    }\n    emits.clickConnectEnd(event);\n    endConnection(event, true);\n  }\n  return {\n    handlePointerDown,\n    handleClick\n  };\n}\nfunction useNodeId() {\n  return inject(NodeId, \"\");\n}\nfunction useNode(id2) {\n  const nodeId = id2 ?? useNodeId() ?? \"\";\n  const nodeEl = inject(NodeRef, ref(null));\n  const { findNode, edges, emits } = useVueFlow();\n  const node = findNode(nodeId);\n  if (!node) {\n    emits.error(new VueFlowError(ErrorCode.NODE_NOT_FOUND, nodeId));\n  }\n  return {\n    id: nodeId,\n    nodeEl,\n    node,\n    parentNode: computed(() => findNode(node.parentNode)),\n    connectedEdges: computed(() => getConnectedEdges([node], edges.value))\n  };\n}\nfunction createNodeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    dragStart: createExtendedEventHook(),\n    drag: createExtendedEventHook(),\n    dragStop: createExtendedEventHook()\n  };\n}\nfunction useNodeHooks(node, emits) {\n  const nodeHooks = createNodeHooks();\n  nodeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.nodeDoubleClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.click.on((event) => {\n    var _a, _b;\n    emits.nodeClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.nodeMouseEnter(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.nodeMouseMove(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.nodeMouseLeave(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.nodeContextMenu(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStart.on((event) => {\n    var _a, _b;\n    emits.nodeDragStart(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStart) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.drag.on((event) => {\n    var _a, _b;\n    emits.nodeDrag(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.drag) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStop.on((event) => {\n    var _a, _b;\n    emits.nodeDragStop(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStop) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(nodeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useUpdateNodePositions() {\n  const { getSelectedNodes, nodeExtent, updateNodePositions, findNode, snapGrid, snapToGrid, nodesDraggable, emits } = useVueFlow();\n  return (positionDiff, isShiftPressed = false) => {\n    const xVelo = snapToGrid.value ? snapGrid.value[0] : 5;\n    const yVelo = snapToGrid.value ? snapGrid.value[1] : 5;\n    const factor = isShiftPressed ? 4 : 1;\n    const positionDiffX = positionDiff.x * xVelo * factor;\n    const positionDiffY = positionDiff.y * yVelo * factor;\n    const nodeUpdates = [];\n    for (const node of getSelectedNodes.value) {\n      if (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\") {\n        const nextPosition = { x: node.computedPosition.x + positionDiffX, y: node.computedPosition.y + positionDiffY };\n        const { computedPosition } = calcNextPosition(\n          node,\n          nextPosition,\n          emits.error,\n          nodeExtent.value,\n          node.parentNode ? findNode(node.parentNode) : void 0\n        );\n        nodeUpdates.push({\n          id: node.id,\n          position: computedPosition,\n          from: node.position,\n          distance: { x: positionDiff.x, y: positionDiff.y },\n          dimensions: node.dimensions\n        });\n      }\n    }\n    updateNodePositions(nodeUpdates, true, false);\n  };\n}\nconst DEFAULT_PADDING = 0.1;\nfunction noop() {\n  warn(\"Viewport not initialized yet.\");\n  return Promise.resolve(false);\n}\nconst initialViewportHelper = {\n  zoomIn: noop,\n  zoomOut: noop,\n  zoomTo: noop,\n  fitView: noop,\n  setCenter: noop,\n  fitBounds: noop,\n  project: (position) => position,\n  screenToFlowCoordinate: (position) => position,\n  flowToScreenCoordinate: (position) => position,\n  setViewport: noop,\n  setTransform: noop,\n  getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n  getTransform: () => ({ x: 0, y: 0, zoom: 1 }),\n  viewportInitialized: false\n};\nfunction useViewportHelper(state) {\n  function zoom2(scale, duration) {\n    return new Promise((resolve) => {\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.scaleBy(\n          transition(state.d3Selection, duration, () => {\n            resolve(true);\n          }),\n          scale\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  function transformViewport(x, y, zoom22, duration) {\n    return new Promise((resolve) => {\n      const { x: clampedX, y: clampedY } = clampPosition({ x: -x, y: -y }, state.translateExtent);\n      const nextTransform = identity.translate(-clampedX, -clampedY).scale(zoom22);\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.transform(\n          transition(state.d3Selection, duration, () => {\n            resolve(true);\n          }),\n          nextTransform\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  return computed(() => {\n    const isInitialized = state.d3Zoom && state.d3Selection && state.dimensions.width && state.dimensions.height;\n    if (!isInitialized) {\n      return initialViewportHelper;\n    }\n    return {\n      viewportInitialized: true,\n      // todo: allow passing scale as option\n      zoomIn: (options) => {\n        return zoom2(1.2, options == null ? void 0 : options.duration);\n      },\n      zoomOut: (options) => {\n        return zoom2(1 / 1.2, options == null ? void 0 : options.duration);\n      },\n      zoomTo: (zoomLevel, options) => {\n        return new Promise((resolve) => {\n          if (state.d3Selection && state.d3Zoom) {\n            state.d3Zoom.scaleTo(\n              transition(state.d3Selection, options == null ? void 0 : options.duration, () => {\n                resolve(true);\n              }),\n              zoomLevel\n            );\n          } else {\n            resolve(false);\n          }\n        });\n      },\n      setViewport: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      setTransform: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      getViewport: () => ({\n        x: state.viewport.x,\n        y: state.viewport.y,\n        zoom: state.viewport.zoom\n      }),\n      getTransform: () => {\n        return {\n          x: state.viewport.x,\n          y: state.viewport.y,\n          zoom: state.viewport.zoom\n        };\n      },\n      fitView: (options = {\n        padding: DEFAULT_PADDING,\n        includeHiddenNodes: false,\n        duration: 0\n      }) => {\n        var _a, _b;\n        const nodesToFit = [];\n        for (const node of state.nodes) {\n          const isVisible = node.dimensions.width && node.dimensions.height && ((options == null ? void 0 : options.includeHiddenNodes) || !node.hidden);\n          if (isVisible) {\n            if (!((_a = options.nodes) == null ? void 0 : _a.length) || ((_b = options.nodes) == null ? void 0 : _b.length) && options.nodes.includes(node.id)) {\n              nodesToFit.push(node);\n            }\n          }\n        }\n        if (!nodesToFit.length) {\n          return Promise.resolve(false);\n        }\n        const bounds = getRectOfNodes(nodesToFit);\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          options.minZoom ?? state.minZoom,\n          options.maxZoom ?? state.maxZoom,\n          options.padding ?? DEFAULT_PADDING,\n          options.offset\n        );\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      setCenter: (x, y, options) => {\n        const nextZoom = typeof (options == null ? void 0 : options.zoom) !== \"undefined\" ? options.zoom : state.maxZoom;\n        const centerX = state.dimensions.width / 2 - x * nextZoom;\n        const centerY = state.dimensions.height / 2 - y * nextZoom;\n        return transformViewport(centerX, centerY, nextZoom, options == null ? void 0 : options.duration);\n      },\n      fitBounds: (bounds, options = { padding: DEFAULT_PADDING }) => {\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          state.minZoom,\n          state.maxZoom,\n          options.padding\n        );\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      project: (position) => pointToRendererPoint(position, state.viewport, state.snapToGrid, state.snapGrid),\n      screenToFlowCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x - domX,\n            y: position.y - domY\n          };\n          return pointToRendererPoint(correctedPosition, state.viewport, state.snapToGrid, state.snapGrid);\n        }\n        return { x: 0, y: 0 };\n      },\n      flowToScreenCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x + domX,\n            y: position.y + domY\n          };\n          return rendererPointToPoint(correctedPosition, state.viewport);\n        }\n        return { x: 0, y: 0 };\n      }\n    };\n  });\n}\nfunction transition(selection2, ms = 0, onEnd) {\n  return selection2.transition().duration(ms).on(\"end\", onEnd);\n}\nfunction useWatchProps(models, props, store) {\n  const scope = effectScope(true);\n  scope.run(() => {\n    const watchModelValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!(store.nodes.value.length || store.edges.value.length);\n        pauseModel = watchPausable([models.modelValue, () => {\n          var _a, _b;\n          return (_b = (_a = models.modelValue) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([elements]) => {\n          if (elements && Array.isArray(elements)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setElements(elements);\n            if (!pauseStore && !immediateStore && elements.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, store.edges, () => store.edges.value.length, () => store.nodes.value.length],\n          ([nodes, edges]) => {\n            var _a;\n            if (((_a = models.modelValue) == null ? void 0 : _a.value) && Array.isArray(models.modelValue.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.modelValue.value = [...nodes, ...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchNodesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.nodes.value.length;\n        pauseModel = watchPausable([models.nodes, () => {\n          var _a, _b;\n          return (_b = (_a = models.nodes) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([nodes]) => {\n          if (nodes && Array.isArray(nodes)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setNodes(nodes);\n            if (!pauseStore && !immediateStore && nodes.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, () => store.nodes.value.length],\n          ([nodes]) => {\n            var _a;\n            if (((_a = models.nodes) == null ? void 0 : _a.value) && Array.isArray(models.nodes.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.nodes.value = [...nodes];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchEdgesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.edges.value.length;\n        pauseModel = watchPausable([models.edges, () => {\n          var _a, _b;\n          return (_b = (_a = models.edges) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([edges]) => {\n          if (edges && Array.isArray(edges)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setEdges(edges);\n            if (!pauseStore && !immediateStore && edges.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.edges, () => store.edges.value.length],\n          ([edges]) => {\n            var _a;\n            if (((_a = models.edges) == null ? void 0 : _a.value) && Array.isArray(models.edges.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.edges.value = [...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchMaxZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.maxZoom,\n          () => {\n            if (props.maxZoom && isDef(props.maxZoom)) {\n              store.setMaxZoom(props.maxZoom);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchMinZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.minZoom,\n          () => {\n            if (props.minZoom && isDef(props.minZoom)) {\n              store.setMinZoom(props.minZoom);\n            }\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchTranslateExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.translateExtent,\n          () => {\n            if (props.translateExtent && isDef(props.translateExtent)) {\n              store.setTranslateExtent(props.translateExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchNodeExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.nodeExtent,\n          () => {\n            if (props.nodeExtent && isDef(props.nodeExtent)) {\n              store.setNodeExtent(props.nodeExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchApplyDefault = () => {\n      scope.run(() => {\n        watch(\n          () => props.applyDefault,\n          () => {\n            if (isDef(props.applyDefault)) {\n              store.applyDefault.value = props.applyDefault;\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchAutoConnect = () => {\n      scope.run(() => {\n        const autoConnector = async (params) => {\n          let connection = params;\n          if (typeof props.autoConnect === \"function\") {\n            connection = await props.autoConnect(params);\n          }\n          if (connection !== false) {\n            store.addEdges([connection]);\n          }\n        };\n        watch(\n          () => props.autoConnect,\n          () => {\n            if (isDef(props.autoConnect)) {\n              store.autoConnect.value = props.autoConnect;\n            }\n          },\n          { immediate: true }\n        );\n        watch(\n          store.autoConnect,\n          (autoConnectEnabled, _, onCleanup) => {\n            if (autoConnectEnabled) {\n              store.onConnect(autoConnector);\n            } else {\n              store.hooks.value.connect.off(autoConnector);\n            }\n            onCleanup(() => {\n              store.hooks.value.connect.off(autoConnector);\n            });\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchRest = () => {\n      const skip = [\n        \"id\",\n        \"modelValue\",\n        \"translateExtent\",\n        \"nodeExtent\",\n        \"edges\",\n        \"nodes\",\n        \"maxZoom\",\n        \"minZoom\",\n        \"applyDefault\",\n        \"autoConnect\"\n      ];\n      for (const key of Object.keys(props)) {\n        const propKey = key;\n        if (!skip.includes(propKey)) {\n          const propValue = toRef(() => props[propKey]);\n          const storeRef = store[propKey];\n          if (isRef(storeRef)) {\n            scope.run(() => {\n              watch(\n                propValue,\n                (nextValue) => {\n                  if (isDef(nextValue)) {\n                    storeRef.value = nextValue;\n                  }\n                },\n                { immediate: true }\n              );\n            });\n          }\n        }\n      }\n    };\n    const runAll = () => {\n      watchModelValue();\n      watchNodesValue();\n      watchEdgesValue();\n      watchMinZoom();\n      watchMaxZoom();\n      watchTranslateExtent();\n      watchNodeExtent();\n      watchApplyDefault();\n      watchAutoConnect();\n      watchRest();\n    };\n    runAll();\n  });\n  return () => scope.stop();\n}\nfunction useZoomPanHelper(vueFlowId) {\n  const state = useVueFlow({ id: vueFlowId });\n  const viewportHelper = useViewportHelper(toReactive(state));\n  return {\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params)\n  };\n}\nfunction createHooks() {\n  return {\n    edgesChange: createExtendedEventHook(),\n    nodesChange: createExtendedEventHook(),\n    nodeDoubleClick: createExtendedEventHook(),\n    nodeClick: createExtendedEventHook(),\n    nodeMouseEnter: createExtendedEventHook(),\n    nodeMouseMove: createExtendedEventHook(),\n    nodeMouseLeave: createExtendedEventHook(),\n    nodeContextMenu: createExtendedEventHook(),\n    nodeDragStart: createExtendedEventHook(),\n    nodeDrag: createExtendedEventHook(),\n    nodeDragStop: createExtendedEventHook(),\n    nodesInitialized: createExtendedEventHook(),\n    miniMapNodeClick: createExtendedEventHook(),\n    miniMapNodeDoubleClick: createExtendedEventHook(),\n    miniMapNodeMouseEnter: createExtendedEventHook(),\n    miniMapNodeMouseMove: createExtendedEventHook(),\n    miniMapNodeMouseLeave: createExtendedEventHook(),\n    connect: createExtendedEventHook(),\n    connectStart: createExtendedEventHook(),\n    connectEnd: createExtendedEventHook(),\n    clickConnectStart: createExtendedEventHook(),\n    clickConnectEnd: createExtendedEventHook(),\n    paneReady: createExtendedEventHook(),\n    init: createExtendedEventHook(),\n    move: createExtendedEventHook(),\n    moveStart: createExtendedEventHook(),\n    moveEnd: createExtendedEventHook(),\n    selectionDragStart: createExtendedEventHook(),\n    selectionDrag: createExtendedEventHook(),\n    selectionDragStop: createExtendedEventHook(),\n    selectionContextMenu: createExtendedEventHook(),\n    selectionStart: createExtendedEventHook(),\n    selectionEnd: createExtendedEventHook(),\n    viewportChangeStart: createExtendedEventHook(),\n    viewportChange: createExtendedEventHook(),\n    viewportChangeEnd: createExtendedEventHook(),\n    paneScroll: createExtendedEventHook(),\n    paneClick: createExtendedEventHook(),\n    paneContextMenu: createExtendedEventHook(),\n    paneMouseEnter: createExtendedEventHook(),\n    paneMouseMove: createExtendedEventHook(),\n    paneMouseLeave: createExtendedEventHook(),\n    edgeContextMenu: createExtendedEventHook(),\n    edgeMouseEnter: createExtendedEventHook(),\n    edgeMouseMove: createExtendedEventHook(),\n    edgeMouseLeave: createExtendedEventHook(),\n    edgeDoubleClick: createExtendedEventHook(),\n    edgeClick: createExtendedEventHook(),\n    edgeUpdateStart: createExtendedEventHook(),\n    edgeUpdate: createExtendedEventHook(),\n    edgeUpdateEnd: createExtendedEventHook(),\n    updateNodeInternals: createExtendedEventHook(),\n    error: createExtendedEventHook((err) => warn(err.message))\n  };\n}\nfunction useHooks(emit, hooks) {\n  onBeforeMount(() => {\n    for (const [key, value] of Object.entries(hooks.value)) {\n      const listener = (data) => {\n        emit(key, data);\n      };\n      value.fns.add(listener);\n      tryOnScopeDispose(() => {\n        value.off(listener);\n      });\n    }\n  });\n}\nfunction useState() {\n  return {\n    vueFlowRef: null,\n    viewportRef: null,\n    nodes: [],\n    edges: [],\n    connectionLookup: /* @__PURE__ */ new Map(),\n    nodeTypes: {},\n    edgeTypes: {},\n    initialized: false,\n    dimensions: {\n      width: 0,\n      height: 0\n    },\n    viewport: { x: 0, y: 0, zoom: 1 },\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: null,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    nodeExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    selectionMode: SelectionMode.Full,\n    paneDragging: false,\n    preventScrolling: true,\n    zoomOnScroll: true,\n    zoomOnPinch: true,\n    zoomOnDoubleClick: true,\n    panOnScroll: false,\n    panOnScrollSpeed: 0.5,\n    panOnScrollMode: PanOnScrollMode.Free,\n    paneClickDistance: 0,\n    panOnDrag: true,\n    edgeUpdaterRadius: 10,\n    onlyRenderVisibleElements: false,\n    defaultViewport: { x: 0, y: 0, zoom: 1 },\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    defaultMarkerColor: \"#b1b1b7\",\n    connectionLineStyle: {},\n    connectionLineType: null,\n    connectionLineOptions: {\n      type: ConnectionLineType.Bezier,\n      style: {}\n    },\n    connectionMode: ConnectionMode.Loose,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectionPosition: { x: Number.NaN, y: Number.NaN },\n    connectionRadius: 20,\n    connectOnClick: true,\n    connectionStatus: null,\n    isValidConnection: null,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    edgesUpdatable: false,\n    edgesFocusable: true,\n    nodesFocusable: true,\n    nodesConnectable: true,\n    nodesDraggable: true,\n    nodeDragThreshold: 1,\n    elementsSelectable: true,\n    selectNodesOnDrag: true,\n    multiSelectionActive: false,\n    selectionKeyCode: \"Shift\",\n    multiSelectionKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    zoomActivationKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    deleteKeyCode: \"Backspace\",\n    panActivationKeyCode: \"Space\",\n    hooks: createHooks(),\n    applyDefault: true,\n    autoConnect: false,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    noDragClassName: \"nodrag\",\n    noWheelClassName: \"nowheel\",\n    noPanClassName: \"nopan\",\n    defaultEdgeOptions: void 0,\n    elevateEdgesOnSelect: false,\n    elevateNodesOnSelect: true,\n    autoPanOnNodeDrag: true,\n    autoPanOnConnect: true,\n    autoPanSpeed: 15,\n    disableKeyboardA11y: false,\n    ariaLiveMessage: \"\"\n  };\n}\nconst storeOptionsToSkip = [\n  \"id\",\n  \"vueFlowRef\",\n  \"viewportRef\",\n  \"initialized\",\n  \"modelValue\",\n  \"nodes\",\n  \"edges\",\n  \"maxZoom\",\n  \"minZoom\",\n  \"translateExtent\",\n  \"hooks\",\n  \"defaultEdgeOptions\"\n];\nfunction useActions(state, nodeLookup, edgeLookup) {\n  const viewportHelper = useViewportHelper(state);\n  const updateNodeInternals = (ids) => {\n    const updateIds = ids ?? [];\n    state.hooks.updateNodeInternals.trigger(updateIds);\n  };\n  const getIncomers$1 = (nodeOrId) => {\n    return getIncomers(nodeOrId, state.nodes, state.edges);\n  };\n  const getOutgoers$1 = (nodeOrId) => {\n    return getOutgoers(nodeOrId, state.nodes, state.edges);\n  };\n  const getConnectedEdges$1 = (nodesOrId) => {\n    return getConnectedEdges(nodesOrId, state.edges);\n  };\n  const getHandleConnections = ({ id: id2, type, nodeId }) => {\n    var _a;\n    return Array.from(((_a = state.connectionLookup.get(`${nodeId}-${type}-${id2 ?? null}`)) == null ? void 0 : _a.values()) ?? []);\n  };\n  const findNode = (id2) => {\n    if (!id2) {\n      return;\n    }\n    return nodeLookup.value.get(id2);\n  };\n  const findEdge = (id2) => {\n    if (!id2) {\n      return;\n    }\n    return edgeLookup.value.get(id2);\n  };\n  const updateNodePositions = (dragItems, changed, dragging) => {\n    var _a, _b;\n    const changes = [];\n    for (const node of dragItems) {\n      const change = {\n        id: node.id,\n        type: \"position\",\n        dragging,\n        from: node.from\n      };\n      if (changed) {\n        change.position = node.position;\n        if (node.parentNode) {\n          const parentNode = findNode(node.parentNode);\n          change.position = {\n            x: change.position.x - (((_a = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _a.x) ?? 0),\n            y: change.position.y - (((_b = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _b.y) ?? 0)\n          };\n        }\n      }\n      changes.push(change);\n    }\n    if (changes == null ? void 0 : changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const updateNodeDimensions = (updates) => {\n    if (!state.vueFlowRef) {\n      return;\n    }\n    const viewportNode = state.vueFlowRef.querySelector(\".vue-flow__transformationpane\");\n    if (!viewportNode) {\n      return;\n    }\n    const style = window.getComputedStyle(viewportNode);\n    const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n    const changes = [];\n    for (const element of updates) {\n      const update = element;\n      const node = findNode(update.id);\n      if (node) {\n        const dimensions = getDimensions(update.nodeElement);\n        const doUpdate = !!(dimensions.width && dimensions.height && (node.dimensions.width !== dimensions.width || node.dimensions.height !== dimensions.height || update.forceUpdate));\n        if (doUpdate) {\n          const nodeBounds = update.nodeElement.getBoundingClientRect();\n          node.dimensions = dimensions;\n          node.handleBounds.source = getHandleBounds(\"source\", update.nodeElement, nodeBounds, zoom2, node.id);\n          node.handleBounds.target = getHandleBounds(\"target\", update.nodeElement, nodeBounds, zoom2, node.id);\n          changes.push({\n            id: node.id,\n            type: \"dimensions\",\n            dimensions\n          });\n        }\n      }\n    }\n    if (!state.fitViewOnInitDone && state.fitViewOnInit) {\n      viewportHelper.value.fitView().then(() => {\n        state.fitViewOnInitDone = true;\n      });\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const elementSelectionHandler = (elements, selected) => {\n    const nodeIds = /* @__PURE__ */ new Set();\n    const edgeIds = /* @__PURE__ */ new Set();\n    for (const element of elements) {\n      if (isNode(element)) {\n        nodeIds.add(element.id);\n      } else if (isEdge(element)) {\n        edgeIds.add(element.id);\n      }\n    }\n    const changedNodes = getSelectionChanges(nodeLookup.value, nodeIds, true);\n    const changedEdges = getSelectionChanges(edgeLookup.value, edgeIds);\n    if (state.multiSelectionActive) {\n      for (const nodeId of nodeIds) {\n        changedNodes.push(createSelectionChange(nodeId, selected));\n      }\n      for (const edgeId of edgeIds) {\n        changedEdges.push(createSelectionChange(edgeId, selected));\n      }\n    }\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const addSelectedNodes = (nodes) => {\n    if (state.multiSelectionActive) {\n      const nodeChanges = nodes.map((node) => createSelectionChange(node.id, true));\n      state.hooks.nodesChange.trigger(nodeChanges);\n      return;\n    }\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, new Set(nodes.map((n) => n.id)), true));\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value));\n  };\n  const addSelectedEdges = (edges) => {\n    if (state.multiSelectionActive) {\n      const changedEdges = edges.map((edge) => createSelectionChange(edge.id, true));\n      state.hooks.edgesChange.trigger(changedEdges);\n      return;\n    }\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value, new Set(edges.map((e) => e.id))));\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, /* @__PURE__ */ new Set(), true));\n  };\n  const addSelectedElements = (elements) => {\n    elementSelectionHandler(elements, true);\n  };\n  const removeSelectedNodes = (nodes) => {\n    const nodesToUnselect = nodes || state.nodes;\n    const nodeChanges = nodesToUnselect.map((n) => {\n      n.selected = false;\n      return createSelectionChange(n.id, false);\n    });\n    state.hooks.nodesChange.trigger(nodeChanges);\n  };\n  const removeSelectedEdges = (edges) => {\n    const edgesToUnselect = edges || state.edges;\n    const edgeChanges = edgesToUnselect.map((e) => {\n      e.selected = false;\n      return createSelectionChange(e.id, false);\n    });\n    state.hooks.edgesChange.trigger(edgeChanges);\n  };\n  const removeSelectedElements = (elements) => {\n    if (!elements || !elements.length) {\n      return elementSelectionHandler([], false);\n    }\n    const changes = elements.reduce(\n      (changes2, curr) => {\n        const selectionChange = createSelectionChange(curr.id, false);\n        if (isNode(curr)) {\n          changes2.nodes.push(selectionChange);\n        } else {\n          changes2.edges.push(selectionChange);\n        }\n        return changes2;\n      },\n      { nodes: [], edges: [] }\n    );\n    if (changes.nodes.length) {\n      state.hooks.nodesChange.trigger(changes.nodes);\n    }\n    if (changes.edges.length) {\n      state.hooks.edgesChange.trigger(changes.edges);\n    }\n  };\n  const setMinZoom = (minZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([minZoom, state.maxZoom]);\n    state.minZoom = minZoom;\n  };\n  const setMaxZoom = (maxZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([state.minZoom, maxZoom]);\n    state.maxZoom = maxZoom;\n  };\n  const setTranslateExtent = (translateExtent) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.translateExtent(translateExtent);\n    state.translateExtent = translateExtent;\n  };\n  const setNodeExtent = (nodeExtent) => {\n    state.nodeExtent = nodeExtent;\n    updateNodeInternals();\n  };\n  const setPaneClickDistance = (clickDistance) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.clickDistance(clickDistance);\n  };\n  const setInteractive = (isInteractive) => {\n    state.nodesDraggable = isInteractive;\n    state.nodesConnectable = isInteractive;\n    state.elementsSelectable = isInteractive;\n  };\n  const setNodes = (nodes) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    if (!state.initialized && !nextNodes.length) {\n      return;\n    }\n    state.nodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n  };\n  const setEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    if (!state.initialized && !nextEdges.length) {\n      return;\n    }\n    const validEdges = createGraphEdges(\n      nextEdges,\n      state.isValidConnection,\n      findNode,\n      findEdge,\n      state.hooks.error.trigger,\n      state.defaultEdgeOptions,\n      state.nodes,\n      state.edges\n    );\n    updateConnectionLookup(state.connectionLookup, edgeLookup.value, validEdges);\n    state.edges = validEdges;\n  };\n  const setElements = (elements) => {\n    const nextElements = elements instanceof Function ? elements([...state.nodes, ...state.edges]) : elements;\n    if (!state.initialized && !nextElements.length) {\n      return;\n    }\n    setNodes(nextElements.filter(isNode));\n    setEdges(nextElements.filter(isEdge));\n  };\n  const addNodes = (nodes) => {\n    let nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    nextNodes = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const graphNodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n    const changes = [];\n    for (const node of graphNodes) {\n      changes.push(createAdditionChange(node));\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const addEdges = (params) => {\n    let nextEdges = params instanceof Function ? params(state.edges) : params;\n    nextEdges = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const validEdges = createGraphEdges(\n      nextEdges,\n      state.isValidConnection,\n      findNode,\n      findEdge,\n      state.hooks.error.trigger,\n      state.defaultEdgeOptions,\n      state.nodes,\n      state.edges\n    );\n    const changes = [];\n    for (const edge of validEdges) {\n      changes.push(createAdditionChange(edge));\n    }\n    if (changes.length) {\n      state.hooks.edgesChange.trigger(changes);\n    }\n  };\n  const removeNodes = (nodes, removeConnectedEdges = true, removeChildren = false) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    const nodesToRemove = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const nodeChanges = [];\n    const edgeChanges = [];\n    function createEdgeRemovalChanges(nodes2) {\n      const connectedEdges = getConnectedEdges$1(nodes2);\n      for (const edge of connectedEdges) {\n        if (isDef(edge.deletable) ? edge.deletable : true) {\n          edgeChanges.push(createEdgeRemoveChange(edge.id, edge.source, edge.target, edge.sourceHandle, edge.targetHandle));\n        }\n      }\n    }\n    function createChildrenRemovalChanges(id2) {\n      const children2 = [];\n      for (const node of state.nodes) {\n        if (node.parentNode === id2) {\n          children2.push(node);\n        }\n      }\n      if (children2.length) {\n        for (const child of children2) {\n          nodeChanges.push(createNodeRemoveChange(child.id));\n        }\n        if (removeConnectedEdges) {\n          createEdgeRemovalChanges(children2);\n        }\n        for (const child of children2) {\n          createChildrenRemovalChanges(child.id);\n        }\n      }\n    }\n    for (const item of nodesToRemove) {\n      const currNode = typeof item === \"string\" ? findNode(item) : item;\n      if (!currNode) {\n        continue;\n      }\n      if (isDef(currNode.deletable) && !currNode.deletable) {\n        continue;\n      }\n      nodeChanges.push(createNodeRemoveChange(currNode.id));\n      if (removeConnectedEdges) {\n        createEdgeRemovalChanges([currNode]);\n      }\n      if (removeChildren) {\n        createChildrenRemovalChanges(currNode.id);\n      }\n    }\n    if (edgeChanges.length) {\n      state.hooks.edgesChange.trigger(edgeChanges);\n    }\n    if (nodeChanges.length) {\n      state.hooks.nodesChange.trigger(nodeChanges);\n    }\n  };\n  const removeEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    const edgesToRemove = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const changes = [];\n    for (const item of edgesToRemove) {\n      const currEdge = typeof item === \"string\" ? findEdge(item) : item;\n      if (!currEdge) {\n        continue;\n      }\n      if (isDef(currEdge.deletable) && !currEdge.deletable) {\n        continue;\n      }\n      changes.push(\n        createEdgeRemoveChange(\n          typeof item === \"string\" ? item : item.id,\n          currEdge.source,\n          currEdge.target,\n          currEdge.sourceHandle,\n          currEdge.targetHandle\n        )\n      );\n    }\n    state.hooks.edgesChange.trigger(changes);\n  };\n  const updateEdge2 = (oldEdge, newConnection, shouldReplaceId = true) => {\n    const prevEdge = findEdge(oldEdge.id);\n    if (!prevEdge) {\n      return false;\n    }\n    const prevEdgeIndex = state.edges.indexOf(prevEdge);\n    const newEdge = updateEdgeAction(oldEdge, newConnection, prevEdge, shouldReplaceId, state.hooks.error.trigger);\n    if (newEdge) {\n      const [validEdge] = createGraphEdges(\n        [newEdge],\n        state.isValidConnection,\n        findNode,\n        findEdge,\n        state.hooks.error.trigger,\n        state.defaultEdgeOptions,\n        state.nodes,\n        state.edges\n      );\n      state.edges = state.edges.map((edge, index) => index === prevEdgeIndex ? validEdge : edge);\n      updateConnectionLookup(state.connectionLookup, edgeLookup.value, [validEdge]);\n      return validEdge;\n    }\n    return false;\n  };\n  const updateEdgeData = (id2, dataUpdate, options = { replace: false }) => {\n    const edge = findEdge(id2);\n    if (!edge) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(edge) : dataUpdate;\n    edge.data = options.replace ? nextData : { ...edge.data, ...nextData };\n  };\n  const applyNodeChanges2 = (changes) => {\n    return applyChanges(changes, state.nodes);\n  };\n  const applyEdgeChanges2 = (changes) => {\n    const changedEdges = applyChanges(changes, state.edges);\n    updateConnectionLookup(state.connectionLookup, edgeLookup.value, changedEdges);\n    return changedEdges;\n  };\n  const updateNode = (id2, nodeUpdate, options = { replace: false }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextNode = typeof nodeUpdate === \"function\" ? nodeUpdate(node) : nodeUpdate;\n    if (options.replace) {\n      state.nodes.splice(state.nodes.indexOf(node), 1, nextNode);\n    } else {\n      Object.assign(node, nextNode);\n    }\n  };\n  const updateNodeData = (id2, dataUpdate, options = { replace: false }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(node) : dataUpdate;\n    node.data = options.replace ? nextData : { ...node.data, ...nextData };\n  };\n  const startConnection = (startHandle, position, isClick = false) => {\n    if (isClick) {\n      state.connectionClickStartHandle = startHandle;\n    } else {\n      state.connectionStartHandle = startHandle;\n    }\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (position) {\n      state.connectionPosition = position;\n    }\n  };\n  const updateConnection = (position, result = null, status = null) => {\n    if (state.connectionStartHandle) {\n      state.connectionPosition = position;\n      state.connectionEndHandle = result;\n      state.connectionStatus = status;\n    }\n  };\n  const endConnection = (event, isClick) => {\n    state.connectionPosition = { x: Number.NaN, y: Number.NaN };\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (isClick) {\n      state.connectionClickStartHandle = null;\n    } else {\n      state.connectionStartHandle = null;\n    }\n  };\n  const getNodeRect = (nodeOrRect) => {\n    const isRectObj = isRect(nodeOrRect);\n    const node = isRectObj ? null : isGraphNode(nodeOrRect) ? nodeOrRect : findNode(nodeOrRect.id);\n    if (!isRectObj && !node) {\n      return [null, null, isRectObj];\n    }\n    const nodeRect = isRectObj ? nodeOrRect : nodeToRect(node);\n    return [nodeRect, node, isRectObj];\n  };\n  const getIntersectingNodes = (nodeOrRect, partially = true, nodes = state.nodes) => {\n    const [nodeRect, node, isRect2] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return [];\n    }\n    const intersections = [];\n    for (const n of nodes || state.nodes) {\n      if (!isRect2 && (n.id === node.id || !n.computedPosition)) {\n        continue;\n      }\n      const currNodeRect = nodeToRect(n);\n      const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n      const partiallyVisible = partially && overlappingArea > 0;\n      if (partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height)) {\n        intersections.push(n);\n      }\n    }\n    return intersections;\n  };\n  const isNodeIntersecting = (nodeOrRect, area, partially = true) => {\n    const [nodeRect] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return false;\n    }\n    const overlappingArea = getOverlappingArea(nodeRect, area);\n    const partiallyVisible = partially && overlappingArea > 0;\n    return partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height);\n  };\n  const panBy = (delta) => {\n    const { viewport, dimensions, d3Zoom, d3Selection, translateExtent } = state;\n    if (!d3Zoom || !d3Selection || !delta.x && !delta.y) {\n      return false;\n    }\n    const nextTransform = identity.translate(viewport.x + delta.x, viewport.y + delta.y).scale(viewport.zoom);\n    const extent = [\n      [0, 0],\n      [dimensions.width, dimensions.height]\n    ];\n    const constrainedTransform = d3Zoom.constrain()(nextTransform, extent, translateExtent);\n    const transformChanged = state.viewport.x !== constrainedTransform.x || state.viewport.y !== constrainedTransform.y || state.viewport.zoom !== constrainedTransform.k;\n    d3Zoom.transform(d3Selection, constrainedTransform);\n    return transformChanged;\n  };\n  const setState = (options) => {\n    const opts = options instanceof Function ? options(state) : options;\n    const exclude = [\n      \"d3Zoom\",\n      \"d3Selection\",\n      \"d3ZoomHandler\",\n      \"viewportRef\",\n      \"vueFlowRef\",\n      \"dimensions\",\n      \"hooks\"\n    ];\n    if (isDef(opts.defaultEdgeOptions)) {\n      state.defaultEdgeOptions = opts.defaultEdgeOptions;\n    }\n    const elements = opts.modelValue || opts.nodes || opts.edges ? [] : void 0;\n    if (elements) {\n      if (opts.modelValue) {\n        elements.push(...opts.modelValue);\n      }\n      if (opts.nodes) {\n        elements.push(...opts.nodes);\n      }\n      if (opts.edges) {\n        elements.push(...opts.edges);\n      }\n      setElements(elements);\n    }\n    const setSkippedOptions = () => {\n      if (isDef(opts.maxZoom)) {\n        setMaxZoom(opts.maxZoom);\n      }\n      if (isDef(opts.minZoom)) {\n        setMinZoom(opts.minZoom);\n      }\n      if (isDef(opts.translateExtent)) {\n        setTranslateExtent(opts.translateExtent);\n      }\n    };\n    for (const o of Object.keys(opts)) {\n      const key = o;\n      const option = opts[key];\n      if (![...storeOptionsToSkip, ...exclude].includes(key) && isDef(option)) {\n        state[key] = option;\n      }\n    }\n    until(() => state.d3Zoom).not.toBeNull().then(setSkippedOptions);\n    if (!state.initialized) {\n      state.initialized = true;\n    }\n  };\n  const toObject = () => {\n    const nodes = [];\n    const edges = [];\n    for (const node of state.nodes) {\n      const {\n        computedPosition: _,\n        handleBounds: __,\n        selected: ___,\n        dimensions: ____,\n        isParent: _____,\n        resizing: ______,\n        dragging: _______,\n        events: _________,\n        ...rest\n      } = node;\n      nodes.push(rest);\n    }\n    for (const edge of state.edges) {\n      const { selected: _, sourceNode: __, targetNode: ___, events: ____, ...rest } = edge;\n      edges.push(rest);\n    }\n    return JSON.parse(\n      JSON.stringify({\n        nodes,\n        edges,\n        position: [state.viewport.x, state.viewport.y],\n        zoom: state.viewport.zoom,\n        viewport: state.viewport\n      })\n    );\n  };\n  const fromObject = (obj) => {\n    return new Promise((resolve) => {\n      const { nodes, edges, position, zoom: zoom2, viewport } = obj;\n      if (nodes) {\n        setNodes(nodes);\n      }\n      if (edges) {\n        setEdges(edges);\n      }\n      if ((viewport == null ? void 0 : viewport.x) && (viewport == null ? void 0 : viewport.y) || position) {\n        const x = (viewport == null ? void 0 : viewport.x) || position[0];\n        const y = (viewport == null ? void 0 : viewport.y) || position[1];\n        const nextZoom = (viewport == null ? void 0 : viewport.zoom) || zoom2 || state.viewport.zoom;\n        return until(() => viewportHelper.value.viewportInitialized).toBe(true).then(() => {\n          viewportHelper.value.setViewport({\n            x,\n            y,\n            zoom: nextZoom\n          }).then(() => {\n            resolve(true);\n          });\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  };\n  const $reset = () => {\n    const resetState = useState();\n    state.edges = [];\n    state.nodes = [];\n    if (state.d3Zoom && state.d3Selection) {\n      const updatedTransform = identity.translate(resetState.defaultViewport.x ?? 0, resetState.defaultViewport.y ?? 0).scale(clamp(resetState.defaultViewport.zoom ?? 1, resetState.minZoom, resetState.maxZoom));\n      const bbox = state.viewportRef.getBoundingClientRect();\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = state.d3Zoom.constrain()(updatedTransform, extent, resetState.translateExtent);\n      state.d3Zoom.transform(state.d3Selection, constrainedTransform);\n    }\n    setState(resetState);\n  };\n  return {\n    updateNodePositions,\n    updateNodeDimensions,\n    setElements,\n    setNodes,\n    setEdges,\n    addNodes,\n    addEdges,\n    removeNodes,\n    removeEdges,\n    findNode,\n    findEdge,\n    updateEdge: updateEdge2,\n    updateEdgeData,\n    updateNode,\n    updateNodeData,\n    applyEdgeChanges: applyEdgeChanges2,\n    applyNodeChanges: applyNodeChanges2,\n    addSelectedElements,\n    addSelectedNodes,\n    addSelectedEdges,\n    setMinZoom,\n    setMaxZoom,\n    setTranslateExtent,\n    setNodeExtent,\n    setPaneClickDistance,\n    removeSelectedElements,\n    removeSelectedNodes,\n    removeSelectedEdges,\n    startConnection,\n    updateConnection,\n    endConnection,\n    setInteractive,\n    setState,\n    getIntersectingNodes,\n    getIncomers: getIncomers$1,\n    getOutgoers: getOutgoers$1,\n    getConnectedEdges: getConnectedEdges$1,\n    getHandleConnections,\n    isNodeIntersecting,\n    panBy,\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params),\n    screenToFlowCoordinate: (params) => viewportHelper.value.screenToFlowCoordinate(params),\n    flowToScreenCoordinate: (params) => viewportHelper.value.flowToScreenCoordinate(params),\n    toObject,\n    fromObject,\n    updateNodeInternals,\n    viewportHelper,\n    $reset,\n    $destroy: () => {\n    }\n  };\n}\nconst _hoisted_1$9 = [\"data-id\", \"data-handleid\", \"data-nodeid\", \"data-handlepos\"];\nconst __default__$f = {\n  name: \"Handle\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$f = /* @__PURE__ */ defineComponent({\n  ...__default__$f,\n  props: {\n    id: { default: null },\n    type: {},\n    position: { default: () => Position.Top },\n    isValidConnection: { type: Function },\n    connectable: { type: [Boolean, Number, String, Function], default: void 0 },\n    connectableStart: { type: Boolean, default: true },\n    connectableEnd: { type: Boolean, default: true }\n  },\n  setup(__props, { expose: __expose }) {\n    const props = createPropsRestProxy(__props, [\"position\", \"connectable\", \"connectableStart\", \"connectableEnd\", \"id\"]);\n    const type = toRef(() => props.type ?? \"source\");\n    const isValidConnection = toRef(() => props.isValidConnection ?? null);\n    const {\n      id: flowId,\n      connectionStartHandle,\n      connectionClickStartHandle,\n      connectionEndHandle,\n      vueFlowRef,\n      nodesConnectable,\n      noDragClassName,\n      noPanClassName\n    } = useVueFlow();\n    const { id: nodeId, node, nodeEl, connectedEdges } = useNode();\n    const handle = ref();\n    const isConnectableStart = toRef(() => typeof __props.connectableStart !== \"undefined\" ? __props.connectableStart : true);\n    const isConnectableEnd = toRef(() => typeof __props.connectableEnd !== \"undefined\" ? __props.connectableEnd : true);\n    const isConnecting = toRef(\n      () => {\n        var _a, _b, _c, _d, _e, _f;\n        return ((_a = connectionStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionStartHandle.value) == null ? void 0 : _b.id) === __props.id && ((_c = connectionStartHandle.value) == null ? void 0 : _c.type) === type.value || ((_d = connectionEndHandle.value) == null ? void 0 : _d.nodeId) === nodeId && ((_e = connectionEndHandle.value) == null ? void 0 : _e.id) === __props.id && ((_f = connectionEndHandle.value) == null ? void 0 : _f.type) === type.value;\n      }\n    );\n    const isClickConnecting = toRef(\n      () => {\n        var _a, _b, _c;\n        return ((_a = connectionClickStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionClickStartHandle.value) == null ? void 0 : _b.id) === __props.id && ((_c = connectionClickStartHandle.value) == null ? void 0 : _c.type) === type.value;\n      }\n    );\n    const { handlePointerDown, handleClick } = useHandle({\n      nodeId,\n      handleId: __props.id,\n      isValidConnection,\n      type\n    });\n    const isConnectable = computed(() => {\n      if (typeof __props.connectable === \"string\" && __props.connectable === \"single\") {\n        return !connectedEdges.value.some((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        });\n      }\n      if (typeof __props.connectable === \"number\") {\n        return connectedEdges.value.filter((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        }).length < __props.connectable;\n      }\n      if (typeof __props.connectable === \"function\") {\n        return __props.connectable(node, connectedEdges.value);\n      }\n      return isDef(__props.connectable) ? __props.connectable : nodesConnectable.value;\n    });\n    onMounted(() => {\n      var _a;\n      if (!node.dimensions.width || !node.dimensions.height) {\n        return;\n      }\n      const existingBounds = (_a = node.handleBounds[type.value]) == null ? void 0 : _a.find((b) => b.id === __props.id);\n      if (!vueFlowRef.value || existingBounds) {\n        return;\n      }\n      const viewportNode = vueFlowRef.value.querySelector(\".vue-flow__transformationpane\");\n      if (!nodeEl.value || !handle.value || !viewportNode || !__props.id) {\n        return;\n      }\n      const nodeBounds = nodeEl.value.getBoundingClientRect();\n      const handleBounds = handle.value.getBoundingClientRect();\n      const style = window.getComputedStyle(viewportNode);\n      const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n      const nextBounds = {\n        id: __props.id,\n        position: __props.position,\n        x: (handleBounds.left - nodeBounds.left) / zoom2,\n        y: (handleBounds.top - nodeBounds.top) / zoom2,\n        type: type.value,\n        nodeId,\n        ...getDimensions(handle.value)\n      };\n      node.handleBounds[type.value] = [...node.handleBounds[type.value] ?? [], nextBounds];\n    });\n    function onPointerDown(event) {\n      const isMouseTriggered = isMouseEvent(event);\n      if (isConnectable.value && isConnectableStart.value && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {\n        handlePointerDown(event);\n      }\n    }\n    function onClick(event) {\n      if (!nodeId || !connectionClickStartHandle.value && !isConnectableStart.value) {\n        return;\n      }\n      if (isConnectable.value) {\n        handleClick(event);\n      }\n    }\n    __expose({\n      handleClick,\n      handlePointerDown,\n      onClick,\n      onPointerDown\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"handle\",\n        ref: handle,\n        \"data-id\": `${unref(flowId)}-${unref(nodeId)}-${__props.id}-${type.value}`,\n        \"data-handleid\": __props.id,\n        \"data-nodeid\": unref(nodeId),\n        \"data-handlepos\": _ctx.position,\n        class: normalizeClass([\"vue-flow__handle\", [\n          `vue-flow__handle-${_ctx.position}`,\n          `vue-flow__handle-${__props.id}`,\n          unref(noDragClassName),\n          unref(noPanClassName),\n          type.value,\n          {\n            connectable: isConnectable.value,\n            connecting: isClickConnecting.value,\n            connectablestart: isConnectableStart.value,\n            connectableend: isConnectableEnd.value,\n            connectionindicator: isConnectable.value && (isConnectableStart.value && !isConnecting.value || isConnectableEnd.value && isConnecting.value)\n          }\n        ]]),\n        onMousedown: onPointerDown,\n        onTouchstartPassive: onPointerDown,\n        onClick\n      }, [\n        renderSlot(_ctx.$slots, \"default\", { id: _ctx.id })\n      ], 42, _hoisted_1$9);\n    };\n  }\n});\nconst DefaultNode = function({\n  sourcePosition = Position.Bottom,\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(Fragment, [label]),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nDefaultNode.props = [\"sourcePosition\", \"targetPosition\", \"label\", \"isValidTargetPos\", \"isValidSourcePos\", \"connectable\", \"data\"];\nDefaultNode.inheritAttrs = false;\nDefaultNode.compatConfig = { MODE: 3 };\nconst DefaultNode$1 = DefaultNode;\nconst OutputNode = function({\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(Fragment, [label])\n  ];\n};\nOutputNode.props = [\"targetPosition\", \"label\", \"isValidTargetPos\", \"connectable\", \"data\"];\nOutputNode.inheritAttrs = false;\nOutputNode.compatConfig = { MODE: 3 };\nconst OutputNode$1 = OutputNode;\nconst InputNode = function({\n  sourcePosition = Position.Bottom,\n  label: _label,\n  connectable = true,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    typeof label !== \"string\" && label ? h(label) : h(Fragment, [label]),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nInputNode.props = [\"sourcePosition\", \"label\", \"isValidSourcePos\", \"connectable\", \"data\"];\nInputNode.inheritAttrs = false;\nInputNode.compatConfig = { MODE: 3 };\nconst InputNode$1 = InputNode;\nconst _hoisted_1$8 = [\"transform\"];\nconst _hoisted_2$2 = [\"width\", \"height\", \"x\", \"y\", \"rx\", \"ry\"];\nconst _hoisted_3$1 = [\"y\"];\nconst __default__$e = {\n  name: \"EdgeText\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$e = /* @__PURE__ */ defineComponent({\n  ...__default__$e,\n  props: {\n    x: {},\n    y: {},\n    label: {},\n    labelStyle: { default: () => ({}) },\n    labelShowBg: { type: Boolean, default: true },\n    labelBgStyle: { default: () => ({}) },\n    labelBgPadding: { default: () => [2, 4] },\n    labelBgBorderRadius: { default: 2 }\n  },\n  setup(__props) {\n    const box = ref({ x: 0, y: 0, width: 0, height: 0 });\n    const el = ref(null);\n    const transform = computed(() => `translate(${__props.x - box.value.width / 2} ${__props.y - box.value.height / 2})`);\n    onMounted(getBox);\n    watch([() => __props.x, () => __props.y, el, () => __props.label], getBox);\n    function getBox() {\n      if (!el.value) {\n        return;\n      }\n      const nextBox = el.value.getBBox();\n      if (nextBox.width !== box.value.width || nextBox.height !== box.value.height) {\n        box.value = nextBox;\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"g\", {\n        transform: transform.value,\n        class: \"vue-flow__edge-textwrapper\"\n      }, [\n        _ctx.labelShowBg ? (openBlock(), createElementBlock(\"rect\", {\n          key: 0,\n          class: \"vue-flow__edge-textbg\",\n          width: `${box.value.width + 2 * _ctx.labelBgPadding[0]}px`,\n          height: `${box.value.height + 2 * _ctx.labelBgPadding[1]}px`,\n          x: -_ctx.labelBgPadding[0],\n          y: -_ctx.labelBgPadding[1],\n          style: normalizeStyle(_ctx.labelBgStyle),\n          rx: _ctx.labelBgBorderRadius,\n          ry: _ctx.labelBgBorderRadius\n        }, null, 12, _hoisted_2$2)) : createCommentVNode(\"\", true),\n        createElementVNode(\"text\", mergeProps(_ctx.$attrs, {\n          ref_key: \"el\",\n          ref: el,\n          class: \"vue-flow__edge-text\",\n          y: box.value.height / 2,\n          dy: \"0.3em\",\n          style: _ctx.labelStyle\n        }), [\n          renderSlot(_ctx.$slots, \"default\", {}, () => [\n            typeof _ctx.label !== \"string\" ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.label), { key: 0 })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n              createTextVNode(toDisplayString(_ctx.label), 1)\n            ], 64))\n          ])\n        ], 16, _hoisted_3$1)\n      ], 8, _hoisted_1$8);\n    };\n  }\n});\nconst _hoisted_1$7 = [\"id\", \"d\", \"marker-end\", \"marker-start\"];\nconst _hoisted_2$1 = [\"d\", \"stroke-width\"];\nconst __default__$d = {\n  name: \"BaseEdge\",\n  inheritAttrs: false,\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$d = /* @__PURE__ */ defineComponent({\n  ...__default__$d,\n  props: {\n    id: {},\n    labelX: {},\n    labelY: {},\n    path: {},\n    label: {},\n    markerStart: {},\n    markerEnd: {},\n    interactionWidth: { default: 20 },\n    labelStyle: {},\n    labelShowBg: { type: Boolean },\n    labelBgStyle: {},\n    labelBgPadding: {},\n    labelBgBorderRadius: {}\n  },\n  setup(__props, { expose: __expose }) {\n    const pathEl = ref(null);\n    const interactionEl = ref(null);\n    const labelEl = ref(null);\n    const attrs = useAttrs();\n    __expose({\n      pathEl,\n      interactionEl,\n      labelEl\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"path\", mergeProps(unref(attrs), {\n          id: _ctx.id,\n          ref_key: \"pathEl\",\n          ref: pathEl,\n          d: _ctx.path,\n          class: \"vue-flow__edge-path\",\n          \"marker-end\": _ctx.markerEnd,\n          \"marker-start\": _ctx.markerStart\n        }), null, 16, _hoisted_1$7),\n        _ctx.interactionWidth ? (openBlock(), createElementBlock(\"path\", {\n          key: 0,\n          ref_key: \"interactionEl\",\n          ref: interactionEl,\n          fill: \"none\",\n          d: _ctx.path,\n          \"stroke-width\": _ctx.interactionWidth,\n          \"stroke-opacity\": 0,\n          class: \"vue-flow__edge-interaction\"\n        }, null, 8, _hoisted_2$1)) : createCommentVNode(\"\", true),\n        _ctx.label && _ctx.labelX && _ctx.labelY ? (openBlock(), createBlock(_sfc_main$e, {\n          key: 1,\n          ref_key: \"labelEl\",\n          ref: labelEl,\n          x: _ctx.labelX,\n          y: _ctx.labelY,\n          label: _ctx.label,\n          \"label-show-bg\": _ctx.labelShowBg,\n          \"label-bg-style\": _ctx.labelBgStyle,\n          \"label-bg-padding\": _ctx.labelBgPadding,\n          \"label-bg-border-radius\": _ctx.labelBgBorderRadius,\n          \"label-style\": _ctx.labelStyle\n        }, null, 8, [\"x\", \"y\", \"label\", \"label-show-bg\", \"label-bg-style\", \"label-bg-padding\", \"label-bg-border-radius\", \"label-style\"])) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction getSimpleEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY\n}) {\n  const xOffset = Math.abs(targetX - sourceX) / 2;\n  const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  const yOffset = Math.abs(targetY - sourceY) / 2;\n  const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourceControlX,\n  sourceControlY,\n  targetControlX,\n  targetControlY\n}) {\n  const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  const offsetX = Math.abs(centerX - sourceX);\n  const offsetY = Math.abs(centerY - sourceY);\n  return [centerX, centerY, offsetX, offsetY];\n}\nfunction calculateControlOffset(distance2, curvature) {\n  if (distance2 >= 0) {\n    return 0.5 * distance2;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance2);\n  }\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n      ctX = x1 - calculateControlOffset(x1 - x2, c);\n      ctY = y1;\n      break;\n    case Position.Right:\n      ctX = x1 + calculateControlOffset(x2 - x1, c);\n      ctY = y1;\n      break;\n    case Position.Top:\n      ctX = x1;\n      ctY = y1 - calculateControlOffset(y1 - y2, c);\n      break;\n    case Position.Bottom:\n      ctX = x1;\n      ctY = y1 + calculateControlOffset(y2 - y1, c);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getBezierPath(bezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    curvature = 0.25\n  } = bezierPathParams;\n  const [sourceControlX, sourceControlY] = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  });\n  const [targetControlX, targetControlY] = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  });\n  const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    labelX,\n    labelY,\n    offsetX,\n    offsetY\n  ];\n}\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      ctX = 0.5 * (x1 + x2);\n      ctY = y1;\n      break;\n    case Position.Top:\n    case Position.Bottom:\n      ctX = x1;\n      ctY = 0.5 * (y1 + y2);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getSimpleBezierPath(simpleBezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top\n  } = simpleBezierPathParams;\n  const [sourceControlX, sourceControlY] = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  });\n  const [targetControlX, targetControlY] = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  });\n  const [centerX, centerY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    centerX,\n    centerY,\n    offsetX,\n    offsetY\n  ];\n}\nconst handleDirections = {\n  [Position.Left]: { x: -1, y: 0 },\n  [Position.Right]: { x: 1, y: 0 },\n  [Position.Top]: { x: 0, y: -1 },\n  [Position.Bottom]: { x: 0, y: 1 }\n};\nfunction getDirection({\n  source,\n  sourcePosition = Position.Bottom,\n  target\n}) {\n  if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n    return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n  }\n  return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n}\nfunction distance(a, b) {\n  return Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n}\nfunction getPoints({\n  source,\n  sourcePosition = Position.Bottom,\n  target,\n  targetPosition = Position.Top,\n  center,\n  offset\n}) {\n  const sourceDir = handleDirections[sourcePosition];\n  const targetDir = handleDirections[targetPosition];\n  const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n  const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n  const dir = getDirection({\n    source: sourceGapped,\n    sourcePosition,\n    target: targetGapped\n  });\n  const dirAccessor = dir.x !== 0 ? \"x\" : \"y\";\n  const currDir = dir[dirAccessor];\n  let points;\n  let centerX, centerY;\n  const sourceGapOffset = { x: 0, y: 0 };\n  const targetGapOffset = { x: 0, y: 0 };\n  const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getSimpleEdgeCenter({\n    sourceX: source.x,\n    sourceY: source.y,\n    targetX: target.x,\n    targetY: target.y\n  });\n  if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n    centerX = center.x ?? defaultCenterX;\n    centerY = center.y ?? defaultCenterY;\n    const verticalSplit = [\n      { x: centerX, y: sourceGapped.y },\n      { x: centerX, y: targetGapped.y }\n    ];\n    const horizontalSplit = [\n      { x: sourceGapped.x, y: centerY },\n      { x: targetGapped.x, y: centerY }\n    ];\n    if (sourceDir[dirAccessor] === currDir) {\n      points = dirAccessor === \"x\" ? verticalSplit : horizontalSplit;\n    } else {\n      points = dirAccessor === \"x\" ? horizontalSplit : verticalSplit;\n    }\n  } else {\n    const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n    const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n    if (dirAccessor === \"x\") {\n      points = sourceDir.x === currDir ? targetSource : sourceTarget;\n    } else {\n      points = sourceDir.y === currDir ? sourceTarget : targetSource;\n    }\n    if (sourcePosition === targetPosition) {\n      const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n      if (diff <= offset) {\n        const gapOffset = Math.min(offset - 1, offset - diff);\n        if (sourceDir[dirAccessor] === currDir) {\n          sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n        } else {\n          targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n        }\n      }\n    }\n    if (sourcePosition !== targetPosition) {\n      const dirAccessorOpposite = dirAccessor === \"x\" ? \"y\" : \"x\";\n      const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n      const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n      const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n      const flipSourceTarget = sourceDir[dirAccessor] === 1 && (!isSameDir && sourceGtTargetOppo || isSameDir && sourceLtTargetOppo) || sourceDir[dirAccessor] !== 1 && (!isSameDir && sourceLtTargetOppo || isSameDir && sourceGtTargetOppo);\n      if (flipSourceTarget) {\n        points = dirAccessor === \"x\" ? sourceTarget : targetSource;\n      }\n    }\n    const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n    const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n    const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n    const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n    if (maxXDistance >= maxYDistance) {\n      centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n      centerY = points[0].y;\n    } else {\n      centerX = points[0].x;\n      centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n    }\n  }\n  const pathPoints = [\n    source,\n    { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n    ...points,\n    { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n    target\n  ];\n  return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n  const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n  const { x, y } = b;\n  if (a.x === x && x === c.x || a.y === y && y === c.y) {\n    return `L${x} ${y}`;\n  }\n  if (a.y === y) {\n    const xDir2 = a.x < c.x ? -1 : 1;\n    const yDir2 = a.y < c.y ? 1 : -1;\n    return `L ${x + bendSize * xDir2},${y}Q ${x},${y} ${x},${y + bendSize * yDir2}`;\n  }\n  const xDir = a.x < c.x ? 1 : -1;\n  const yDir = a.y < c.y ? -1 : 1;\n  return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath(smoothStepPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    borderRadius = 5,\n    centerX,\n    centerY,\n    offset = 20\n  } = smoothStepPathParams;\n  const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n    source: { x: sourceX, y: sourceY },\n    sourcePosition,\n    target: { x: targetX, y: targetY },\n    targetPosition,\n    center: { x: centerX, y: centerY },\n    offset\n  });\n  const path = points.reduce((res, p, i) => {\n    let segment;\n    if (i > 0 && i < points.length - 1) {\n      segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n    } else {\n      segment = `${i === 0 ? \"M\" : \"L\"}${p.x} ${p.y}`;\n    }\n    res += segment;\n    return res;\n  }, \"\");\n  return [path, labelX, labelY, offsetX, offsetY];\n}\nfunction getStraightPath(straightEdgeParams) {\n  const { sourceX, sourceY, targetX, targetY } = straightEdgeParams;\n  const [centerX, centerY, offsetX, offsetY] = getSimpleEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY\n  });\n  return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, centerX, centerY, offsetX, offsetY];\n}\nconst StraightEdge = defineComponent({\n  name: \"StraightEdge\",\n  props: [\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getStraightPath(props);\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst StraightEdge$1 = StraightEdge;\nconst SmoothStepEdge = defineComponent({\n  name: \"SmoothStepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"borderRadius\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\",\n    \"offset\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSmoothStepPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SmoothStepEdge$1 = SmoothStepEdge;\nconst StepEdge = defineComponent({\n  name: \"StepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  setup(props, { attrs }) {\n    return () => h(SmoothStepEdge$1, { ...props, ...attrs, borderRadius: 0 });\n  }\n});\nconst StepEdge$1 = StepEdge;\nconst BezierEdge = defineComponent({\n  name: \"BezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"curvature\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst BezierEdge$1 = BezierEdge;\nconst SimpleBezierEdge = defineComponent({\n  name: \"SimpleBezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSimpleBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SimpleBezierEdge$1 = SimpleBezierEdge;\nconst defaultNodeTypes = {\n  input: InputNode$1,\n  default: DefaultNode$1,\n  output: OutputNode$1\n};\nconst defaultEdgeTypes = {\n  default: BezierEdge$1,\n  straight: StraightEdge$1,\n  step: StepEdge$1,\n  smoothstep: SmoothStepEdge$1,\n  simplebezier: SimpleBezierEdge$1\n};\nfunction useGetters(state, nodeLookup, edgeLookup) {\n  const getNode = computed(() => (id2) => nodeLookup.value.get(id2));\n  const getEdge = computed(() => (id2) => edgeLookup.value.get(id2));\n  const getEdgeTypes = computed(() => {\n    const edgeTypes = {\n      ...defaultEdgeTypes,\n      ...state.edgeTypes\n    };\n    const keys = Object.keys(edgeTypes);\n    for (const e of state.edges) {\n      e.type && !keys.includes(e.type) && (edgeTypes[e.type] = e.type);\n    }\n    return edgeTypes;\n  });\n  const getNodeTypes = computed(() => {\n    const nodeTypes = {\n      ...defaultNodeTypes,\n      ...state.nodeTypes\n    };\n    const keys = Object.keys(nodeTypes);\n    for (const n of state.nodes) {\n      n.type && !keys.includes(n.type) && (nodeTypes[n.type] = n.type);\n    }\n    return nodeTypes;\n  });\n  const getNodes = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      return getNodesInside(\n        state.nodes,\n        {\n          x: 0,\n          y: 0,\n          width: state.dimensions.width,\n          height: state.dimensions.height\n        },\n        state.viewport,\n        true\n      );\n    }\n    return state.nodes;\n  });\n  const getEdges = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      const visibleEdges = [];\n      for (const edge of state.edges) {\n        const source = nodeLookup.value.get(edge.source);\n        const target = nodeLookup.value.get(edge.target);\n        if (isEdgeVisible({\n          sourcePos: source.computedPosition || { x: 0, y: 0 },\n          targetPos: target.computedPosition || { x: 0, y: 0 },\n          sourceWidth: source.dimensions.width,\n          sourceHeight: source.dimensions.height,\n          targetWidth: target.dimensions.width,\n          targetHeight: target.dimensions.height,\n          width: state.dimensions.width,\n          height: state.dimensions.height,\n          viewport: state.viewport\n        })) {\n          visibleEdges.push(edge);\n        }\n      }\n      return visibleEdges;\n    }\n    return state.edges;\n  });\n  const getElements = computed(() => [...getNodes.value, ...getEdges.value]);\n  const getSelectedNodes = computed(() => {\n    const selectedNodes = [];\n    for (const node of state.nodes) {\n      if (node.selected) {\n        selectedNodes.push(node);\n      }\n    }\n    return selectedNodes;\n  });\n  const getSelectedEdges = computed(() => {\n    const selectedEdges = [];\n    for (const edge of state.edges) {\n      if (edge.selected) {\n        selectedEdges.push(edge);\n      }\n    }\n    return selectedEdges;\n  });\n  const getSelectedElements = computed(() => [\n    ...getSelectedNodes.value,\n    ...getSelectedEdges.value\n  ]);\n  const getNodesInitialized = computed(() => {\n    const initializedNodes = [];\n    for (const node of state.nodes) {\n      if (!!node.dimensions.width && !!node.dimensions.height && node.handleBounds !== void 0) {\n        initializedNodes.push(node);\n      }\n    }\n    return initializedNodes;\n  });\n  const areNodesInitialized = computed(\n    () => getNodes.value.length > 0 && getNodesInitialized.value.length === getNodes.value.length\n  );\n  return {\n    getNode,\n    getEdge,\n    getElements,\n    getEdgeTypes,\n    getNodeTypes,\n    getEdges,\n    getNodes,\n    getSelectedElements,\n    getSelectedNodes,\n    getSelectedEdges,\n    getNodesInitialized,\n    areNodesInitialized\n  };\n}\nclass Storage {\n  constructor() {\n    this.currentId = 0;\n    this.flows = /* @__PURE__ */ new Map();\n  }\n  static getInstance() {\n    var _a;\n    const vueApp = (_a = getCurrentInstance()) == null ? void 0 : _a.appContext.app;\n    const existingInstance = (vueApp == null ? void 0 : vueApp.config.globalProperties.$vueFlowStorage) ?? Storage.instance;\n    Storage.instance = existingInstance ?? new Storage();\n    if (vueApp) {\n      vueApp.config.globalProperties.$vueFlowStorage = Storage.instance;\n    }\n    return Storage.instance;\n  }\n  set(id2, flow) {\n    return this.flows.set(id2, flow);\n  }\n  get(id2) {\n    return this.flows.get(id2);\n  }\n  remove(id2) {\n    return this.flows.delete(id2);\n  }\n  create(id2, preloadedState) {\n    const state = useState();\n    const reactiveState = reactive(state);\n    const hooksOn = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      const name = `on${n.charAt(0).toUpperCase() + n.slice(1)}`;\n      hooksOn[name] = h2.on;\n    }\n    const emits = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      emits[n] = h2.trigger;\n    }\n    const nodeLookup = computed(() => {\n      const nodesMap = /* @__PURE__ */ new Map();\n      for (const node of reactiveState.nodes) {\n        nodesMap.set(node.id, node);\n      }\n      return nodesMap;\n    });\n    const edgeLookup = computed(() => {\n      const edgesMap = /* @__PURE__ */ new Map();\n      for (const edge of reactiveState.edges) {\n        edgesMap.set(edge.id, edge);\n      }\n      return edgesMap;\n    });\n    const getters = useGetters(reactiveState, nodeLookup, edgeLookup);\n    const actions = useActions(reactiveState, nodeLookup, edgeLookup);\n    actions.setState({ ...reactiveState, ...preloadedState });\n    const flow = {\n      ...hooksOn,\n      ...getters,\n      ...actions,\n      ...toRefs(reactiveState),\n      nodeLookup,\n      edgeLookup,\n      emits,\n      id: id2,\n      vueFlowVersion: \"1.43.1\",\n      $destroy: () => {\n        this.remove(id2);\n      }\n    };\n    this.set(id2, flow);\n    return flow;\n  }\n  getId() {\n    return `vue-flow-${this.currentId++}`;\n  }\n}\nfunction useVueFlow(idOrOpts) {\n  const storage = Storage.getInstance();\n  const scope = getCurrentScope();\n  const isOptsObj = typeof idOrOpts === \"object\";\n  const options = isOptsObj ? idOrOpts : { id: idOrOpts };\n  const id2 = options.id;\n  const vueFlowId = id2 ?? (scope == null ? void 0 : scope.vueFlowId);\n  let vueFlow;\n  if (scope) {\n    const injectedState = inject(VueFlow, null);\n    if (typeof injectedState !== \"undefined\" && injectedState !== null && (!vueFlowId || injectedState.id === vueFlowId)) {\n      vueFlow = injectedState;\n    }\n  }\n  if (!vueFlow) {\n    if (vueFlowId) {\n      vueFlow = storage.get(vueFlowId);\n    }\n  }\n  if (!vueFlow || vueFlowId && vueFlow.id !== vueFlowId) {\n    const name = id2 ?? storage.getId();\n    const state = storage.create(name, options);\n    vueFlow = state;\n    const vfScope = scope ?? effectScope(true);\n    vfScope.run(() => {\n      watch(\n        state.applyDefault,\n        (shouldApplyDefault, __, onCleanup) => {\n          const nodesChangeHandler = (changes) => {\n            state.applyNodeChanges(changes);\n          };\n          const edgesChangeHandler = (changes) => {\n            state.applyEdgeChanges(changes);\n          };\n          if (shouldApplyDefault) {\n            state.onNodesChange(nodesChangeHandler);\n            state.onEdgesChange(edgesChangeHandler);\n          } else {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          }\n          onCleanup(() => {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          });\n        },\n        { immediate: true }\n      );\n      tryOnScopeDispose(() => {\n        if (vueFlow) {\n          const storedInstance = storage.get(vueFlow.id);\n          if (storedInstance) {\n            storedInstance.$destroy();\n          } else {\n            warn(`No store instance found for id ${vueFlow.id} in storage.`);\n          }\n        }\n      });\n    });\n  } else {\n    if (isOptsObj) {\n      vueFlow.setState(options);\n    }\n  }\n  if (scope) {\n    provide(VueFlow, vueFlow);\n    scope.vueFlowId = vueFlow.id;\n  }\n  if (isOptsObj) {\n    const instance = getCurrentInstance();\n    if ((instance == null ? void 0 : instance.type.name) !== \"VueFlow\") {\n      vueFlow.emits.error(new VueFlowError(ErrorCode.USEVUEFLOW_OPTIONS));\n    }\n  }\n  return vueFlow;\n}\nfunction useResizeHandler(viewportEl) {\n  const { emits, dimensions } = useVueFlow();\n  let resizeObserver;\n  onMounted(() => {\n    const rendererNode = viewportEl.value;\n    const updateDimensions = () => {\n      if (!rendererNode) {\n        return;\n      }\n      const size = getDimensions(rendererNode);\n      if (size.width === 0 || size.height === 0) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_VIEWPORT_DIMENSIONS));\n      }\n      dimensions.value = { width: size.width || 500, height: size.height || 500 };\n    };\n    updateDimensions();\n    window.addEventListener(\"resize\", updateDimensions);\n    if (rendererNode) {\n      resizeObserver = new ResizeObserver(() => updateDimensions());\n      resizeObserver.observe(rendererNode);\n    }\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"resize\", updateDimensions);\n      if (resizeObserver && rendererNode) {\n        resizeObserver.unobserve(rendererNode);\n      }\n    });\n  });\n}\nconst __default__$c = {\n  name: \"UserSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$c = /* @__PURE__ */ defineComponent({\n  ...__default__$c,\n  props: {\n    userSelectionRect: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__selection vue-flow__container\",\n        style: normalizeStyle({\n          width: `${_ctx.userSelectionRect.width}px`,\n          height: `${_ctx.userSelectionRect.height}px`,\n          transform: `translate(${_ctx.userSelectionRect.x}px, ${_ctx.userSelectionRect.y}px)`\n        })\n      }, null, 4);\n    };\n  }\n});\nconst _hoisted_1$6 = [\"tabIndex\"];\nconst __default__$b = {\n  name: \"NodesSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  ...__default__$b,\n  setup(__props) {\n    const { emits, viewport, getSelectedNodes, noPanClassName, disableKeyboardA11y, userSelectionActive } = useVueFlow();\n    const updatePositions = useUpdateNodePositions();\n    const el = ref(null);\n    const dragging = useDrag({\n      el,\n      onStart(args) {\n        emits.selectionDragStart(args);\n      },\n      onDrag(args) {\n        emits.selectionDrag(args);\n      },\n      onStop(args) {\n        emits.selectionDragStop(args);\n      }\n    });\n    onMounted(() => {\n      var _a;\n      if (!disableKeyboardA11y.value) {\n        (_a = el.value) == null ? void 0 : _a.focus({ preventScroll: true });\n      }\n    });\n    const selectedNodesBBox = computed(() => getRectOfNodes(getSelectedNodes.value));\n    const innerStyle = computed(() => ({\n      width: `${selectedNodesBBox.value.width}px`,\n      height: `${selectedNodesBBox.value.height}px`,\n      top: `${selectedNodesBBox.value.y}px`,\n      left: `${selectedNodesBBox.value.x}px`\n    }));\n    function onContextMenu(event) {\n      emits.selectionContextMenu({ event, nodes: getSelectedNodes.value });\n    }\n    function onKeyDown(event) {\n      if (disableKeyboardA11y) {\n        return;\n      }\n      if (arrowKeyDiffs[event.key]) {\n        event.preventDefault();\n        updatePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n    return (_ctx, _cache) => {\n      return !unref(userSelectionActive) && selectedNodesBBox.value.width && selectedNodesBBox.value.height ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([\"vue-flow__nodesselection vue-flow__container\", unref(noPanClassName)]),\n        style: normalizeStyle({ transform: `translate(${unref(viewport).x}px,${unref(viewport).y}px) scale(${unref(viewport).zoom})` })\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"el\",\n          ref: el,\n          class: normalizeClass([{ dragging: unref(dragging) }, \"vue-flow__nodesselection-rect\"]),\n          style: normalizeStyle(innerStyle.value),\n          tabIndex: unref(disableKeyboardA11y) ? void 0 : -1,\n          onContextmenu: onContextMenu,\n          onKeydown: onKeyDown\n        }, null, 46, _hoisted_1$6)\n      ], 6)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\nconst __default__$a = {\n  name: \"Pane\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  ...__default__$a,\n  props: {\n    isSelecting: { type: Boolean },\n    selectionKeyPressed: { type: Boolean }\n  },\n  setup(__props) {\n    const {\n      vueFlowRef,\n      nodes,\n      viewport,\n      emits,\n      userSelectionActive,\n      removeSelectedElements,\n      userSelectionRect,\n      elementsSelectable,\n      nodesSelectionActive,\n      getSelectedEdges,\n      getSelectedNodes,\n      removeNodes,\n      removeEdges,\n      selectionMode,\n      deleteKeyCode,\n      multiSelectionKeyCode,\n      multiSelectionActive,\n      edgeLookup,\n      nodeLookup,\n      connectionLookup,\n      defaultEdgeOptions,\n      connectionStartHandle\n    } = useVueFlow();\n    const container = ref(null);\n    const selectedNodeIds = ref(/* @__PURE__ */ new Set());\n    const selectedEdgeIds = ref(/* @__PURE__ */ new Set());\n    const containerBounds = ref();\n    const hasActiveSelection = toRef(() => elementsSelectable.value && (__props.isSelecting || userSelectionActive.value));\n    const connectionInProgress = toRef(() => connectionStartHandle.value !== null);\n    let selectionInProgress = false;\n    let selectionStarted = false;\n    const deleteKeyPressed = useKeyPress(deleteKeyCode, { actInsideInputWithModifier: false });\n    const multiSelectKeyPressed = useKeyPress(multiSelectionKeyCode);\n    watch(deleteKeyPressed, (isKeyPressed) => {\n      if (!isKeyPressed) {\n        return;\n      }\n      removeNodes(getSelectedNodes.value);\n      removeEdges(getSelectedEdges.value);\n      nodesSelectionActive.value = false;\n    });\n    watch(multiSelectKeyPressed, (isKeyPressed) => {\n      multiSelectionActive.value = isKeyPressed;\n    });\n    function wrapHandler(handler, containerRef) {\n      return (event) => {\n        if (event.target !== containerRef) {\n          return;\n        }\n        handler == null ? void 0 : handler(event);\n      };\n    }\n    function onClick(event) {\n      if (selectionInProgress || connectionInProgress.value) {\n        selectionInProgress = false;\n        return;\n      }\n      emits.paneClick(event);\n      removeSelectedElements();\n      nodesSelectionActive.value = false;\n    }\n    function onContextMenu(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      emits.paneContextMenu(event);\n    }\n    function onWheel(event) {\n      emits.paneScroll(event);\n    }\n    function onPointerDown(event) {\n      var _a, _b, _c;\n      containerBounds.value = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!elementsSelectable.value || !__props.isSelecting || event.button !== 0 || event.target !== container.value || !containerBounds.value) {\n        return;\n      }\n      (_c = (_b = event.target) == null ? void 0 : _b.setPointerCapture) == null ? void 0 : _c.call(_b, event.pointerId);\n      const { x, y } = getMousePosition(event, containerBounds.value);\n      selectionStarted = true;\n      selectionInProgress = false;\n      removeSelectedElements();\n      userSelectionRect.value = {\n        width: 0,\n        height: 0,\n        startX: x,\n        startY: y,\n        x,\n        y\n      };\n      emits.selectionStart(event);\n    }\n    function onPointerMove(event) {\n      var _a;\n      if (!containerBounds.value || !userSelectionRect.value) {\n        return;\n      }\n      selectionInProgress = true;\n      const { x: mouseX, y: mouseY } = getEventPosition(event, containerBounds.value);\n      const { startX = 0, startY = 0 } = userSelectionRect.value;\n      const nextUserSelectRect = {\n        startX,\n        startY,\n        x: mouseX < startX ? mouseX : startX,\n        y: mouseY < startY ? mouseY : startY,\n        width: Math.abs(mouseX - startX),\n        height: Math.abs(mouseY - startY)\n      };\n      const prevSelectedNodeIds = selectedNodeIds.value;\n      const prevSelectedEdgeIds = selectedEdgeIds.value;\n      selectedNodeIds.value = new Set(\n        getNodesInside(nodes.value, nextUserSelectRect, viewport.value, selectionMode.value === SelectionMode.Partial, true).map(\n          (node) => node.id\n        )\n      );\n      selectedEdgeIds.value = /* @__PURE__ */ new Set();\n      const edgesSelectable = ((_a = defaultEdgeOptions.value) == null ? void 0 : _a.selectable) ?? true;\n      for (const nodeId of selectedNodeIds.value) {\n        const connections = connectionLookup.value.get(nodeId);\n        if (!connections) {\n          continue;\n        }\n        for (const { edgeId } of connections.values()) {\n          const edge = edgeLookup.value.get(edgeId);\n          if (edge && (edge.selectable ?? edgesSelectable)) {\n            selectedEdgeIds.value.add(edgeId);\n          }\n        }\n      }\n      if (!areSetsEqual(prevSelectedNodeIds, selectedNodeIds.value)) {\n        const changes = getSelectionChanges(nodeLookup.value, selectedNodeIds.value, true);\n        emits.nodesChange(changes);\n      }\n      if (!areSetsEqual(prevSelectedEdgeIds, selectedEdgeIds.value)) {\n        const changes = getSelectionChanges(edgeLookup.value, selectedEdgeIds.value);\n        emits.edgesChange(changes);\n      }\n      userSelectionRect.value = nextUserSelectRect;\n      userSelectionActive.value = true;\n      nodesSelectionActive.value = false;\n    }\n    function onPointerUp(event) {\n      var _a;\n      if (event.button !== 0 || !selectionStarted) {\n        return;\n      }\n      (_a = event.target) == null ? void 0 : _a.releasePointerCapture(event.pointerId);\n      if (!userSelectionActive.value && userSelectionRect.value && event.target === container.value) {\n        onClick(event);\n      }\n      userSelectionActive.value = false;\n      userSelectionRect.value = null;\n      nodesSelectionActive.value = selectedNodeIds.value.size > 0;\n      emits.selectionEnd(event);\n      if (__props.selectionKeyPressed) {\n        selectionInProgress = false;\n      }\n      selectionStarted = false;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"container\",\n        ref: container,\n        class: normalizeClass([\"vue-flow__pane vue-flow__container\", { selection: _ctx.isSelecting }]),\n        onClick: _cache[0] || (_cache[0] = (event) => hasActiveSelection.value ? void 0 : wrapHandler(onClick, container.value)(event)),\n        onContextmenu: _cache[1] || (_cache[1] = ($event) => wrapHandler(onContextMenu, container.value)($event)),\n        onWheelPassive: _cache[2] || (_cache[2] = ($event) => wrapHandler(onWheel, container.value)($event)),\n        onPointerenter: _cache[3] || (_cache[3] = (event) => hasActiveSelection.value ? void 0 : unref(emits).paneMouseEnter(event)),\n        onPointerdown: _cache[4] || (_cache[4] = (event) => hasActiveSelection.value ? onPointerDown(event) : unref(emits).paneMouseMove(event)),\n        onPointermove: _cache[5] || (_cache[5] = (event) => hasActiveSelection.value ? onPointerMove(event) : unref(emits).paneMouseMove(event)),\n        onPointerup: _cache[6] || (_cache[6] = (event) => hasActiveSelection.value ? onPointerUp(event) : void 0),\n        onPointerleave: _cache[7] || (_cache[7] = ($event) => unref(emits).paneMouseLeave($event))\n      }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        unref(userSelectionActive) && unref(userSelectionRect) ? (openBlock(), createBlock(_sfc_main$c, {\n          key: 0,\n          \"user-selection-rect\": unref(userSelectionRect)\n        }, null, 8, [\"user-selection-rect\"])) : createCommentVNode(\"\", true),\n        unref(nodesSelectionActive) && unref(getSelectedNodes).length ? (openBlock(), createBlock(_sfc_main$b, { key: 1 })) : createCommentVNode(\"\", true)\n      ], 34);\n    };\n  }\n});\nconst __default__$9 = {\n  name: \"Transform\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$9,\n  setup(__props) {\n    const { viewport, fitViewOnInit, fitViewOnInitDone } = useVueFlow();\n    const isHidden = computed(() => {\n      if (fitViewOnInit.value) {\n        return !fitViewOnInitDone.value;\n      }\n      return false;\n    });\n    const transform = computed(() => `translate(${viewport.value.x}px,${viewport.value.y}px) scale(${viewport.value.zoom})`);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__transformationpane vue-flow__container\",\n        style: normalizeStyle({ transform: transform.value, opacity: isHidden.value ? 0 : void 0 })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 4);\n    };\n  }\n});\nconst __default__$8 = {\n  name: \"Viewport\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  ...__default__$8,\n  setup(__props) {\n    const {\n      minZoom,\n      maxZoom,\n      defaultViewport,\n      translateExtent,\n      zoomActivationKeyCode,\n      selectionKeyCode,\n      panActivationKeyCode,\n      panOnScroll,\n      panOnScrollMode,\n      panOnScrollSpeed,\n      panOnDrag,\n      zoomOnDoubleClick,\n      zoomOnPinch,\n      zoomOnScroll,\n      preventScrolling,\n      noWheelClassName,\n      noPanClassName,\n      emits,\n      connectionStartHandle,\n      userSelectionActive,\n      paneDragging,\n      d3Zoom: storeD3Zoom,\n      d3Selection: storeD3Selection,\n      d3ZoomHandler: storeD3ZoomHandler,\n      viewport,\n      viewportRef,\n      paneClickDistance\n    } = useVueFlow();\n    useResizeHandler(viewportRef);\n    const isZoomingOrPanning = ref(false);\n    const isPanScrolling = ref(false);\n    let panScrollTimeout = null;\n    let zoomedWithRightMouseButton = false;\n    let mouseButton = 0;\n    let prevTransform = {\n      x: 0,\n      y: 0,\n      zoom: 0\n    };\n    const panKeyPressed = useKeyPress(panActivationKeyCode);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const zoomKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const shouldPanOnDrag = toRef(\n      () => (!selectionKeyPressed.value || selectionKeyPressed.value && selectionKeyCode.value === true) && (panKeyPressed.value || panOnDrag.value)\n    );\n    const shouldPanOnScroll = toRef(() => panKeyPressed.value || panOnScroll.value);\n    const isSelecting = toRef(() => selectionKeyPressed.value || selectionKeyCode.value === true && shouldPanOnDrag.value !== true);\n    onMounted(() => {\n      if (!viewportRef.value) {\n        warn(\"Viewport element is missing\");\n        return;\n      }\n      const viewportElement = viewportRef.value;\n      const bbox = viewportElement.getBoundingClientRect();\n      const d3Zoom = zoom().clickDistance(paneClickDistance.value).scaleExtent([minZoom.value, maxZoom.value]).translateExtent(translateExtent.value);\n      const d3Selection = select(viewportElement).call(d3Zoom);\n      const d3ZoomHandler = d3Selection.on(\"wheel.zoom\");\n      const updatedTransform = identity.translate(defaultViewport.value.x ?? 0, defaultViewport.value.y ?? 0).scale(clamp(defaultViewport.value.zoom ?? 1, minZoom.value, maxZoom.value));\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = d3Zoom.constrain()(updatedTransform, extent, translateExtent.value);\n      d3Zoom.transform(d3Selection, constrainedTransform);\n      d3Zoom.wheelDelta(wheelDelta);\n      storeD3Zoom.value = d3Zoom;\n      storeD3Selection.value = d3Selection;\n      storeD3ZoomHandler.value = d3ZoomHandler;\n      viewport.value = { x: constrainedTransform.x, y: constrainedTransform.y, zoom: constrainedTransform.k };\n      d3Zoom.on(\"start\", (event) => {\n        var _a;\n        if (!event.sourceEvent) {\n          return null;\n        }\n        mouseButton = event.sourceEvent.button;\n        isZoomingOrPanning.value = true;\n        const flowTransform = eventToFlowTransform(event.transform);\n        if (((_a = event.sourceEvent) == null ? void 0 : _a.type) === \"mousedown\") {\n          paneDragging.value = true;\n        }\n        prevTransform = flowTransform;\n        emits.viewportChangeStart(flowTransform);\n        emits.moveStart({ event, flowTransform });\n      });\n      d3Zoom.on(\"end\", (event) => {\n        if (!event.sourceEvent) {\n          return null;\n        }\n        isZoomingOrPanning.value = false;\n        paneDragging.value = false;\n        if (isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0) && !zoomedWithRightMouseButton) {\n          emits.paneContextMenu(event.sourceEvent);\n        }\n        zoomedWithRightMouseButton = false;\n        if (viewChanged(prevTransform, event.transform)) {\n          const flowTransform = eventToFlowTransform(event.transform);\n          prevTransform = flowTransform;\n          emits.viewportChangeEnd(flowTransform);\n          emits.moveEnd({ event, flowTransform });\n        }\n      });\n      d3Zoom.filter((event) => {\n        var _a;\n        const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n        const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n        const eventButton = event.button;\n        if (eventButton === 1 && event.type === \"mousedown\" && (isWrappedWithClass(event, \"vue-flow__node\") || isWrappedWithClass(event, \"vue-flow__edge\"))) {\n          return true;\n        }\n        if (!shouldPanOnDrag.value && !zoomScroll && !shouldPanOnScroll.value && !zoomOnDoubleClick.value && !zoomOnPinch.value) {\n          return false;\n        }\n        if (userSelectionActive.value) {\n          return false;\n        }\n        if (!zoomOnDoubleClick.value && event.type === \"dblclick\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noWheelClassName.value) && event.type === \"wheel\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noPanClassName.value) && (event.type !== \"wheel\" || shouldPanOnScroll.value && event.type === \"wheel\" && !zoomKeyPressed.value)) {\n          return false;\n        }\n        if (!zoomOnPinch.value && event.ctrlKey && event.type === \"wheel\") {\n          return false;\n        }\n        if (!zoomScroll && !shouldPanOnScroll.value && !pinchZoom && event.type === \"wheel\") {\n          return false;\n        }\n        if (!zoomOnPinch && event.type === \"touchstart\" && ((_a = event.touches) == null ? void 0 : _a.length) > 1) {\n          event.preventDefault();\n          return false;\n        }\n        if (!shouldPanOnDrag.value && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        if (selectionKeyCode.value === true && Array.isArray(panOnDrag.value) && panOnDrag.value.includes(0) && eventButton === 0) {\n          return false;\n        }\n        if (Array.isArray(panOnDrag.value) && !panOnDrag.value.includes(eventButton) && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        const buttonAllowed = Array.isArray(panOnDrag.value) && panOnDrag.value.includes(eventButton) || selectionKeyCode.value === true && Array.isArray(panOnDrag.value) && !panOnDrag.value.includes(0) || !eventButton || eventButton <= 1;\n        return (!event.ctrlKey || panKeyPressed.value || event.type === \"wheel\") && buttonAllowed;\n      });\n      watch(\n        [userSelectionActive, shouldPanOnDrag],\n        () => {\n          if (userSelectionActive.value && !isZoomingOrPanning.value) {\n            d3Zoom.on(\"zoom\", null);\n          } else if (!userSelectionActive.value) {\n            d3Zoom.on(\"zoom\", (event) => {\n              viewport.value = { x: event.transform.x, y: event.transform.y, zoom: event.transform.k };\n              const flowTransform = eventToFlowTransform(event.transform);\n              zoomedWithRightMouseButton = isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0);\n              emits.viewportChange(flowTransform);\n              emits.move({ event, flowTransform });\n            });\n          }\n        },\n        { immediate: true }\n      );\n      watch(\n        [userSelectionActive, shouldPanOnScroll, panOnScrollMode, zoomKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName],\n        () => {\n          if (shouldPanOnScroll.value && !zoomKeyPressed.value && !userSelectionActive.value) {\n            d3Selection.on(\n              \"wheel.zoom\",\n              (event) => {\n                if (isWrappedWithClass(event, noWheelClassName.value)) {\n                  return false;\n                }\n                const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n                const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n                const scrollEventEnabled = !preventScrolling.value || shouldPanOnScroll.value || zoomScroll || pinchZoom;\n                if (!scrollEventEnabled) {\n                  return false;\n                }\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                const currentZoom = d3Selection.property(\"__zoom\").k || 1;\n                const _isMacOs = isMacOs();\n                if (!panKeyPressed.value && event.ctrlKey && zoomOnPinch.value && _isMacOs) {\n                  const point = pointer(event);\n                  const pinchDelta = wheelDelta(event);\n                  const zoom2 = currentZoom * 2 ** pinchDelta;\n                  d3Zoom.scaleTo(d3Selection, zoom2, point, event);\n                  return;\n                }\n                const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                let deltaX = panOnScrollMode.value === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                let deltaY = panOnScrollMode.value === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                if (!_isMacOs && event.shiftKey && panOnScrollMode.value !== PanOnScrollMode.Vertical && !deltaX && deltaY) {\n                  deltaX = deltaY;\n                  deltaY = 0;\n                }\n                d3Zoom.translateBy(\n                  d3Selection,\n                  -(deltaX / currentZoom) * panOnScrollSpeed.value,\n                  -(deltaY / currentZoom) * panOnScrollSpeed.value\n                );\n                const nextViewport = eventToFlowTransform(d3Selection.property(\"__zoom\"));\n                if (panScrollTimeout) {\n                  clearTimeout(panScrollTimeout);\n                }\n                if (!isPanScrolling.value) {\n                  isPanScrolling.value = true;\n                  emits.moveStart({ event, flowTransform: nextViewport });\n                  emits.viewportChangeStart(nextViewport);\n                } else {\n                  emits.move({ event, flowTransform: nextViewport });\n                  emits.viewportChange(nextViewport);\n                  panScrollTimeout = setTimeout(() => {\n                    emits.moveEnd({ event, flowTransform: nextViewport });\n                    emits.viewportChangeEnd(nextViewport);\n                    isPanScrolling.value = false;\n                  }, 150);\n                }\n              },\n              { passive: false }\n            );\n          } else if (typeof d3ZoomHandler !== \"undefined\") {\n            d3Selection.on(\n              \"wheel.zoom\",\n              function(event, d) {\n                const invalidEvent = !preventScrolling.value && event.type === \"wheel\" && !event.ctrlKey;\n                const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n                const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n                const scrollEventsDisabled = !zoomScroll && !panOnScroll.value && !pinchZoom && event.type === \"wheel\";\n                if (scrollEventsDisabled || invalidEvent || isWrappedWithClass(event, noWheelClassName.value)) {\n                  return null;\n                }\n                event.preventDefault();\n                d3ZoomHandler.call(this, event, d);\n              },\n              { passive: false }\n            );\n          }\n        },\n        { immediate: true }\n      );\n    });\n    function isRightClickPan(pan, usedButton) {\n      return usedButton === 2 && Array.isArray(pan) && pan.includes(2);\n    }\n    function wheelDelta(event) {\n      const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n      return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * factor;\n    }\n    function viewChanged(prevViewport, eventTransform) {\n      return prevViewport.x !== eventTransform.x && !Number.isNaN(eventTransform.x) || prevViewport.y !== eventTransform.y && !Number.isNaN(eventTransform.y) || prevViewport.zoom !== eventTransform.k && !Number.isNaN(eventTransform.k);\n    }\n    function eventToFlowTransform(eventTransform) {\n      return {\n        x: eventTransform.x,\n        y: eventTransform.y,\n        zoom: eventTransform.k\n      };\n    }\n    function isWrappedWithClass(event, className) {\n      return event.target.closest(`.${className}`);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"viewportRef\",\n        ref: viewportRef,\n        class: \"vue-flow__viewport vue-flow__container\"\n      }, [\n        createVNode(_sfc_main$a, {\n          \"is-selecting\": isSelecting.value,\n          \"selection-key-pressed\": unref(selectionKeyPressed),\n          class: normalizeClass({\n            connecting: !!unref(connectionStartHandle),\n            dragging: unref(paneDragging),\n            draggable: unref(panOnDrag) === true || Array.isArray(unref(panOnDrag)) && unref(panOnDrag).includes(0)\n          })\n        }, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$9, null, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"default\")\n              ]),\n              _: 3\n            })\n          ]),\n          _: 3\n        }, 8, [\"is-selecting\", \"selection-key-pressed\", \"class\"])\n      ], 512);\n    };\n  }\n});\nconst _hoisted_1$5 = [\"id\"];\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = [\"id\"];\nconst __default__$7 = {\n  name: \"A11yDescriptions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  ...__default__$7,\n  setup(__props) {\n    const { id: id2, disableKeyboardA11y, ariaLiveMessage } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_NODE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select a node. \" + toDisplayString(!unref(disableKeyboardA11y) ? \"You can then use the arrow keys to move the node around.\" : \"\") + \" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. \", 9, _hoisted_1$5),\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_EDGE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. \", 8, _hoisted_2),\n        !unref(disableKeyboardA11y) ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          id: `${unref(ARIA_LIVE_MESSAGE)}-${unref(id2)}`,\n          \"aria-live\": \"assertive\",\n          \"aria-atomic\": \"true\",\n          style: { \"position\": \"absolute\", \"width\": \"1px\", \"height\": \"1px\", \"margin\": \"-1px\", \"border\": \"0\", \"padding\": \"0\", \"overflow\": \"hidden\", \"clip\": \"rect(0px, 0px, 0px, 0px)\", \"clip-path\": \"inset(100%)\" }\n        }, toDisplayString(unref(ariaLiveMessage)), 9, _hoisted_3)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction useOnInitHandler() {\n  const vfInstance = useVueFlow();\n  watch(\n    () => vfInstance.viewportHelper.value.viewportInitialized,\n    (isInitialized) => {\n      if (isInitialized) {\n        setTimeout(() => {\n          vfInstance.emits.init(vfInstance);\n          vfInstance.emits.paneReady(vfInstance);\n        }, 1);\n      }\n    }\n  );\n}\nfunction shiftX(x, shift, position) {\n  if (position === Position.Left) {\n    return x - shift;\n  }\n  if (position === Position.Right) {\n    return x + shift;\n  }\n  return x;\n}\nfunction shiftY(y, shift, position) {\n  if (position === Position.Top) {\n    return y - shift;\n  }\n  if (position === Position.Bottom) {\n    return y + shift;\n  }\n  return y;\n}\nconst EdgeAnchor = function({\n  radius = 10,\n  centerX = 0,\n  centerY = 0,\n  position = Position.Top,\n  type\n}) {\n  return h(\"circle\", {\n    class: `vue-flow__edgeupdater vue-flow__edgeupdater-${type}`,\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\nEdgeAnchor.props = [\"radius\", \"centerX\", \"centerY\", \"position\", \"type\"];\nEdgeAnchor.compatConfig = { MODE: 3 };\nconst EdgeAnchor$1 = EdgeAnchor;\nconst EdgeWrapper = defineComponent({\n  name: \"Edge\",\n  compatConfig: { MODE: 3 },\n  props: [\"id\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      addSelectedEdges,\n      connectionMode,\n      edgeUpdaterRadius,\n      emits,\n      nodesSelectionActive,\n      noPanClassName,\n      getEdgeTypes,\n      removeSelectedEdges,\n      findEdge,\n      findNode,\n      isValidConnection,\n      multiSelectionActive,\n      disableKeyboardA11y,\n      elementsSelectable,\n      edgesUpdatable,\n      edgesFocusable,\n      hooks\n    } = useVueFlow();\n    const edge = computed(() => findEdge(props.id));\n    const { emit, on } = useEdgeHooks(edge.value, emits);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const mouseOver = ref(false);\n    const updating = ref(false);\n    const nodeId = ref(\"\");\n    const handleId = ref(null);\n    const edgeUpdaterType = ref(\"source\");\n    const edgeEl = ref(null);\n    const isSelectable = toRef(\n      () => typeof edge.value.selectable === \"undefined\" ? elementsSelectable.value : edge.value.selectable\n    );\n    const isUpdatable = toRef(() => typeof edge.value.updatable === \"undefined\" ? edgesUpdatable.value : edge.value.updatable);\n    const isFocusable = toRef(() => typeof edge.value.focusable === \"undefined\" ? edgesFocusable.value : edge.value.focusable);\n    provide(EdgeId, props.id);\n    provide(EdgeRef, edgeEl);\n    const edgeClass = computed(() => edge.value.class instanceof Function ? edge.value.class(edge.value) : edge.value.class);\n    const edgeStyle = computed(() => edge.value.style instanceof Function ? edge.value.style(edge.value) : edge.value.style);\n    const edgeCmp = computed(() => {\n      const name = edge.value.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`edge-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let edgeType = edge.value.template ?? getEdgeTypes.value[name];\n      if (typeof edgeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            edgeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (edgeType && typeof edgeType !== \"string\") {\n        return edgeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.EDGE_TYPE_MISSING, edgeType));\n      return false;\n    });\n    const { handlePointerDown } = useHandle({\n      nodeId,\n      handleId,\n      type: edgeUpdaterType,\n      isValidConnection,\n      edgeUpdaterType,\n      onEdgeUpdate,\n      onEdgeUpdateEnd\n    });\n    return () => {\n      const sourceNode = findNode(edge.value.source);\n      const targetNode = findNode(edge.value.target);\n      const pathOptions = \"pathOptions\" in edge.value ? edge.value.pathOptions : {};\n      if (!sourceNode && !targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.value.id, edge.value.source, edge.value.target));\n        return null;\n      }\n      if (!sourceNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.value.id, edge.value.source));\n        return null;\n      }\n      if (!targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.value.id, edge.value.target));\n        return null;\n      }\n      if (!edge.value || edge.value.hidden || sourceNode.hidden || targetNode.hidden) {\n        return null;\n      }\n      let sourceNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        sourceNodeHandles = sourceNode.handleBounds.source;\n      } else {\n        sourceNodeHandles = [...sourceNode.handleBounds.source || [], ...sourceNode.handleBounds.target || []];\n      }\n      const sourceHandle = getEdgeHandle(sourceNodeHandles, edge.value.sourceHandle);\n      let targetNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        targetNodeHandles = targetNode.handleBounds.target;\n      } else {\n        targetNodeHandles = [...targetNode.handleBounds.target || [], ...targetNode.handleBounds.source || []];\n      }\n      const targetHandle = getEdgeHandle(targetNodeHandles, edge.value.targetHandle);\n      const sourcePosition = (sourceHandle == null ? void 0 : sourceHandle.position) || Position.Bottom;\n      const targetPosition = (targetHandle == null ? void 0 : targetHandle.position) || Position.Top;\n      const { x: sourceX, y: sourceY } = getHandlePosition(sourceNode, sourceHandle, sourcePosition);\n      const { x: targetX, y: targetY } = getHandlePosition(targetNode, targetHandle, targetPosition);\n      edge.value.sourceX = sourceX;\n      edge.value.sourceY = sourceY;\n      edge.value.targetX = targetX;\n      edge.value.targetY = targetY;\n      return h(\n        \"g\",\n        {\n          \"ref\": edgeEl,\n          \"key\": props.id,\n          \"data-id\": props.id,\n          \"class\": [\n            \"vue-flow__edge\",\n            `vue-flow__edge-${edgeCmp.value === false ? \"default\" : edge.value.type || \"default\"}`,\n            noPanClassName.value,\n            edgeClass.value,\n            {\n              updating: mouseOver.value,\n              selected: edge.value.selected,\n              animated: edge.value.animated,\n              inactive: !isSelectable.value && !hooks.value.edgeClick.hasListeners()\n            }\n          ],\n          \"onClick\": onEdgeClick,\n          \"onContextmenu\": onEdgeContextMenu,\n          \"onDblclick\": onDoubleClick,\n          \"onMouseenter\": onEdgeMouseEnter,\n          \"onMousemove\": onEdgeMouseMove,\n          \"onMouseleave\": onEdgeMouseLeave,\n          \"onKeyDown\": isFocusable.value ? onKeyDown : void 0,\n          \"tabIndex\": isFocusable.value ? 0 : void 0,\n          \"aria-label\": edge.value.ariaLabel === null ? void 0 : edge.value.ariaLabel || `Edge from ${edge.value.source} to ${edge.value.target}`,\n          \"aria-describedby\": isFocusable.value ? `${ARIA_EDGE_DESC_KEY}-${vueFlowId}` : void 0,\n          \"role\": isFocusable.value ? \"button\" : \"img\"\n        },\n        [\n          updating.value ? null : h(edgeCmp.value === false ? getEdgeTypes.value.default : edgeCmp.value, {\n            id: props.id,\n            sourceNode,\n            targetNode,\n            source: edge.value.source,\n            target: edge.value.target,\n            type: edge.value.type,\n            updatable: isUpdatable.value,\n            selected: edge.value.selected,\n            animated: edge.value.animated,\n            label: edge.value.label,\n            labelStyle: edge.value.labelStyle,\n            labelShowBg: edge.value.labelShowBg,\n            labelBgStyle: edge.value.labelBgStyle,\n            labelBgPadding: edge.value.labelBgPadding,\n            labelBgBorderRadius: edge.value.labelBgBorderRadius,\n            data: edge.value.data,\n            events: { ...edge.value.events, ...on },\n            style: edgeStyle.value,\n            markerStart: `url('#${getMarkerId(edge.value.markerStart, vueFlowId)}')`,\n            markerEnd: `url('#${getMarkerId(edge.value.markerEnd, vueFlowId)}')`,\n            sourcePosition,\n            targetPosition,\n            sourceX,\n            sourceY,\n            targetX,\n            targetY,\n            sourceHandleId: edge.value.sourceHandle,\n            targetHandleId: edge.value.targetHandle,\n            interactionWidth: edge.value.interactionWidth,\n            ...pathOptions\n          }),\n          [\n            isUpdatable.value === \"source\" || isUpdatable.value === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterSourceMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": sourcePosition,\n                  \"centerX\": sourceX,\n                  \"centerY\": sourceY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"source\",\n                  \"data-type\": \"source\"\n                })\n              )\n            ] : null,\n            isUpdatable.value === \"target\" || isUpdatable.value === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterTargetMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": targetPosition,\n                  \"centerX\": targetX,\n                  \"centerY\": targetY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"target\",\n                  \"data-type\": \"target\"\n                })\n              )\n            ] : null\n          ]\n        ]\n      );\n    };\n    function onEdgeUpdaterMouseEnter() {\n      mouseOver.value = true;\n    }\n    function onEdgeUpdaterMouseOut() {\n      mouseOver.value = false;\n    }\n    function onEdgeUpdate(event, connection) {\n      emit.update({ event, edge: edge.value, connection });\n    }\n    function onEdgeUpdateEnd(event) {\n      emit.updateEnd({ event, edge: edge.value });\n      updating.value = false;\n    }\n    function handleEdgeUpdater(event, isSourceHandle) {\n      if (event.button !== 0) {\n        return;\n      }\n      updating.value = true;\n      nodeId.value = isSourceHandle ? edge.value.target : edge.value.source;\n      handleId.value = (isSourceHandle ? edge.value.targetHandle : edge.value.sourceHandle) ?? null;\n      edgeUpdaterType.value = isSourceHandle ? \"target\" : \"source\";\n      emit.updateStart({ event, edge: edge.value });\n      handlePointerDown(event);\n    }\n    function onEdgeClick(event) {\n      var _a;\n      const data = { event, edge: edge.value };\n      if (isSelectable.value) {\n        nodesSelectionActive.value = false;\n        if (edge.value.selected && multiSelectionActive.value) {\n          removeSelectedEdges([edge.value]);\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n        } else {\n          addSelectedEdges([edge.value]);\n        }\n      }\n      emit.click(data);\n    }\n    function onEdgeContextMenu(event) {\n      emit.contextMenu({ event, edge: edge.value });\n    }\n    function onDoubleClick(event) {\n      emit.doubleClick({ event, edge: edge.value });\n    }\n    function onEdgeMouseEnter(event) {\n      emit.mouseEnter({ event, edge: edge.value });\n    }\n    function onEdgeMouseMove(event) {\n      emit.mouseMove({ event, edge: edge.value });\n    }\n    function onEdgeMouseLeave(event) {\n      emit.mouseLeave({ event, edge: edge.value });\n    }\n    function onEdgeUpdaterSourceMouseDown(event) {\n      handleEdgeUpdater(event, true);\n    }\n    function onEdgeUpdaterTargetMouseDown(event) {\n      handleEdgeUpdater(event, false);\n    }\n    function onKeyDown(event) {\n      var _a;\n      if (!disableKeyboardA11y.value && elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        if (unselect) {\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n          removeSelectedEdges([findEdge(props.id)]);\n        } else {\n          addSelectedEdges([findEdge(props.id)]);\n        }\n      }\n    }\n  }\n});\nconst EdgeWrapper$1 = EdgeWrapper;\nconst ConnectionLine = defineComponent({\n  name: \"ConnectionLine\",\n  compatConfig: { MODE: 3 },\n  setup() {\n    var _a;\n    const {\n      id: id2,\n      connectionMode,\n      connectionStartHandle,\n      connectionEndHandle,\n      connectionPosition,\n      connectionLineType,\n      connectionLineStyle,\n      connectionLineOptions,\n      connectionStatus,\n      viewport,\n      findNode\n    } = useVueFlow();\n    const connectionLineComponent = (_a = inject(Slots)) == null ? void 0 : _a[\"connection-line\"];\n    const fromNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionStartHandle.value) == null ? void 0 : _a2.nodeId);\n    });\n    const toNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionEndHandle.value) == null ? void 0 : _a2.nodeId) ?? null;\n    });\n    const toXY = computed(() => {\n      return {\n        x: (connectionPosition.value.x - viewport.value.x) / viewport.value.zoom,\n        y: (connectionPosition.value.y - viewport.value.y) / viewport.value.zoom\n      };\n    });\n    const markerStart = computed(\n      () => connectionLineOptions.value.markerStart ? `url(#${getMarkerId(connectionLineOptions.value.markerStart, id2)})` : \"\"\n    );\n    const markerEnd = computed(\n      () => connectionLineOptions.value.markerEnd ? `url(#${getMarkerId(connectionLineOptions.value.markerEnd, id2)})` : \"\"\n    );\n    return () => {\n      var _a2, _b, _c;\n      if (!fromNode.value || !connectionStartHandle.value) {\n        return null;\n      }\n      const startHandleId = connectionStartHandle.value.id;\n      const handleType = connectionStartHandle.value.type;\n      const fromHandleBounds = fromNode.value.handleBounds;\n      let handleBounds = (fromHandleBounds == null ? void 0 : fromHandleBounds[handleType]) ?? [];\n      if (connectionMode.value === ConnectionMode.Loose) {\n        const oppositeBounds = (fromHandleBounds == null ? void 0 : fromHandleBounds[handleType === \"source\" ? \"target\" : \"source\"]) ?? [];\n        handleBounds = [...handleBounds, ...oppositeBounds];\n      }\n      if (!handleBounds) {\n        return null;\n      }\n      const fromHandle = (startHandleId ? handleBounds.find((d) => d.id === startHandleId) : handleBounds[0]) ?? null;\n      const fromPosition = (fromHandle == null ? void 0 : fromHandle.position) ?? Position.Top;\n      const { x: fromX, y: fromY } = getHandlePosition(fromNode.value, fromHandle, fromPosition);\n      let toHandle = null;\n      if (toNode.value) {\n        if (connectionMode.value === ConnectionMode.Strict) {\n          toHandle = ((_a2 = toNode.value.handleBounds[handleType === \"source\" ? \"target\" : \"source\"]) == null ? void 0 : _a2.find(\n            (d) => {\n              var _a3;\n              return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.id);\n            }\n          )) || null;\n        } else {\n          toHandle = ((_b = [...toNode.value.handleBounds.source ?? [], ...toNode.value.handleBounds.target ?? []]) == null ? void 0 : _b.find(\n            (d) => {\n              var _a3;\n              return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.id);\n            }\n          )) || null;\n        }\n      }\n      const toPosition = ((_c = connectionEndHandle.value) == null ? void 0 : _c.position) ?? (fromPosition ? oppositePosition[fromPosition] : null);\n      if (!fromPosition || !toPosition) {\n        return null;\n      }\n      const type = connectionLineType.value ?? connectionLineOptions.value.type ?? ConnectionLineType.Bezier;\n      let dAttr = \"\";\n      const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toXY.value.x,\n        targetY: toXY.value.y,\n        targetPosition: toPosition\n      };\n      if (type === ConnectionLineType.Bezier) {\n        [dAttr] = getBezierPath(pathParams);\n      } else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n          ...pathParams,\n          borderRadius: 0\n        });\n      } else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n      } else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n      } else {\n        dAttr = `M${fromX},${fromY} ${toXY.value.x},${toXY.value.y}`;\n      }\n      return h(\n        \"svg\",\n        { class: \"vue-flow__edges vue-flow__connectionline vue-flow__container\" },\n        h(\n          \"g\",\n          { class: \"vue-flow__connection\" },\n          connectionLineComponent ? h(connectionLineComponent, {\n            sourceX: fromX,\n            sourceY: fromY,\n            sourcePosition: fromPosition,\n            targetX: toXY.value.x,\n            targetY: toXY.value.y,\n            targetPosition: toPosition,\n            sourceNode: fromNode.value,\n            sourceHandle: fromHandle,\n            targetNode: toNode.value,\n            targetHandle: toHandle,\n            markerEnd: markerEnd.value,\n            markerStart: markerStart.value,\n            connectionStatus: connectionStatus.value\n          }) : h(\"path\", {\n            \"d\": dAttr,\n            \"class\": [connectionLineOptions.value.class, connectionStatus, \"vue-flow__connection-path\"],\n            \"style\": {\n              ...connectionLineStyle.value,\n              ...connectionLineOptions.value.style\n            },\n            \"marker-end\": markerEnd.value,\n            \"marker-start\": markerStart.value\n          })\n        )\n      );\n    };\n  }\n});\nconst ConnectionLine$1 = ConnectionLine;\nconst _hoisted_1$4 = [\"id\", \"markerWidth\", \"markerHeight\", \"markerUnits\", \"orient\"];\nconst __default__$6 = {\n  name: \"MarkerType\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$6 = /* @__PURE__ */ defineComponent({\n  ...__default__$6,\n  props: {\n    id: {},\n    type: {},\n    color: { default: \"none\" },\n    width: { default: 12.5 },\n    height: { default: 12.5 },\n    markerUnits: { default: \"strokeWidth\" },\n    orient: { default: \"auto-start-reverse\" },\n    strokeWidth: { default: 1 }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"marker\", {\n        id: _ctx.id,\n        class: \"vue-flow__arrowhead\",\n        viewBox: \"-10 -10 20 20\",\n        refX: \"0\",\n        refY: \"0\",\n        markerWidth: `${_ctx.width}`,\n        markerHeight: `${_ctx.height}`,\n        markerUnits: _ctx.markerUnits,\n        orient: _ctx.orient\n      }, [\n        _ctx.type === unref(MarkerType).ArrowClosed ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 0,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            fill: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          points: \"-5,-4 0,0 -5,4 -5,-4\"\n        }, null, 4)) : createCommentVNode(\"\", true),\n        _ctx.type === unref(MarkerType).Arrow ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 1,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          fill: \"none\",\n          points: \"-5,-4 0,0 -5,4\"\n        }, null, 4)) : createCommentVNode(\"\", true)\n      ], 8, _hoisted_1$4);\n    };\n  }\n});\nconst _hoisted_1$3 = {\n  class: \"vue-flow__marker vue-flow__container\",\n  \"aria-hidden\": \"true\"\n};\nconst __default__$5 = {\n  name: \"MarkerDefinitions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$5 = /* @__PURE__ */ defineComponent({\n  ...__default__$5,\n  setup(__props) {\n    const { id: vueFlowId, edges, connectionLineOptions, defaultMarkerColor: defaultColor } = useVueFlow();\n    const markers = computed(() => {\n      const ids = /* @__PURE__ */ new Set();\n      const markers2 = [];\n      const createMarkers = (marker) => {\n        if (marker) {\n          const markerId = getMarkerId(marker, vueFlowId);\n          if (!ids.has(markerId)) {\n            if (typeof marker === \"object\") {\n              markers2.push({ ...marker, id: markerId, color: marker.color || defaultColor.value });\n            } else {\n              markers2.push({ id: markerId, color: defaultColor.value, type: marker });\n            }\n            ids.add(markerId);\n          }\n        }\n      };\n      for (const marker of [connectionLineOptions.value.markerEnd, connectionLineOptions.value.markerStart]) {\n        createMarkers(marker);\n      }\n      for (const edge of edges.value) {\n        for (const marker of [edge.markerStart, edge.markerEnd]) {\n          createMarkers(marker);\n        }\n      }\n      return markers2.sort((a, b) => a.id.localeCompare(b.id));\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", _hoisted_1$3, [\n        createElementVNode(\"defs\", null, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(markers.value, (marker) => {\n            return openBlock(), createBlock(_sfc_main$6, {\n              id: marker.id,\n              key: marker.id,\n              type: marker.type,\n              color: marker.color,\n              width: marker.width,\n              height: marker.height,\n              markerUnits: marker.markerUnits,\n              \"stroke-width\": marker.strokeWidth,\n              orient: marker.orient\n            }, null, 8, [\"id\", \"type\", \"color\", \"width\", \"height\", \"markerUnits\", \"stroke-width\", \"orient\"]);\n          }), 128))\n        ])\n      ]);\n    };\n  }\n});\nconst __default__$4 = {\n  name: \"Edges\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  ...__default__$4,\n  setup(__props) {\n    const { findNode, getEdges, elevateEdgesOnSelect } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(_sfc_main$5),\n        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(getEdges), (edge) => {\n          return openBlock(), createElementBlock(\"svg\", {\n            key: edge.id,\n            class: \"vue-flow__edges vue-flow__container\",\n            style: normalizeStyle({ zIndex: unref(getEdgeZIndex)(edge, unref(findNode), unref(elevateEdgesOnSelect)) })\n          }, [\n            createVNode(unref(EdgeWrapper$1), {\n              id: edge.id\n            }, null, 8, [\"id\"])\n          ], 4);\n        }), 128)),\n        createVNode(unref(ConnectionLine$1))\n      ], 64);\n    };\n  }\n});\nconst NodeWrapper = defineComponent({\n  name: \"Node\",\n  compatConfig: { MODE: 3 },\n  props: [\"id\", \"resizeObserver\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      noPanClassName,\n      selectNodesOnDrag,\n      nodesSelectionActive,\n      multiSelectionActive,\n      emits,\n      removeSelectedNodes,\n      addSelectedNodes,\n      updateNodeDimensions,\n      onUpdateNodeInternals,\n      getNodeTypes,\n      nodeExtent,\n      elevateNodesOnSelect,\n      disableKeyboardA11y,\n      ariaLiveMessage,\n      snapToGrid,\n      snapGrid,\n      nodeDragThreshold,\n      nodesDraggable,\n      elementsSelectable,\n      nodesConnectable,\n      nodesFocusable,\n      hooks\n    } = useVueFlow();\n    const nodeElement = ref(null);\n    provide(NodeRef, nodeElement);\n    provide(NodeId, props.id);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const updateNodePositions = useUpdateNodePositions();\n    const { node, parentNode } = useNode(props.id);\n    const { emit, on } = useNodeHooks(node, emits);\n    const isDraggable = toRef(() => typeof node.draggable === \"undefined\" ? nodesDraggable.value : node.draggable);\n    const isSelectable = toRef(() => typeof node.selectable === \"undefined\" ? elementsSelectable.value : node.selectable);\n    const isConnectable = toRef(() => typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable);\n    const isFocusable = toRef(() => typeof node.focusable === \"undefined\" ? nodesFocusable.value : node.focusable);\n    const hasPointerEvents = toRef(\n      () => isSelectable.value || isDraggable.value || hooks.value.nodeClick.hasListeners() || hooks.value.nodeDoubleClick.hasListeners() || hooks.value.nodeMouseEnter.hasListeners() || hooks.value.nodeMouseMove.hasListeners() || hooks.value.nodeMouseLeave.hasListeners()\n    );\n    const isInit = toRef(() => !!node.dimensions.width && !!node.dimensions.height);\n    const nodeCmp = computed(() => {\n      const name = node.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`node-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let nodeType = node.template || getNodeTypes.value[name];\n      if (typeof nodeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            nodeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (nodeType && typeof nodeType !== \"string\") {\n        return nodeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.NODE_TYPE_MISSING, nodeType));\n      return false;\n    });\n    const dragging = useDrag({\n      id: props.id,\n      el: nodeElement,\n      disabled: () => !isDraggable.value,\n      selectable: isSelectable,\n      dragHandle: () => node.dragHandle,\n      onStart(event) {\n        emit.dragStart(event);\n      },\n      onDrag(event) {\n        emit.drag(event);\n      },\n      onStop(event) {\n        emit.dragStop(event);\n      },\n      onClick(event) {\n        onSelectNode(event);\n      }\n    });\n    const getClass = computed(() => node.class instanceof Function ? node.class(node) : node.class);\n    const getStyle = computed(() => {\n      const styles = (node.style instanceof Function ? node.style(node) : node.style) || {};\n      const width = node.width instanceof Function ? node.width(node) : node.width;\n      const height = node.height instanceof Function ? node.height(node) : node.height;\n      if (!styles.width && width) {\n        styles.width = typeof width === \"string\" ? width : `${width}px`;\n      }\n      if (!styles.height && height) {\n        styles.height = typeof height === \"string\" ? height : `${height}px`;\n      }\n      return styles;\n    });\n    const zIndex = toRef(() => Number(node.zIndex ?? getStyle.value.zIndex ?? 0));\n    onUpdateNodeInternals((updateIds) => {\n      if (updateIds.includes(props.id) || !updateIds.length) {\n        updateInternals();\n      }\n    });\n    onMounted(() => {\n      watch(\n        () => node.hidden,\n        (isHidden = false, _, onCleanup) => {\n          if (!isHidden && nodeElement.value) {\n            props.resizeObserver.observe(nodeElement.value);\n            onCleanup(() => {\n              if (nodeElement.value) {\n                props.resizeObserver.unobserve(nodeElement.value);\n              }\n            });\n          }\n        },\n        { immediate: true, flush: \"post\" }\n      );\n    });\n    watch([() => node.type, () => node.sourcePosition, () => node.targetPosition], () => {\n      nextTick(() => {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      });\n    });\n    watch(\n      [\n        () => node.position.x,\n        () => node.position.y,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.x;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.y;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.z;\n        },\n        zIndex,\n        () => node.selected,\n        () => node.dimensions.height,\n        () => node.dimensions.width,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.height;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.width;\n        }\n      ],\n      ([newX, newY, parentX, parentY, parentZ, nodeZIndex]) => {\n        const xyzPos = {\n          x: newX,\n          y: newY,\n          z: nodeZIndex + (elevateNodesOnSelect.value ? node.selected ? 1e3 : 0 : 0)\n        };\n        if (typeof parentX !== \"undefined\" && typeof parentY !== \"undefined\") {\n          node.computedPosition = getXYZPos({ x: parentX, y: parentY, z: parentZ }, xyzPos);\n        } else {\n          node.computedPosition = xyzPos;\n        }\n      },\n      { flush: \"post\", immediate: true }\n    );\n    watch([() => node.extent, nodeExtent], ([nodeExtent2, globalExtent], [oldNodeExtent, oldGlobalExtent]) => {\n      if (nodeExtent2 !== oldNodeExtent || globalExtent !== oldGlobalExtent) {\n        clampPosition2();\n      }\n    });\n    if (node.extent === \"parent\" || typeof node.extent === \"object\" && \"range\" in node.extent && node.extent.range === \"parent\") {\n      until(() => isInit).toBe(true).then(clampPosition2);\n    } else {\n      clampPosition2();\n    }\n    return () => {\n      if (node.hidden) {\n        return null;\n      }\n      return h(\n        \"div\",\n        {\n          \"ref\": nodeElement,\n          \"data-id\": node.id,\n          \"class\": [\n            \"vue-flow__node\",\n            `vue-flow__node-${nodeCmp.value === false ? \"default\" : node.type || \"default\"}`,\n            {\n              [noPanClassName.value]: isDraggable.value,\n              dragging: dragging == null ? void 0 : dragging.value,\n              draggable: isDraggable.value,\n              selected: node.selected,\n              selectable: isSelectable.value,\n              parent: node.isParent\n            },\n            getClass.value\n          ],\n          \"style\": {\n            visibility: isInit.value ? \"visible\" : \"hidden\",\n            zIndex: node.computedPosition.z ?? zIndex.value,\n            transform: `translate(${node.computedPosition.x}px,${node.computedPosition.y}px)`,\n            pointerEvents: hasPointerEvents.value ? \"all\" : \"none\",\n            ...getStyle.value\n          },\n          \"tabIndex\": isFocusable.value ? 0 : void 0,\n          \"role\": isFocusable.value ? \"button\" : void 0,\n          \"aria-describedby\": disableKeyboardA11y.value ? void 0 : `${ARIA_NODE_DESC_KEY}-${vueFlowId}`,\n          \"aria-label\": node.ariaLabel,\n          \"onMouseenter\": onMouseEnter,\n          \"onMousemove\": onMouseMove,\n          \"onMouseleave\": onMouseLeave,\n          \"onContextmenu\": onContextMenu,\n          \"onClick\": onSelectNode,\n          \"onDblclick\": onDoubleClick,\n          \"onKeydown\": onKeyDown\n        },\n        [\n          h(nodeCmp.value === false ? getNodeTypes.value.default : nodeCmp.value, {\n            id: node.id,\n            type: node.type,\n            data: node.data,\n            events: { ...node.events, ...on },\n            selected: node.selected,\n            resizing: node.resizing,\n            dragging: dragging.value,\n            connectable: isConnectable.value,\n            position: node.computedPosition,\n            dimensions: node.dimensions,\n            isValidTargetPos: node.isValidTargetPos,\n            isValidSourcePos: node.isValidSourcePos,\n            parent: node.parentNode,\n            parentNodeId: node.parentNode,\n            zIndex: node.computedPosition.z ?? zIndex.value,\n            targetPosition: node.targetPosition,\n            sourcePosition: node.sourcePosition,\n            label: node.label,\n            dragHandle: node.dragHandle,\n            onUpdateNodeInternals: updateInternals\n          })\n        ]\n      );\n    };\n    function clampPosition2() {\n      const nextPosition = node.computedPosition;\n      const { computedPosition, position } = calcNextPosition(\n        node,\n        snapToGrid.value ? snapPosition(nextPosition, snapGrid.value) : nextPosition,\n        emits.error,\n        nodeExtent.value,\n        parentNode.value\n      );\n      if (node.computedPosition.x !== computedPosition.x || node.computedPosition.y !== computedPosition.y) {\n        node.computedPosition = { ...node.computedPosition, ...computedPosition };\n      }\n      if (node.position.x !== position.x || node.position.y !== position.y) {\n        node.position = position;\n      }\n    }\n    function updateInternals() {\n      if (nodeElement.value) {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      }\n    }\n    function onMouseEnter(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseEnter({ event, node });\n      }\n    }\n    function onMouseMove(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseMove({ event, node });\n      }\n    }\n    function onMouseLeave(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseLeave({ event, node });\n      }\n    }\n    function onContextMenu(event) {\n      return emit.contextMenu({ event, node });\n    }\n    function onDoubleClick(event) {\n      return emit.doubleClick({ event, node });\n    }\n    function onSelectNode(event) {\n      if (isSelectable.value && (!selectNodesOnDrag.value || !isDraggable.value || nodeDragThreshold.value > 0)) {\n        handleNodeClick(\n          node,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          false,\n          nodeElement.value\n        );\n      }\n      emit.click({ event, node });\n    }\n    function onKeyDown(event) {\n      if (isInputDOMNode(event) || disableKeyboardA11y.value) {\n        return;\n      }\n      if (elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        handleNodeClick(\n          node,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          unselect,\n          nodeElement.value\n        );\n      } else if (isDraggable.value && node.selected && arrowKeyDiffs[event.key]) {\n        event.preventDefault();\n        ariaLiveMessage.value = `Moved selected node ${event.key.replace(\"Arrow\", \"\").toLowerCase()}. New position, x: ${~~node.position.x}, y: ${~~node.position.y}`;\n        updateNodePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n  }\n});\nconst NodeWrapper$1 = NodeWrapper;\nconst _hoisted_1$2 = {\n  height: \"0\",\n  width: \"0\"\n};\nconst __default__$3 = {\n  name: \"EdgeLabelRenderer\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$3 = /* @__PURE__ */ defineComponent({\n  ...__default__$3,\n  setup(__props) {\n    const { viewportRef } = useVueFlow();\n    const teleportTarget = toRef(() => {\n      var _a;\n      return (_a = viewportRef.value) == null ? void 0 : _a.getElementsByClassName(\"vue-flow__edge-labels\")[0];\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", null, [\n        (openBlock(), createElementBlock(\"foreignObject\", _hoisted_1$2, [\n          (openBlock(), createBlock(Teleport, {\n            to: teleportTarget.value,\n            disabled: !teleportTarget.value\n          }, [\n            renderSlot(_ctx.$slots, \"default\")\n          ], 8, [\"to\", \"disabled\"]))\n        ]))\n      ]);\n    };\n  }\n});\nfunction useNodesInitialized(options = { includeHiddenNodes: false }) {\n  const { nodes } = useVueFlow();\n  return computed(() => {\n    if (nodes.value.length === 0) {\n      return false;\n    }\n    for (const node of nodes.value) {\n      if (options.includeHiddenNodes || !node.hidden) {\n        if ((node == null ? void 0 : node.handleBounds) === void 0 || node.dimensions.width === 0 || node.dimensions.height === 0) {\n          return false;\n        }\n      }\n    }\n    return true;\n  });\n}\nconst _hoisted_1$1 = { class: \"vue-flow__nodes vue-flow__container\" };\nconst __default__$2 = {\n  name: \"Nodes\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$2 = /* @__PURE__ */ defineComponent({\n  ...__default__$2,\n  setup(__props) {\n    const { getNodes, updateNodeDimensions, emits } = useVueFlow();\n    const nodesInitialized = useNodesInitialized();\n    const resizeObserver = ref();\n    watch(\n      nodesInitialized,\n      (isInit) => {\n        if (isInit) {\n          nextTick(() => {\n            emits.nodesInitialized(getNodes.value);\n          });\n        }\n      },\n      { immediate: true }\n    );\n    onMounted(() => {\n      resizeObserver.value = new ResizeObserver((entries) => {\n        const updates = entries.map((entry) => {\n          const id2 = entry.target.getAttribute(\"data-id\");\n          return {\n            id: id2,\n            nodeElement: entry.target,\n            forceUpdate: true\n          };\n        });\n        nextTick(() => updateNodeDimensions(updates));\n      });\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      return (_a = resizeObserver.value) == null ? void 0 : _a.disconnect();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n        resizeObserver.value ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(unref(getNodes), (node, __, ___, _cached) => {\n          const _memo = [node.id];\n          if (_cached && _cached.key === node.id && isMemoSame(_cached, _memo))\n            return _cached;\n          const _item = (openBlock(), createBlock(unref(NodeWrapper$1), {\n            id: node.id,\n            key: node.id,\n            \"resize-observer\": resizeObserver.value\n          }, null, 8, [\"id\", \"resize-observer\"]));\n          _item.memo = _memo;\n          return _item;\n        }, _cache, 0), 128)) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nfunction useStylesLoadedWarning() {\n  const { emits } = useVueFlow();\n  onMounted(() => {\n    if (isDev()) {\n      const pane = document.querySelector(\".vue-flow__pane\");\n      if (pane && !(window.getComputedStyle(pane).zIndex === \"1\")) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_STYLES));\n      }\n    }\n  });\n}\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"div\", { class: \"vue-flow__edge-labels\" }, null, -1);\nconst __default__$1 = {\n  name: \"VueFlow\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    id: {},\n    modelValue: {},\n    nodes: {},\n    edges: {},\n    edgeTypes: {},\n    nodeTypes: {},\n    connectionMode: {},\n    connectionLineType: {},\n    connectionLineStyle: { default: void 0 },\n    connectionLineOptions: { default: void 0 },\n    connectionRadius: {},\n    isValidConnection: { type: [Function, null], default: void 0 },\n    deleteKeyCode: { default: void 0 },\n    selectionKeyCode: { type: [Boolean, null], default: void 0 },\n    multiSelectionKeyCode: { default: void 0 },\n    zoomActivationKeyCode: { default: void 0 },\n    panActivationKeyCode: { default: void 0 },\n    snapToGrid: { type: Boolean, default: void 0 },\n    snapGrid: {},\n    onlyRenderVisibleElements: { type: Boolean, default: void 0 },\n    edgesUpdatable: { type: [Boolean, String], default: void 0 },\n    nodesDraggable: { type: Boolean, default: void 0 },\n    nodesConnectable: { type: Boolean, default: void 0 },\n    nodeDragThreshold: {},\n    elementsSelectable: { type: Boolean, default: void 0 },\n    selectNodesOnDrag: { type: Boolean, default: void 0 },\n    panOnDrag: { type: [Boolean, Array], default: void 0 },\n    minZoom: {},\n    maxZoom: {},\n    defaultViewport: {},\n    translateExtent: {},\n    nodeExtent: {},\n    defaultMarkerColor: {},\n    zoomOnScroll: { type: Boolean, default: void 0 },\n    zoomOnPinch: { type: Boolean, default: void 0 },\n    panOnScroll: { type: Boolean, default: void 0 },\n    panOnScrollSpeed: {},\n    panOnScrollMode: {},\n    paneClickDistance: {},\n    zoomOnDoubleClick: { type: Boolean, default: void 0 },\n    preventScrolling: { type: Boolean, default: void 0 },\n    selectionMode: {},\n    edgeUpdaterRadius: {},\n    fitViewOnInit: { type: Boolean, default: void 0 },\n    connectOnClick: { type: Boolean, default: void 0 },\n    applyDefault: { type: Boolean, default: void 0 },\n    autoConnect: { type: [Boolean, Function], default: void 0 },\n    noDragClassName: {},\n    noWheelClassName: {},\n    noPanClassName: {},\n    defaultEdgeOptions: {},\n    elevateEdgesOnSelect: { type: Boolean, default: void 0 },\n    elevateNodesOnSelect: { type: Boolean, default: void 0 },\n    disableKeyboardA11y: { type: Boolean, default: void 0 },\n    edgesFocusable: { type: Boolean, default: void 0 },\n    nodesFocusable: { type: Boolean, default: void 0 },\n    autoPanOnConnect: { type: Boolean, default: void 0 },\n    autoPanOnNodeDrag: { type: Boolean, default: void 0 },\n    autoPanSpeed: {}\n  },\n  emits: [\"nodesChange\", \"edgesChange\", \"nodesInitialized\", \"paneReady\", \"init\", \"updateNodeInternals\", \"error\", \"connect\", \"connectStart\", \"connectEnd\", \"clickConnectStart\", \"clickConnectEnd\", \"moveStart\", \"move\", \"moveEnd\", \"selectionDragStart\", \"selectionDrag\", \"selectionDragStop\", \"selectionContextMenu\", \"selectionStart\", \"selectionEnd\", \"viewportChangeStart\", \"viewportChange\", \"viewportChangeEnd\", \"paneScroll\", \"paneClick\", \"paneContextMenu\", \"paneMouseEnter\", \"paneMouseMove\", \"paneMouseLeave\", \"edgeUpdate\", \"edgeContextMenu\", \"edgeMouseEnter\", \"edgeMouseMove\", \"edgeMouseLeave\", \"edgeDoubleClick\", \"edgeClick\", \"edgeUpdateStart\", \"edgeUpdateEnd\", \"nodeContextMenu\", \"nodeMouseEnter\", \"nodeMouseMove\", \"nodeMouseLeave\", \"nodeDoubleClick\", \"nodeClick\", \"nodeDragStart\", \"nodeDrag\", \"nodeDragStop\", \"miniMapNodeClick\", \"miniMapNodeDoubleClick\", \"miniMapNodeMouseEnter\", \"miniMapNodeMouseMove\", \"miniMapNodeMouseLeave\", \"update:modelValue\", \"update:nodes\", \"update:edges\"],\n  setup(__props, { expose: __expose, emit }) {\n    const props = __props;\n    const slots = useSlots();\n    const modelValue = useVModel(props, \"modelValue\", emit);\n    const modelNodes = useVModel(props, \"nodes\", emit);\n    const modelEdges = useVModel(props, \"edges\", emit);\n    const instance = useVueFlow(props);\n    const dispose = useWatchProps({ modelValue, nodes: modelNodes, edges: modelEdges }, props, instance);\n    useHooks(emit, instance.hooks);\n    useOnInitHandler();\n    useStylesLoadedWarning();\n    provide(Slots, slots);\n    onUnmounted(() => {\n      dispose();\n    });\n    __expose(instance);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: unref(instance).vueFlowRef,\n        class: \"vue-flow\"\n      }, [\n        createVNode(_sfc_main$8, null, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$4),\n            _hoisted_1,\n            createVNode(_sfc_main$2),\n            renderSlot(_ctx.$slots, \"zoom-pane\")\n          ]),\n          _: 3\n        }),\n        renderSlot(_ctx.$slots, \"default\"),\n        createVNode(_sfc_main$7)\n      ], 512);\n    };\n  }\n});\nconst __default__ = {\n  name: \"Panel\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    position: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const { userSelectionActive } = useVueFlow();\n    const positionClasses = computed(() => `${props.position}`.split(\"-\"));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\"vue-flow__panel\", positionClasses.value]),\n        style: normalizeStyle({ pointerEvents: unref(userSelectionActive) ? \"none\" : \"all\" })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 6);\n    };\n  }\n});\nfunction useConnection() {\n  const {\n    connectionStartHandle: startHandle,\n    connectionEndHandle: endHandle,\n    connectionStatus: status,\n    connectionPosition: position\n  } = useVueFlow();\n  return {\n    startHandle,\n    endHandle,\n    status,\n    position\n  };\n}\nfunction useHandleConnections(params) {\n  const { type, id: id2, nodeId, onConnect, onDisconnect } = params;\n  const { connectionLookup } = useVueFlow();\n  const _nodeId = useNodeId();\n  const currentNodeId = toRef(() => toValue$1(nodeId) ?? _nodeId);\n  const handleType = toRef(() => toValue$1(type));\n  const handleId = toRef(() => toValue$1(id2) ?? null);\n  const prevConnections = ref(null);\n  const connections = ref();\n  watch(\n    () => connectionLookup.value.get(`${currentNodeId.value}-${handleType.value}-${handleId.value}`),\n    (nextConnections) => {\n      if (areConnectionMapsEqual(connections.value, nextConnections)) {\n        return;\n      }\n      connections.value = nextConnections;\n    },\n    { immediate: true }\n  );\n  watch(\n    [connections, () => typeof onConnect !== \"undefined\", () => typeof onDisconnect !== \"undefined\"],\n    ([currentConnections = /* @__PURE__ */ new Map()]) => {\n      if (prevConnections.value && prevConnections.value !== currentConnections) {\n        handleConnectionChange(prevConnections.value, currentConnections, onDisconnect);\n        handleConnectionChange(currentConnections, prevConnections.value, onConnect);\n      }\n      prevConnections.value = currentConnections;\n    },\n    { immediate: true }\n  );\n  return computed(() => {\n    if (!connections.value) {\n      return [];\n    }\n    return Array.from(connections.value.values());\n  });\n}\nfunction useNodeConnections(params = {}) {\n  const { handleType, handleId, nodeId, onConnect, onDisconnect } = params;\n  const { connectionLookup } = useVueFlow();\n  const _nodeId = useNodeId();\n  const prevConnections = ref(null);\n  const connections = ref();\n  const lookupKey = computed(() => {\n    const currNodeId = toValue$1(nodeId) ?? _nodeId;\n    const currentHandleType = toValue$1(handleType);\n    const currHandleId = toValue$1(handleId);\n    let handleSuffix = \"\";\n    if (currentHandleType) {\n      handleSuffix = currHandleId ? `-${currentHandleType}-${currHandleId}` : `-${currentHandleType}`;\n    }\n    return `${currNodeId}${handleSuffix}`;\n  });\n  watch(\n    () => connectionLookup.value.get(lookupKey.value),\n    (nextConnections) => {\n      if (areConnectionMapsEqual(connections.value, nextConnections)) {\n        return;\n      }\n      connections.value = nextConnections;\n    },\n    { immediate: true }\n  );\n  watch(\n    [connections, () => typeof onConnect !== \"undefined\", () => typeof onDisconnect !== \"undefined\"],\n    ([currentConnections = /* @__PURE__ */ new Map()]) => {\n      if (prevConnections.value && prevConnections.value !== currentConnections) {\n        handleConnectionChange(prevConnections.value, currentConnections, onDisconnect);\n        handleConnectionChange(currentConnections, prevConnections.value, onConnect);\n      }\n      prevConnections.value = currentConnections;\n    },\n    { immediate: true }\n  );\n  return computed(() => {\n    if (!connections.value) {\n      return [];\n    }\n    return Array.from(connections.value.values());\n  });\n}\nfunction useNodesData(_nodeIds) {\n  const { findNode } = useVueFlow();\n  return computed({\n    get() {\n      const nodeIds = toValue$1(_nodeIds);\n      if (!Array.isArray(nodeIds)) {\n        const node = findNode(nodeIds);\n        if (node) {\n          return {\n            id: node.id,\n            type: node.type,\n            data: node.data\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const nodeId of nodeIds) {\n        const node = findNode(nodeId);\n        if (node) {\n          data.push({\n            id: node.id,\n            type: node.type,\n            data: node.data\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set node data via useNodesData. This is not supported.\");\n    }\n  });\n}\nfunction useEdgesData(_edgeIds) {\n  const { findEdge } = useVueFlow();\n  return computed({\n    get() {\n      const edgeIds = toValue$1(_edgeIds);\n      if (!Array.isArray(edgeIds)) {\n        const edge = findEdge(edgeIds);\n        if (edge) {\n          return {\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const edgeId of edgeIds) {\n        const edge = findEdge(edgeId);\n        if (edge) {\n          data.push({\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set edge data via useEdgesData. This is not supported.\");\n    }\n  });\n}\nexport {\n  _sfc_main$d as BaseEdge,\n  BezierEdge$1 as BezierEdge,\n  ConnectionLineType,\n  ConnectionMode,\n  _sfc_main$3 as EdgeLabelRenderer,\n  _sfc_main$e as EdgeText,\n  ErrorCode,\n  _sfc_main$f as Handle,\n  MarkerType,\n  NodeId as NodeIdInjection,\n  PanOnScrollMode,\n  _sfc_main as Panel,\n  PanelPosition,\n  Position,\n  SelectionMode,\n  SimpleBezierEdge$1 as SimpleBezierEdge,\n  SmoothStepEdge$1 as SmoothStepEdge,\n  StepEdge$1 as StepEdge,\n  StraightEdge$1 as StraightEdge,\n  _sfc_main$1 as VueFlow,\n  VueFlowError,\n  VueFlow as VueFlowInjection,\n  addEdge,\n  applyChanges,\n  applyEdgeChanges,\n  applyNodeChanges,\n  clamp,\n  connectionExists,\n  defaultEdgeTypes,\n  defaultNodeTypes,\n  getBezierEdgeCenter,\n  getBezierPath,\n  getBoundsofRects,\n  getConnectedEdges,\n  getIncomers,\n  getMarkerId,\n  getNodesInside,\n  getOutgoers,\n  getRectOfNodes,\n  getSimpleBezierPath,\n  getSimpleEdgeCenter,\n  getSmoothStepPath,\n  getStraightPath,\n  getTransformForBounds,\n  rendererPointToPoint as graphPosToZoomedPos,\n  isEdge,\n  isErrorOfType,\n  isGraphEdge,\n  isGraphNode,\n  isNode,\n  pointToRendererPoint,\n  rendererPointToPoint,\n  updateEdge,\n  useConnection,\n  useEdge,\n  useEdgesData,\n  useGetPointerPosition,\n  useHandle,\n  useHandleConnections,\n  useKeyPress,\n  useNode,\n  useNodeConnections,\n  useNodeId,\n  useNodesData,\n  useNodesInitialized,\n  useVueFlow,\n  useZoomPanHelper\n};\n","import { h, defineComponent, computed, toRef, openBlock, createElementBlock, normalizeStyle, renderSlot, createElementVNode, unref, createBlock, createCommentVNode } from \"vue\";\nimport { useVueFlow } from \"@vue-flow/core\";\nvar BackgroundVariant = /* @__PURE__ */ ((BackgroundVariant2) => {\n  BackgroundVariant2[\"Lines\"] = \"lines\";\n  BackgroundVariant2[\"Dots\"] = \"dots\";\n  return BackgroundVariant2;\n})(BackgroundVariant || {});\nconst LinePattern = function({ dimensions, size, color }) {\n  return h(\"path\", {\n    \"stroke\": color,\n    \"stroke-width\": size,\n    \"d\": `M${dimensions[0] / 2} 0 V${dimensions[1]} M0 ${dimensions[1] / 2} H${dimensions[0]}`\n  });\n};\nconst DotPattern = function({ radius, color }) {\n  return h(\"circle\", { cx: radius, cy: radius, r: radius, fill: color });\n};\n({\n  [BackgroundVariant.Lines]: LinePattern,\n  [BackgroundVariant.Dots]: DotPattern\n});\nconst DefaultBgColors = {\n  [BackgroundVariant.Dots]: \"#81818a\",\n  [BackgroundVariant.Lines]: \"#eee\"\n};\nconst _hoisted_1 = [\"id\", \"x\", \"y\", \"width\", \"height\", \"patternTransform\"];\nconst _hoisted_2 = {\n  key: 2,\n  height: \"100\",\n  width: \"100\"\n};\nconst _hoisted_3 = [\"fill\"];\nconst _hoisted_4 = [\"x\", \"y\", \"fill\"];\nconst __default__ = {\n  name: \"Background\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    id: {},\n    variant: { default: () => BackgroundVariant.Dots },\n    gap: { default: 20 },\n    size: { default: 1 },\n    lineWidth: { default: 1 },\n    patternColor: {},\n    color: {},\n    bgColor: {},\n    height: { default: 100 },\n    width: { default: 100 },\n    x: { default: 0 },\n    y: { default: 0 },\n    offset: { default: 0 }\n  },\n  setup(__props) {\n    const { id: vueFlowId, viewport } = useVueFlow();\n    const background = computed(() => {\n      const zoom = viewport.value.zoom;\n      const [gapX, gapY] = Array.isArray(__props.gap) ? __props.gap : [__props.gap, __props.gap];\n      const scaledGap = [gapX * zoom || 1, gapY * zoom || 1];\n      const scaledSize = __props.size * zoom;\n      const [offsetX, offsetY] = Array.isArray(__props.offset) ? __props.offset : [__props.offset, __props.offset];\n      const scaledOffset = [offsetX * zoom || 1 + scaledGap[0] / 2, offsetY * zoom || 1 + scaledGap[1] / 2];\n      return {\n        scaledGap,\n        offset: scaledOffset,\n        size: scaledSize\n      };\n    });\n    const patternId = toRef(() => `pattern-${vueFlowId}${__props.id ? `-${__props.id}` : \"\"}`);\n    const patternColor = toRef(() => __props.color || __props.patternColor || DefaultBgColors[__props.variant || BackgroundVariant.Dots]);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", {\n        class: \"vue-flow__background vue-flow__container\",\n        style: normalizeStyle({\n          height: `${_ctx.height > 100 ? 100 : _ctx.height}%`,\n          width: `${_ctx.width > 100 ? 100 : _ctx.width}%`\n        })\n      }, [\n        renderSlot(_ctx.$slots, \"pattern-container\", { id: patternId.value }, () => [\n          createElementVNode(\"pattern\", {\n            id: patternId.value,\n            x: unref(viewport).x % background.value.scaledGap[0],\n            y: unref(viewport).y % background.value.scaledGap[1],\n            width: background.value.scaledGap[0],\n            height: background.value.scaledGap[1],\n            patternTransform: `translate(-${background.value.offset[0]},-${background.value.offset[1]})`,\n            patternUnits: \"userSpaceOnUse\"\n          }, [\n            renderSlot(_ctx.$slots, \"pattern\", {}, () => [\n              _ctx.variant === unref(BackgroundVariant).Lines ? (openBlock(), createBlock(unref(LinePattern), {\n                key: 0,\n                size: _ctx.lineWidth,\n                color: patternColor.value,\n                dimensions: background.value.scaledGap\n              }, null, 8, [\"size\", \"color\", \"dimensions\"])) : _ctx.variant === unref(BackgroundVariant).Dots ? (openBlock(), createBlock(unref(DotPattern), {\n                key: 1,\n                color: patternColor.value,\n                radius: background.value.size / 2\n              }, null, 8, [\"color\", \"radius\"])) : createCommentVNode(\"\", true),\n              _ctx.bgColor ? (openBlock(), createElementBlock(\"svg\", _hoisted_2, [\n                createElementVNode(\"rect\", {\n                  width: \"100%\",\n                  height: \"100%\",\n                  fill: _ctx.bgColor\n                }, null, 8, _hoisted_3)\n              ])) : createCommentVNode(\"\", true)\n            ])\n          ], 8, _hoisted_1)\n        ]),\n        createElementVNode(\"rect\", {\n          x: _ctx.x,\n          y: _ctx.y,\n          width: \"100%\",\n          height: \"100%\",\n          fill: `url(#${patternId.value})`\n        }, null, 8, _hoisted_4),\n        renderSlot(_ctx.$slots, \"default\", { id: patternId.value })\n      ], 4);\n    };\n  }\n});\nexport {\n  _sfc_main as Background,\n  BackgroundVariant\n};\n","import { openBlock, createElementBlock, renderSlot, createElementVNode, defineComponent, toRef, createBlock, unref, withCtx, Fragment, createVNode, resolveDynamicComponent, createCommentVNode } from \"vue\";\nimport { PanelPosition, useVueFlow, Panel } from \"@vue-flow/core\";\nconst style = \"\";\nconst _sfc_main$1 = {\n  name: \"ControlButton\",\n  compatConfig: { MODE: 3 }\n};\nconst _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\nconst _hoisted_1$5 = { class: \"vue-flow__controls-button\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"button\", _hoisted_1$5, [\n    renderSlot(_ctx.$slots, \"default\")\n  ]);\n}\nconst ControlButton = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", _sfc_render]]);\nconst _hoisted_1$4 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 32 32\"\n};\nconst _hoisted_2$4 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\" }, null, -1);\nconst _hoisted_3$4 = [\n  _hoisted_2$4\n];\nfunction render$4(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$4, _hoisted_3$4);\n}\nconst PlusIcon = { render: render$4 };\nconst _hoisted_1$3 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 32 5\"\n};\nconst _hoisted_2$3 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M0 0h32v4.2H0z\" }, null, -1);\nconst _hoisted_3$3 = [\n  _hoisted_2$3\n];\nfunction render$3(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$3, _hoisted_3$3);\n}\nconst MinusIcon = { render: render$3 };\nconst _hoisted_1$2 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 32 30\"\n};\nconst _hoisted_2$2 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\" }, null, -1);\nconst _hoisted_3$2 = [\n  _hoisted_2$2\n];\nfunction render$2(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$2, _hoisted_3$2);\n}\nconst FitView = { render: render$2 };\nconst _hoisted_1$1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 25 32\"\n};\nconst _hoisted_2$1 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\" }, null, -1);\nconst _hoisted_3$1 = [\n  _hoisted_2$1\n];\nfunction render$1(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$1, _hoisted_3$1);\n}\nconst Lock = { render: render$1 };\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 25 32\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z\" }, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction render(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nconst Unlock = { render };\nconst __default__ = {\n  name: \"Controls\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    showZoom: { type: Boolean, default: true },\n    showFitView: { type: Boolean, default: true },\n    showInteractive: { type: Boolean, default: true },\n    fitViewParams: {},\n    position: { default: () => PanelPosition.BottomLeft }\n  },\n  emits: [\"zoomIn\", \"zoomOut\", \"fitView\", \"interactionChange\"],\n  setup(__props, { emit }) {\n    const {\n      nodesDraggable,\n      nodesConnectable,\n      elementsSelectable,\n      setInteractive,\n      zoomIn,\n      zoomOut,\n      fitView,\n      viewport,\n      minZoom,\n      maxZoom\n    } = useVueFlow();\n    const isInteractive = toRef(() => nodesDraggable.value || nodesConnectable.value || elementsSelectable.value);\n    const minZoomReached = toRef(() => viewport.value.zoom <= minZoom.value);\n    const maxZoomReached = toRef(() => viewport.value.zoom >= maxZoom.value);\n    function onZoomInHandler() {\n      zoomIn();\n      emit(\"zoomIn\");\n    }\n    function onZoomOutHandler() {\n      zoomOut();\n      emit(\"zoomOut\");\n    }\n    function onFitViewHandler() {\n      fitView(__props.fitViewParams);\n      emit(\"fitView\");\n    }\n    function onInteractiveChangeHandler() {\n      setInteractive(!isInteractive.value);\n      emit(\"interactionChange\", !isInteractive.value);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(Panel), {\n        class: \"vue-flow__controls\",\n        position: _ctx.position\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"top\"),\n          _ctx.showZoom ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n            renderSlot(_ctx.$slots, \"control-zoom-in\", {}, () => [\n              createVNode(ControlButton, {\n                class: \"vue-flow__controls-zoomin\",\n                disabled: maxZoomReached.value,\n                onClick: onZoomInHandler\n              }, {\n                default: withCtx(() => [\n                  renderSlot(_ctx.$slots, \"icon-zoom-in\", {}, () => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(PlusIcon))))\n                  ])\n                ]),\n                _: 3\n              }, 8, [\"disabled\"])\n            ]),\n            renderSlot(_ctx.$slots, \"control-zoom-out\", {}, () => [\n              createVNode(ControlButton, {\n                class: \"vue-flow__controls-zoomout\",\n                disabled: minZoomReached.value,\n                onClick: onZoomOutHandler\n              }, {\n                default: withCtx(() => [\n                  renderSlot(_ctx.$slots, \"icon-zoom-out\", {}, () => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(MinusIcon))))\n                  ])\n                ]),\n                _: 3\n              }, 8, [\"disabled\"])\n            ])\n          ], 64)) : createCommentVNode(\"\", true),\n          _ctx.showFitView ? renderSlot(_ctx.$slots, \"control-fit-view\", { key: 1 }, () => [\n            createVNode(ControlButton, {\n              class: \"vue-flow__controls-fitview\",\n              onClick: onFitViewHandler\n            }, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"icon-fit-view\", {}, () => [\n                  (openBlock(), createBlock(resolveDynamicComponent(unref(FitView))))\n                ])\n              ]),\n              _: 3\n            })\n          ]) : createCommentVNode(\"\", true),\n          _ctx.showInteractive ? renderSlot(_ctx.$slots, \"control-interactive\", { key: 2 }, () => [\n            _ctx.showInteractive ? (openBlock(), createBlock(ControlButton, {\n              key: 0,\n              class: \"vue-flow__controls-interactive\",\n              onClick: onInteractiveChangeHandler\n            }, {\n              default: withCtx(() => [\n                isInteractive.value ? renderSlot(_ctx.$slots, \"icon-unlock\", { key: 0 }, () => [\n                  (openBlock(), createBlock(resolveDynamicComponent(unref(Unlock))))\n                ]) : createCommentVNode(\"\", true),\n                !isInteractive.value ? renderSlot(_ctx.$slots, \"icon-lock\", { key: 1 }, () => [\n                  (openBlock(), createBlock(resolveDynamicComponent(unref(Lock))))\n                ]) : createCommentVNode(\"\", true)\n              ]),\n              _: 3\n            })) : createCommentVNode(\"\", true)\n          ]) : createCommentVNode(\"\", true),\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 8, [\"position\"]);\n    };\n  }\n});\nexport {\n  ControlButton,\n  _sfc_main as Controls\n};\n","import { defineComponent, inject, useAttrs, toRef, openBlock, createElementBlock, Fragment, unref, createBlock, resolveDynamicComponent, normalizeProps, mergeProps, createCommentVNode, useSlots, ref, provide, computed, watchEffect, normalizeClass, withCtx, toDisplayString, renderList, normalizeStyle, createElementVNode } from \"vue\";\nimport { useVueFlow, getRectOfNodes, getBoundsofRects, Panel, getConnectedEdges } from \"@vue-flow/core\";\nvar noop = { value: () => {\n} };\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\nfunction Dispatch(_) {\n  this._ = _;\n}\nfunction parseTypenames$1(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return { type: t, name };\n  });\n}\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._, T = parseTypenames$1(typename + \"\", _), t, i = -1, n = T.length;\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get$1(_[t], typename.name))) return t;\n      return;\n    }\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set$1(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set$1(_[t], typename.name, null);\n    }\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\nfunction get$1(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\nfunction set$1(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({ name, value: callback });\n  return type;\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nconst namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n}\nfunction creatorInherit(name) {\n  return function() {\n    var document2 = this.ownerDocument, uri = this.namespaceURI;\n    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\nfunction none() {\n}\nfunction selector(selector2) {\n  return selector2 == null ? none : function() {\n    return this.querySelector(selector2);\n  };\n}\nfunction selection_select(select2) {\n  if (typeof select2 !== \"function\") select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\nfunction empty() {\n  return [];\n}\nfunction selectorAll(selector2) {\n  return selector2 == null ? empty : function() {\n    return this.querySelectorAll(selector2);\n  };\n}\nfunction arrayAll(select2) {\n  return function() {\n    return array(select2.apply(this, arguments));\n  };\n}\nfunction selection_selectAll(select2) {\n  if (typeof select2 === \"function\") select2 = arrayAll(select2);\n  else select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select2.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, parents);\n}\nfunction matcher(selector2) {\n  return function() {\n    return this.matches(selector2);\n  };\n}\nfunction childMatcher(selector2) {\n  return function(node) {\n    return node.matches(selector2);\n  };\n}\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\nfunction selection_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction sparse(update) {\n  return new Array(update.length);\n}\nfunction selection_enter() {\n  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum2) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum2;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function(selector2) {\n    return this._parent.querySelector(selector2);\n  },\n  querySelectorAll: function(selector2) {\n    return this._parent.querySelectorAll(selector2);\n  }\n};\nfunction constant$2(x) {\n  return function() {\n    return x;\n  };\n}\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0, node, groupLength = group.length, dataLength = data.length;\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nfunction selection_data(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;\n  if (typeof value !== \"function\") value = constant$2(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j], group = groups[j], groupLength = group.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength) ;\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection$1(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data : Array.from(data);\n}\nfunction selection_exit() {\n  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove();\n  else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(context) {\n  var selection2 = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection$1(merges, this._parents);\n}\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}\nfunction selection_sort(compare) {\n  if (!compare) compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection$1(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\nfunction selection_nodes() {\n  return Array.from(this);\n}\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n  return null;\n}\nfunction selection_size() {\n  let size = 0;\n  for (const node of this) ++size;\n  return size;\n}\nfunction selection_empty() {\n  return !this.node();\n}\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}\nfunction attrRemove$1(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS$1(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant$1(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS$1(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction$1(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS$1(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS$1 : attrRemove$1 : typeof value === \"function\" ? fullname.local ? attrFunctionNS$1 : attrFunction$1 : fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, value));\n}\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;\n}\nfunction styleRemove$1(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant$1(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction$1(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove$1 : typeof value === \"function\" ? styleFunction$1 : styleConstant$1)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant$1(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction$1(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction$1 : textConstant$1)(value)) : this.node().textContent;\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n  return this.each(raise);\n}\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n  return this.each(lower);\n}\nfunction selection_append(name) {\n  var create2 = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create2.apply(this, arguments));\n  });\n}\nfunction constantNull() {\n  return null;\n}\nfunction selection_insert(name, before) {\n  var create2 = typeof name === \"function\" ? name : creator(name), select2 = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);\n  });\n}\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\nfunction selection_remove() {\n  return this.each(remove);\n}\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\nfunction contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return { type: t, name };\n  });\n}\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = { type: typename.type, name: typename.name, value, listener, options };\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\nfunction dispatchEvent(node, type, params) {\n  var window2 = defaultView(node), event = window2.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window2.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\nvar root = [null];\nfunction Selection$1(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection() {\n  return new Selection$1([[document.documentElement]], root);\n}\nfunction selection_selection() {\n  return this;\n}\nSelection$1.prototype = selection.prototype = {\n  constructor: Selection$1,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nfunction select(selector2) {\n  return typeof selector2 === \"string\" ? new Selection$1([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$1([[selector2]], root);\n}\nfunction sourceEvent(event) {\n  let sourceEvent2;\n  while (sourceEvent2 = event.sourceEvent) event = sourceEvent2;\n  return event;\n}\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === void 0) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\nconst nonpassivecapture = { capture: true, passive: false };\nfunction noevent$1(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", noevent$1, nonpassivecapture);\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", noevent$1, nonpassivecapture);\n  } else {\n    root2.__noselect = root2.style.MozUserSelect;\n    root2.style.MozUserSelect = \"none\";\n  }\n}\nfunction yesdrag(view, noclick) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection2.on(\"click.drag\", noevent$1, nonpassivecapture);\n    setTimeout(function() {\n      selection2.on(\"click.drag\", null);\n    }, 0);\n  }\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", null);\n  } else {\n    root2.style.MozUserSelect = root2.__noselect;\n    delete root2.__noselect;\n  }\n}\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\nfunction Color() {\n}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\", reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\", reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`), reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`), reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`), reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`), reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`), reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 15792383,\n  antiquewhite: 16444375,\n  aqua: 65535,\n  aquamarine: 8388564,\n  azure: 15794175,\n  beige: 16119260,\n  bisque: 16770244,\n  black: 0,\n  blanchedalmond: 16772045,\n  blue: 255,\n  blueviolet: 9055202,\n  brown: 10824234,\n  burlywood: 14596231,\n  cadetblue: 6266528,\n  chartreuse: 8388352,\n  chocolate: 13789470,\n  coral: 16744272,\n  cornflowerblue: 6591981,\n  cornsilk: 16775388,\n  crimson: 14423100,\n  cyan: 65535,\n  darkblue: 139,\n  darkcyan: 35723,\n  darkgoldenrod: 12092939,\n  darkgray: 11119017,\n  darkgreen: 25600,\n  darkgrey: 11119017,\n  darkkhaki: 12433259,\n  darkmagenta: 9109643,\n  darkolivegreen: 5597999,\n  darkorange: 16747520,\n  darkorchid: 10040012,\n  darkred: 9109504,\n  darksalmon: 15308410,\n  darkseagreen: 9419919,\n  darkslateblue: 4734347,\n  darkslategray: 3100495,\n  darkslategrey: 3100495,\n  darkturquoise: 52945,\n  darkviolet: 9699539,\n  deeppink: 16716947,\n  deepskyblue: 49151,\n  dimgray: 6908265,\n  dimgrey: 6908265,\n  dodgerblue: 2003199,\n  firebrick: 11674146,\n  floralwhite: 16775920,\n  forestgreen: 2263842,\n  fuchsia: 16711935,\n  gainsboro: 14474460,\n  ghostwhite: 16316671,\n  gold: 16766720,\n  goldenrod: 14329120,\n  gray: 8421504,\n  green: 32768,\n  greenyellow: 11403055,\n  grey: 8421504,\n  honeydew: 15794160,\n  hotpink: 16738740,\n  indianred: 13458524,\n  indigo: 4915330,\n  ivory: 16777200,\n  khaki: 15787660,\n  lavender: 15132410,\n  lavenderblush: 16773365,\n  lawngreen: 8190976,\n  lemonchiffon: 16775885,\n  lightblue: 11393254,\n  lightcoral: 15761536,\n  lightcyan: 14745599,\n  lightgoldenrodyellow: 16448210,\n  lightgray: 13882323,\n  lightgreen: 9498256,\n  lightgrey: 13882323,\n  lightpink: 16758465,\n  lightsalmon: 16752762,\n  lightseagreen: 2142890,\n  lightskyblue: 8900346,\n  lightslategray: 7833753,\n  lightslategrey: 7833753,\n  lightsteelblue: 11584734,\n  lightyellow: 16777184,\n  lime: 65280,\n  limegreen: 3329330,\n  linen: 16445670,\n  magenta: 16711935,\n  maroon: 8388608,\n  mediumaquamarine: 6737322,\n  mediumblue: 205,\n  mediumorchid: 12211667,\n  mediumpurple: 9662683,\n  mediumseagreen: 3978097,\n  mediumslateblue: 8087790,\n  mediumspringgreen: 64154,\n  mediumturquoise: 4772300,\n  mediumvioletred: 13047173,\n  midnightblue: 1644912,\n  mintcream: 16121850,\n  mistyrose: 16770273,\n  moccasin: 16770229,\n  navajowhite: 16768685,\n  navy: 128,\n  oldlace: 16643558,\n  olive: 8421376,\n  olivedrab: 7048739,\n  orange: 16753920,\n  orangered: 16729344,\n  orchid: 14315734,\n  palegoldenrod: 15657130,\n  palegreen: 10025880,\n  paleturquoise: 11529966,\n  palevioletred: 14381203,\n  papayawhip: 16773077,\n  peachpuff: 16767673,\n  peru: 13468991,\n  pink: 16761035,\n  plum: 14524637,\n  powderblue: 11591910,\n  purple: 8388736,\n  rebeccapurple: 6697881,\n  red: 16711680,\n  rosybrown: 12357519,\n  royalblue: 4286945,\n  saddlebrown: 9127187,\n  salmon: 16416882,\n  sandybrown: 16032864,\n  seagreen: 3050327,\n  seashell: 16774638,\n  sienna: 10506797,\n  silver: 12632256,\n  skyblue: 8900331,\n  slateblue: 6970061,\n  slategray: 7372944,\n  slategrey: 7372944,\n  snow: 16775930,\n  springgreen: 65407,\n  steelblue: 4620980,\n  tan: 13808780,\n  teal: 32896,\n  thistle: 14204888,\n  tomato: 16737095,\n  turquoise: 4251856,\n  violet: 15631086,\n  wheat: 16113331,\n  white: 16777215,\n  whitesmoke: 16119285,\n  yellow: 16776960,\n  yellowgreen: 10145074\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h = NaN, s = max - min, l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360, s = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\nconst constant$1 = (x) => () => x;\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant$1(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$1(isNaN(a) ? b : a);\n}\nconst interpolateRgb = function rgbGamma(y) {\n  var color2 = gamma(y);\n  function rgb$1(start2, end) {\n    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);\n    return function(t) {\n      start2.r = r(t);\n      start2.g = g(t);\n      start2.b = b(t);\n      start2.opacity = opacity(t);\n      return start2 + \"\";\n    };\n  }\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n  a = a + \"\", b = b + \"\";\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs;\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      if (s[i]) s[i] += bm;\n      else s[++i] = bm;\n    } else {\n      s[++i] = null;\n      q.push({ i, x: interpolateNumber(am, bm) });\n    }\n    bi = reB.lastIndex;\n  }\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs;\n    else s[++i] = bs;\n  }\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {\n    for (var i2 = 0, o; i2 < b; ++i2) s[(o = q[i2]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}\nvar degrees = 180 / Math.PI;\nvar identity$1 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX,\n    scaleY\n  };\n}\nvar svgNode;\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity$1 : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nfunction parseSvg(value) {\n  if (value == null) return identity$1;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity$1;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360;\n      else if (b - a > 180) a += 360;\n      q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function(a, b) {\n    var s = [], q = [];\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar epsilon2 = 1e-12;\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\nconst interpolateZoom = function zoomRho(rho, rho2, rho4) {\n  function zoom2(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      };\n    }\n    i.duration = S * 1e3 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom2.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom2;\n}(Math.SQRT2, 2, 4);\nvar frame = 0, timeout$1 = 0, interval = 0, pokeDelay = 1e3, taskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === \"object\" && performance.now ? performance : Date, setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {\n  setTimeout(f, 17);\n};\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n  clockNow = 0;\n}\nfunction Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nfunction timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nfunction timerFlush() {\n  now();\n  ++frame;\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(void 0, e);\n    t = t._next;\n  }\n  --frame;\n}\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout$1 = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\nfunction poke() {\n  var now2 = clock.now(), delay = now2 - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now2;\n}\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\nfunction sleep(time) {\n  if (frame) return;\n  if (timeout$1) timeout$1 = clearTimeout(timeout$1);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity) timeout$1 = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\nfunction timeout(callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart((elapsed) => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id2, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id2 in schedules) return;\n  create(node, id2, {\n    name,\n    index,\n    // For context during callback.\n    group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nfunction init(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule2;\n}\nfunction set(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule2;\n}\nfunction get(node, id2) {\n  var schedule2 = node.__transition;\n  if (!schedule2 || !(schedule2 = schedule2[id2])) throw new Error(\"transition not found\");\n  return schedule2;\n}\nfunction create(node, id2, self) {\n  var schedules = node.__transition, tween;\n  schedules[id2] = self;\n  self.timer = timer(schedule2, 0, self.time);\n  function schedule2(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start2, self.delay, self.time);\n    if (self.delay <= elapsed) start2(elapsed - self.delay);\n  }\n  function start2(elapsed) {\n    var i, j, n, o;\n    if (self.state !== SCHEDULED) return stop();\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n      if (o.state === STARTED) return timeout(start2);\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } else if (+i < id2) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return;\n    self.state = STARTED;\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id2];\n    for (var i in schedules) return;\n    delete node.__transition;\n  }\n}\nfunction interrupt(node, name) {\n  var schedules = node.__transition, schedule2, active, empty2 = true, i;\n  if (!schedules) return;\n  name = name == null ? null : name + \"\";\n  for (i in schedules) {\n    if ((schedule2 = schedules[i]).name !== name) {\n      empty2 = false;\n      continue;\n    }\n    active = schedule2.state > STARTING && schedule2.state < ENDING;\n    schedule2.state = ENDED;\n    schedule2.timer.stop();\n    schedule2.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule2.index, schedule2.group);\n    delete schedules[i];\n  }\n  if (empty2) delete node.__transition;\n}\nfunction selection_interrupt(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\nfunction tweenRemove(id2, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction tweenFunction(id2, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error();\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction transition_tween(name, value) {\n  var id2 = this._id;\n  name += \"\";\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id2).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));\n}\nfunction tweenValue(transition, name, value) {\n  var id2 = transition._id;\n  transition.each(function() {\n    var schedule2 = set(this, id2);\n    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function(node) {\n    return get(node, id2).value[name];\n  };\n}\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrConstantNS(fullname, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction attrFunctionNS(fullname, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction transition_attr(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id2, value) {\n  return function() {\n    init(this, id2).delay = +value.apply(this, arguments);\n  };\n}\nfunction delayConstant(id2, value) {\n  return value = +value, function() {\n    init(this, id2).delay = value;\n  };\n}\nfunction transition_delay(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id2, value)) : get(this.node(), id2).delay;\n}\nfunction durationFunction(id2, value) {\n  return function() {\n    set(this, id2).duration = +value.apply(this, arguments);\n  };\n}\nfunction durationConstant(id2, value) {\n  return value = +value, function() {\n    set(this, id2).duration = value;\n  };\n}\nfunction transition_duration(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id2, value)) : get(this.node(), id2).duration;\n}\nfunction easeConstant(id2, value) {\n  if (typeof value !== \"function\") throw new Error();\n  return function() {\n    set(this, id2).ease = value;\n  };\n}\nfunction transition_ease(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each(easeConstant(id2, value)) : get(this.node(), id2).ease;\n}\nfunction easeVarying(id2, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error();\n    set(this, id2).ease = v;\n  };\n}\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\") throw new Error();\n  return this.each(easeVarying(this._id, value));\n}\nfunction transition_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition) {\n  if (transition._id !== this._id) throw new Error();\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\nfunction onFunction(id2, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule2 = sit(this, id2), on = schedule2.on;\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_on(name, listener) {\n  var id2 = this._id;\n  return arguments.length < 2 ? get(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));\n}\nfunction removeFunction(id2) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id2) return;\n    if (parent) parent.removeChild(this);\n  };\n}\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\") select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id2, i, subgroup, get(node, id2));\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, name, id2);\n}\nfunction transition_selectAll(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\") select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children2 = select2.call(node, node.__data__, i, group), child, inherit2 = get(node, id2), k = 0, l = children2.length; k < l; ++k) {\n          if (child = children2[k]) {\n            schedule(child, name, id2, k, children2, inherit2);\n          }\n        }\n        subgroups.push(children2);\n        parents.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, parents, name, id2);\n}\nvar Selection = selection.prototype.constructor;\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate2) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);\n  };\n}\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction styleFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction styleMaybeRemove(id2, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove2;\n  return function() {\n    var schedule2 = set(this, id2), on = schedule2.on, listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove(name)) : void 0;\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}\nfunction textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, textTween(value));\n}\nfunction transition_transition() {\n  var name = this._name, id0 = this._id, id1 = newId();\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit2 = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit2.time + inherit2.delay + inherit2.duration,\n          delay: 0,\n          duration: inherit2.duration,\n          ease: inherit2.ease\n        });\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n  var on0, on1, that = this, id2 = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = { value: reject }, end = { value: function() {\n      if (--size === 0) resolve();\n    } };\n    that.each(function() {\n      var schedule2 = set(this, id2), on = schedule2.on;\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n      schedule2.on = on1;\n    });\n    if (size === 0) resolve();\n  });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id2) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id2;\n}\nfunction newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\nfunction inherit(node, id2) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id2])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id2} not found`);\n    }\n  }\n  return timing;\n}\nfunction selection_transition(name) {\n  var id2, timing;\n  if (name instanceof Transition) {\n    id2 = name._id, name = name._name;\n  } else {\n    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id2, i, group, timing || inherit(node, id2));\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id2);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\nconst constant = (x) => () => x;\nfunction ZoomEvent(type, {\n  sourceEvent: sourceEvent2,\n  target,\n  transform,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    transform: { value: transform, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nvar identity = new Transform(1, 0, 0);\nTransform.prototype;\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === \"wheel\") && !event.button;\n}\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\nfunction zoom() {\n  var filter2 = defaultFilter, extent = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate2 = interpolateZoom, listeners = dispatch(\"start\", \"zoom\", \"end\"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;\n  function zoom2(selection2) {\n    selection2.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled, { passive: false }).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  zoom2.transform = function(collection, transform, point, event) {\n    var selection2 = collection.selection ? collection.selection() : collection;\n    selection2.property(\"__zoom\", defaultTransform);\n    if (collection !== selection2) {\n      schedule2(collection, transform, point, event);\n    } else {\n      selection2.interrupt().each(function() {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n  zoom2.scaleBy = function(selection2, k, p, event) {\n    zoom2.scaleTo(selection2, function() {\n      var k0 = this.__zoom.k, k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n  zoom2.scaleTo = function(selection2, k, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n  zoom2.translateBy = function(selection2, x, y, event) {\n    zoom2.transform(selection2, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n  zoom2.translateTo = function(selection2, x, y, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n  function centroid(extent2) {\n    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];\n  }\n  function schedule2(transition, transform, point, event) {\n    transition.on(\"start.zoom\", function() {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function() {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function() {\n      var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform === \"function\" ? transform.apply(that, args) : transform, i = interpolate2(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function(t) {\n        if (t === 1) t = b;\n        else {\n          var l = i(t), k = w / l[2];\n          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n        }\n        g.zoom(null, t);\n      };\n    });\n  }\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom2,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n  function wheeled(event, ...args) {\n    if (!filter2.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = pointer(event);\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    } else if (t.k === k) return;\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n  function mousedowned(event, ...args) {\n    if (touchending || !filter2.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget, g = gesture(this, args, true).event(event), v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true), p = pointer(event, currentTarget), x0 = event.clientX, y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n    function mousemoved(event2) {\n      noevent(event2);\n      if (!g.moved) {\n        var dx = event2.clientX - x0, dy = event2.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event2).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n    function mouseupped(event2) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event2.view, g.moved);\n      noevent(event2);\n      g.event(event2).end();\n    }\n  }\n  function dblclicked(event, ...args) {\n    if (!filter2.apply(this, arguments)) return;\n    var t0 = this.__zoom, p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule2, t1, p0, event);\n    else select(this).call(zoom2.transform, t1, p0, event);\n  }\n  function touchstarted(event, ...args) {\n    if (!filter2.apply(this, arguments)) return;\n    var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i, t, p;\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() {\n        touchstarting = null;\n      }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t, p, l;\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t;\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n  zoom2.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom2) : wheelDelta;\n  };\n  zoom2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : filter2;\n  };\n  zoom2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : touchable;\n  };\n  zoom2.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom2) : extent;\n  };\n  zoom2.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom2) : [scaleExtent[0], scaleExtent[1]];\n  };\n  zoom2.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n  zoom2.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom2) : constrain;\n  };\n  zoom2.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom2) : duration;\n  };\n  zoom2.interpolate = function(_) {\n    return arguments.length ? (interpolate2 = _, zoom2) : interpolate2;\n  };\n  zoom2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom2 : value;\n  };\n  zoom2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom2) : Math.sqrt(clickDistance2);\n  };\n  zoom2.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom2) : tapDistance;\n  };\n  return zoom2;\n}\nconst Slots = Symbol(\"MiniMapSlots\");\nconst _hoisted_1$1 = [\"id\", \"x\", \"y\", \"rx\", \"ry\", \"width\", \"height\", \"fill\", \"stroke\", \"stroke-width\", \"shape-rendering\"];\nconst __default__$1 = {\n  name: \"MiniMapNode\",\n  compatConfig: { MODE: 3 },\n  inheritAttrs: false\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    id: {},\n    type: {},\n    selected: { type: Boolean },\n    dragging: { type: Boolean },\n    position: {},\n    dimensions: {},\n    borderRadius: {},\n    color: {},\n    shapeRendering: {},\n    strokeColor: {},\n    strokeWidth: {},\n    hidden: { type: Boolean }\n  },\n  emits: [\"click\", \"dblclick\", \"mouseenter\", \"mousemove\", \"mouseleave\"],\n  setup(__props, { emit: emits }) {\n    const props = __props;\n    const miniMapSlots = inject(Slots);\n    const attrs = useAttrs();\n    const style = toRef(() => attrs.style ?? {});\n    function onClick(event) {\n      emits(\"click\", event);\n    }\n    function onDblclick(event) {\n      emits(\"dblclick\", event);\n    }\n    function onMouseEnter(event) {\n      emits(\"mouseenter\", event);\n    }\n    function onMouseMove(event) {\n      emits(\"mousemove\", event);\n    }\n    function onMouseLeave(event) {\n      emits(\"mouseleave\", event);\n    }\n    return (_ctx, _cache) => {\n      return !_ctx.hidden && _ctx.dimensions.width !== 0 && _ctx.dimensions.height !== 0 ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n        unref(miniMapSlots)[`node-${props.type}`] ? (openBlock(), createBlock(resolveDynamicComponent(unref(miniMapSlots)[`node-${props.type}`]), normalizeProps(mergeProps({ key: 0 }, { ...props, ..._ctx.$attrs })), null, 16)) : (openBlock(), createElementBlock(\"rect\", mergeProps({\n          key: 1,\n          id: _ctx.id\n        }, _ctx.$attrs, {\n          class: [\"vue-flow__minimap-node\", { selected: _ctx.selected, dragging: _ctx.dragging }],\n          x: _ctx.position.x,\n          y: _ctx.position.y,\n          rx: _ctx.borderRadius,\n          ry: _ctx.borderRadius,\n          width: _ctx.dimensions.width,\n          height: _ctx.dimensions.height,\n          fill: _ctx.color || style.value.background || style.value.backgroundColor,\n          stroke: _ctx.strokeColor,\n          \"stroke-width\": _ctx.strokeWidth,\n          \"shape-rendering\": _ctx.shapeRendering,\n          onClick,\n          onDblclick,\n          onMouseenter: onMouseEnter,\n          onMousemove: onMouseMove,\n          onMouseleave: onMouseLeave\n        }), null, 16, _hoisted_1$1))\n      ], 64)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nconst _hoisted_1 = [\"width\", \"height\", \"viewBox\", \"aria-labelledby\"];\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = [\"d\", \"fill\", \"stroke\", \"stroke-width\"];\nconst __default__ = {\n  name: \"MiniMap\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    nodeColor: { type: [String, Function], default: \"#e2e2e2\" },\n    nodeStrokeColor: { type: [String, Function], default: \"transparent\" },\n    nodeClassName: { type: [String, Function] },\n    nodeBorderRadius: { default: 5 },\n    nodeStrokeWidth: { default: 2 },\n    maskColor: { default: \"rgb(240, 240, 240, 0.6)\" },\n    maskStrokeColor: { default: \"none\" },\n    maskStrokeWidth: { default: 1 },\n    position: { default: \"bottom-right\" },\n    pannable: { type: Boolean, default: false },\n    zoomable: { type: Boolean, default: false },\n    width: {},\n    height: {},\n    ariaLabel: { default: \"Vue Flow mini map\" },\n    inversePan: { type: Boolean, default: false },\n    zoomStep: { default: 10 },\n    offsetScale: { default: 5 },\n    maskBorderRadius: { default: 0 }\n  },\n  emits: [\"click\", \"nodeClick\", \"nodeDblclick\", \"nodeMouseenter\", \"nodeMousemove\", \"nodeMouseleave\"],\n  setup(__props, { emit }) {\n    const slots = useSlots();\n    const attrs = useAttrs();\n    const defaultWidth = 200;\n    const defaultHeight = 150;\n    const { id: id2, edges, viewport, translateExtent, dimensions, emits, d3Selection, d3Zoom, getNodesInitialized } = useVueFlow();\n    const el = ref();\n    provide(Slots, slots);\n    const elementWidth = toRef(() => {\n      var _a;\n      return __props.width ?? ((_a = attrs.style) == null ? void 0 : _a.width) ?? defaultWidth;\n    });\n    const elementHeight = toRef(() => {\n      var _a;\n      return __props.height ?? ((_a = attrs.style) == null ? void 0 : _a.height) ?? defaultHeight;\n    });\n    const shapeRendering = typeof window === \"undefined\" || !!window.chrome ? \"crispEdges\" : \"geometricPrecision\";\n    const nodeColorFunc = computed(() => typeof __props.nodeColor === \"string\" ? () => __props.nodeColor : __props.nodeColor);\n    const nodeStrokeColorFunc = computed(\n      () => typeof __props.nodeStrokeColor === \"string\" ? () => __props.nodeStrokeColor : __props.nodeStrokeColor\n    );\n    const nodeClassNameFunc = computed(\n      () => typeof __props.nodeClassName === \"string\" ? () => __props.nodeClassName : typeof __props.nodeClassName === \"function\" ? __props.nodeClassName : () => \"\"\n    );\n    const bb = computed(() => getRectOfNodes(getNodesInitialized.value.filter((node) => !node.hidden)));\n    const viewBB = computed(() => ({\n      x: -viewport.value.x / viewport.value.zoom,\n      y: -viewport.value.y / viewport.value.zoom,\n      width: dimensions.value.width / viewport.value.zoom,\n      height: dimensions.value.height / viewport.value.zoom\n    }));\n    const boundingRect = computed(\n      () => getNodesInitialized.value && getNodesInitialized.value.length ? getBoundsofRects(bb.value, viewBB.value) : viewBB.value\n    );\n    const viewScale = computed(() => {\n      const scaledWidth = boundingRect.value.width / elementWidth.value;\n      const scaledHeight = boundingRect.value.height / elementHeight.value;\n      return Math.max(scaledWidth, scaledHeight);\n    });\n    const viewBox = computed(() => {\n      const viewWidth = viewScale.value * elementWidth.value;\n      const viewHeight = viewScale.value * elementHeight.value;\n      const offset = __props.offsetScale * viewScale.value;\n      return {\n        offset,\n        x: boundingRect.value.x - (viewWidth - boundingRect.value.width) / 2 - offset,\n        y: boundingRect.value.y - (viewHeight - boundingRect.value.height) / 2 - offset,\n        width: viewWidth + offset * 2,\n        height: viewHeight + offset * 2\n      };\n    });\n    const d = computed(() => {\n      if (!viewBox.value.x || !viewBox.value.y) {\n        return \"\";\n      }\n      return `\n    M${viewBox.value.x - viewBox.value.offset},${viewBox.value.y - viewBox.value.offset}\n    h${viewBox.value.width + viewBox.value.offset * 2}\n    v${viewBox.value.height + viewBox.value.offset * 2}\n    h${-viewBox.value.width - viewBox.value.offset * 2}z\n    M${viewBB.value.x + __props.maskBorderRadius},${viewBB.value.y}\n    h${viewBB.value.width - 2 * __props.maskBorderRadius}\n    a${__props.maskBorderRadius},${__props.maskBorderRadius} 0 0 1 ${__props.maskBorderRadius},${__props.maskBorderRadius}\n    v${viewBB.value.height - 2 * __props.maskBorderRadius}\n    a${__props.maskBorderRadius},${__props.maskBorderRadius} 0 0 1 -${__props.maskBorderRadius},${__props.maskBorderRadius}\n    h${-(viewBB.value.width - 2 * __props.maskBorderRadius)}\n    a${__props.maskBorderRadius},${__props.maskBorderRadius} 0 0 1 -${__props.maskBorderRadius},-${__props.maskBorderRadius}\n    v${-(viewBB.value.height - 2 * __props.maskBorderRadius)}\n    a${__props.maskBorderRadius},${__props.maskBorderRadius} 0 0 1 ${__props.maskBorderRadius},-${__props.maskBorderRadius}z`;\n    });\n    watchEffect(\n      (onCleanup) => {\n        if (el.value) {\n          const selection2 = select(el.value);\n          const zoomHandler = (event) => {\n            if (event.sourceEvent.type !== \"wheel\" || !d3Selection.value || !d3Zoom.value) {\n              return;\n            }\n            const pinchDelta = -event.sourceEvent.deltaY * (event.sourceEvent.deltaMode === 1 ? 0.05 : event.sourceEvent.deltaMode ? 1 : 2e-3) * __props.zoomStep;\n            const zoom2 = viewport.value.zoom * 2 ** pinchDelta;\n            d3Zoom.value.scaleTo(d3Selection.value, zoom2);\n          };\n          const panHandler = (event) => {\n            if (event.sourceEvent.type !== \"mousemove\" || !d3Selection.value || !d3Zoom.value) {\n              return;\n            }\n            const moveScale = viewScale.value * Math.max(1, viewport.value.zoom) * (__props.inversePan ? -1 : 1);\n            const position = {\n              x: viewport.value.x - event.sourceEvent.movementX * moveScale,\n              y: viewport.value.y - event.sourceEvent.movementY * moveScale\n            };\n            const extent = [\n              [0, 0],\n              [dimensions.value.width, dimensions.value.height]\n            ];\n            const nextTransform = identity.translate(position.x, position.y).scale(viewport.value.zoom);\n            const constrainedTransform = d3Zoom.value.constrain()(nextTransform, extent, translateExtent.value);\n            d3Zoom.value.transform(d3Selection.value, constrainedTransform);\n          };\n          const zoomAndPanHandler = zoom().on(\"zoom\", __props.pannable ? panHandler : () => {\n          }).on(\"zoom.wheel\", __props.zoomable ? zoomHandler : () => {\n          });\n          selection2.call(zoomAndPanHandler);\n          onCleanup(() => {\n            selection2.on(\"zoom\", null);\n          });\n        }\n      },\n      { flush: \"post\" }\n    );\n    function onSvgClick(event) {\n      const [x, y] = pointer(event);\n      emit(\"click\", { event, position: { x, y } });\n    }\n    function onNodeClick(event, node) {\n      const param = { event, node, connectedEdges: getConnectedEdges([node], edges.value) };\n      emits.miniMapNodeClick(param);\n      emit(\"nodeClick\", param);\n    }\n    function onNodeDblClick(event, node) {\n      const param = { event, node, connectedEdges: getConnectedEdges([node], edges.value) };\n      emits.miniMapNodeDoubleClick(param);\n      emit(\"nodeDblclick\", param);\n    }\n    function onNodeMouseEnter(event, node) {\n      const param = { event, node, connectedEdges: getConnectedEdges([node], edges.value) };\n      emits.miniMapNodeMouseEnter(param);\n      emit(\"nodeMouseenter\", param);\n    }\n    function onNodeMouseMove(event, node) {\n      const param = { event, node, connectedEdges: getConnectedEdges([node], edges.value) };\n      emits.miniMapNodeMouseMove(param);\n      emit(\"nodeMousemove\", param);\n    }\n    function onNodeMouseLeave(event, node) {\n      const param = { event, node, connectedEdges: getConnectedEdges([node], edges.value) };\n      emits.miniMapNodeMouseLeave(param);\n      emit(\"nodeMouseleave\", param);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(Panel), {\n        position: _ctx.position,\n        class: normalizeClass([\"vue-flow__minimap\", { pannable: _ctx.pannable, zoomable: _ctx.zoomable }])\n      }, {\n        default: withCtx(() => [\n          (openBlock(), createElementBlock(\"svg\", {\n            ref_key: \"el\",\n            ref: el,\n            width: elementWidth.value,\n            height: elementHeight.value,\n            viewBox: [viewBox.value.x, viewBox.value.y, viewBox.value.width, viewBox.value.height].join(\" \"),\n            role: \"img\",\n            \"aria-labelledby\": `vue-flow__minimap-${unref(id2)}`,\n            onClick: onSvgClick\n          }, [\n            _ctx.ariaLabel ? (openBlock(), createElementBlock(\"title\", {\n              key: 0,\n              id: `vue-flow__minimap-${unref(id2)}`\n            }, toDisplayString(_ctx.ariaLabel), 9, _hoisted_2)) : createCommentVNode(\"\", true),\n            (openBlock(true), createElementBlock(Fragment, null, renderList(unref(getNodesInitialized), (node) => {\n              return openBlock(), createBlock(_sfc_main$1, {\n                id: node.id,\n                key: node.id,\n                position: node.computedPosition,\n                dimensions: node.dimensions,\n                selected: node.selected,\n                dragging: node.dragging,\n                style: normalizeStyle(node.style),\n                class: normalizeClass(nodeClassNameFunc.value(node)),\n                color: nodeColorFunc.value(node),\n                \"border-radius\": _ctx.nodeBorderRadius,\n                \"stroke-color\": nodeStrokeColorFunc.value(node),\n                \"stroke-width\": _ctx.nodeStrokeWidth,\n                \"shape-rendering\": unref(shapeRendering),\n                type: node.type,\n                hidden: node.hidden,\n                onClick: ($event) => onNodeClick($event, node),\n                onDblclick: ($event) => onNodeDblClick($event, node),\n                onMouseenter: ($event) => onNodeMouseEnter($event, node),\n                onMousemove: ($event) => onNodeMouseMove($event, node),\n                onMouseleave: ($event) => onNodeMouseLeave($event, node)\n              }, null, 8, [\"id\", \"position\", \"dimensions\", \"selected\", \"dragging\", \"style\", \"class\", \"color\", \"border-radius\", \"stroke-color\", \"stroke-width\", \"shape-rendering\", \"type\", \"hidden\", \"onClick\", \"onDblclick\", \"onMouseenter\", \"onMousemove\", \"onMouseleave\"]);\n            }), 128)),\n            createElementVNode(\"path\", {\n              class: \"vue-flow__minimap-mask\",\n              d: d.value,\n              fill: _ctx.maskColor,\n              stroke: _ctx.maskStrokeColor,\n              \"stroke-width\": _ctx.maskStrokeWidth,\n              \"fill-rule\": \"evenodd\"\n            }, null, 8, _hoisted_3)\n          ], 8, _hoisted_1))\n        ]),\n        _: 1\n      }, 8, [\"position\", \"class\"]);\n    };\n  }\n});\nexport {\n  _sfc_main as MiniMap,\n  _sfc_main$1 as MiniMapNode,\n  Slots\n};\n","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { AgGridVue } from 'ag-grid-vue3';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport ProcModal from '@/components/modal/ProcModal.vue';\nimport { VueFlow, useVueFlow } from '@vue-flow/core';\nimport { Background } from '@vue-flow/background';\nimport { ControlButton, Controls } from '@vue-flow/controls';\nimport { MiniMap } from '@vue-flow/minimap';\nexport default {\n  components: {\n    AgGridVue,\n    ProcModal,\n    Swal,\n    VueFlow,\n    Background,\n    Controls,\n    ControlButton,\n    MiniMap\n  },\n  data() {\n    return {\n      // 다이어그램용\n      nodes: [],\n      edges: [],\n      vueFlowInstance: null,\n      // VueFlow 인스턴스 저장용\n\n      rowData: [{\n        prod_code: \"\",\n        prod_name: \"\"\n      }],\n      columnDefs: [{\n        field: 'prod_code',\n        headerName: '제품코드',\n        flex: 1\n      }, {\n        field: 'prod_name',\n        headerName: '제품명',\n        flex: 1\n      }],\n      gridOptions1: {\n        domLayout: \"autoHeight\",\n        //행을 보고 자동으로 hight부여\n        pagination: true,\n        paginationPageSize: 7,\n        paginationPageSizeSelector: false,\n        overlayNoRowsTemplate: '표시할 값이 없습니다.',\n        defaultColDef: {\n          suppressMovable: true,\n          //컬럼 드래그로 순서바꾸기 못하게\n          resizable: false,\n          //컬럼 너비 마우스로 조절 못하게\n          sortable: false,\n          //정렬 기능 비활성화\n          onGridReady: function (event) {\n            event.api.sizeColumnsToFit();\n          }\n        }\n      },\n      rowData2: [{\n        prod_code: \"\",\n        prod_name: \"\",\n        process_code: \"\",\n        process_name: \"\"\n      }],\n      columnDefs2: [{\n        field: 'drag',\n        headerName: '',\n        flex: 1,\n        rowDrag: true\n      }, {\n        headerCheckboxSelection: true,\n        checkboxSelection: true,\n        width: 50\n      }, {\n        field: 'prod_code',\n        headerName: '제품코드',\n        flex: 3\n      }, {\n        field: 'prod_name',\n        headerName: '제품명',\n        flex: 4\n      }, {\n        field: 'process_code',\n        headerName: '공정코드',\n        flex: 3\n      }, {\n        field: 'process_name',\n        headerName: '공정명',\n        flex: 4\n      }],\n      gridOptions2: {\n        rowDragManaged: true,\n        //드래그 행 드롭을 자동으로 관리해주는 기능\n        animateRows: true,\n        // 행이 이동하거나 삭제될때 부드러운 애니메이션효과적용\n        domLayout: \"autoHeight\",\n        //행을 보고 자동으로 hight부여\n        suppressRowClickSelection: true,\n        //\t행 클릭할 때 체크박스 선택 방지\n        overlayNoRowsTemplate: '표시할 값이 없습니다.',\n        defaultColDef: {\n          suppressMovable: true,\n          //컬럼 드래그로 순서바꾸기 못하게\n          resizable: false,\n          //컬럼 너비 마우스로 조절 못하게\n          sortable: false,\n          //정렬 기능 비활성화\n          onGridReady: function (event) {\n            event.api.sizeColumnsToFit();\n          }\n        }\n      },\n      showProcModal: false,\n      //상세그리드 행 인덱스\n      selectedSecondIndex: null,\n      prodIndex: null\n    };\n  },\n  mounted() {\n    this.ProcData();\n    // VueFlow 인스턴스 초기화\n    this.vueFlowInstance = useVueFlow();\n  },\n  methods: {\n    async ProcData() {\n      try {\n        const response = await axios.get('/api/admin/processflow');\n        this.rowData = response.data;\n      } catch (err) {\n        console.error('데이터 조회 실패:', err);\n      }\n    },\n    async prodCellClicked(event) {\n      let proc = event.data.prod_code;\n      this.prodIndex = event.rowIndex;\n      await axios.get('/api/admin/processflow/' + proc).then(res => {\n        console.log(res);\n        this.rowData2 = res.data;\n        this.rowData2 = [...this.rowData2];\n      }).catch(error => {\n        console.error(error);\n      });\n      console.log(event);\n      //다이어그램실행\n      this.generateFlowDiagram();\n    },\n    //행추가\n    addRow() {\n      if (this.prodIndex == null) {\n        Swal.fire({\n          title: '실패',\n          text: '제품을 클릭해주세요',\n          icon: 'error',\n          confirmButtonText: '확인'\n        });\n        return;\n      }\n      this.rowData2.push({\n        prod_code: this.rowData[this.prodIndex].prod_code,\n        prod_name: this.rowData[this.prodIndex].prod_name,\n        process_code: \"\",\n        process_name: \"\"\n      });\n\n      // 새 배열로 설정하여 AG Grid가 반영하게 만듬\n      this.rowData2 = [...this.rowData2];\n      // 다이어그램 업데이트\n      this.generateFlowDiagram();\n    },\n    //행삭제\n    deleteRow() {\n      const selectedNodes = this.$refs.secondGrid.api.getSelectedNodes();\n      const selectedData = selectedNodes.map(node => node.data);\n\n      // rowData2에서 선택된 행을 제외한 나머지만 남긴다\n      this.rowData2 = this.rowData2.filter(row => !selectedData.includes(row));\n\n      // 다이어그램 업데이트\n      this.generateFlowDiagram();\n    },\n    //공정코드를 클릭했을때 모달창 열기\n    procCellClicked(parmas) {\n      if (parmas.colDef.field == \"process_code\" || parmas.colDef.field == \"process_name\") {\n        this.selectedSecondIndex = parmas.rowIndex;\n        this.showProcModal = true;\n        console.log('모달값', parmas);\n      }\n    },\n    //공정 모달창 값 전달\n    procSelected(proc) {\n      this.rowData2[this.selectedSecondIndex].process_code = proc.process_code;\n      this.rowData2[this.selectedSecondIndex].process_name = proc.process_name;\n      // 새 배열로 설정하여 AG Grid가 반영하게 만듬\n      this.rowData2 = [...this.rowData2];\n\n      // 다이어그램 업데이트\n      this.generateFlowDiagram();\n    },\n    //저장\n    async proSave() {\n      //값체크 validation\n      for (let data of this.rowData2) {\n        console.log(data);\n        if (data.prod_code == '' || data.prod_name == '' || data.process_code == '' || data.process_name == '') {\n          Swal.fire({\n            title: '실패',\n            text: '값을 다 입력해주세요',\n            icon: 'error',\n            confirmButtonText: '확인'\n          });\n          return;\n        }\n      }\n      const res = axios.post('/api/admin/procsave', {\n        insertProc: this.rowData2,\n        prodFlow: this.rowData[this.prodIndex].prod_code\n      }).then(res => {\n        if (res.data.affectedRows > 0) {\n          Swal.fire({\n            title: '등록 성공',\n            text: '정상적으로 등록이 완료되었습니다.',\n            icon: 'success',\n            confirmButtonText: '확인'\n          });\n        } else {\n          Swal.fire({\n            title: '등록 실패',\n            text: '등록이 실패하였습니다..',\n            icon: 'error',\n            confirmButtonText: '확인'\n          });\n        }\n      }).catch(error => {\n        console.error(error);\n        Swal.fire({\n          title: '등록 실패',\n          text: '알수 없는 오류가 발생하였습니다..',\n          icon: 'error',\n          confirmButtonText: '확인'\n        });\n        return;\n      });\n      this.rowData2 = [{\n        prod_code: \"\",\n        prod_name: \"\",\n        process_code: \"\",\n        process_name: \"\"\n      }];\n      this.ProcData();\n    },\n    //순서이동\n    onRowDragEnd(event) {\n      const updatedData = [];\n      event.api.forEachNodeAfterFilterAndSort(node => {\n        updatedData.push(node.data);\n      });\n      this.rowData2 = [...updatedData];\n\n      // 다이어그램 업데이트\n      this.generateFlowDiagram();\n    },\n    //다이어그램 실행\n    generateFlowDiagram() {\n      //\n      const newNodes = this.rowData2.map((item, index) => ({\n        //다이어그램 ID\n        id: `${item.process_code || 'node'}-${index}`,\n        //다이어그램이름\n        data: {\n          label: item.process_name?.slice(0, 10) || `공정 ${index + 1}`\n        },\n        //다이어그램 위치\n        position: {\n          x: 20 + 150 * index,\n          y: 10 + 100 * index\n        },\n        type: index == 0 ? 'input' : index === this.rowData2.length - 1 ? 'output' : 'default',\n        class: 'my-custom-node-class',\n        //스타일\n        style: {\n          backgroundColor: '#DA942B',\n          color: 'white',\n          border: '1px solid #DA942B',\n          borderRadius: '30px',\n          boxShadow: '0 2px 6px rgba(0,0,0,0.2)',\n          width: '150px',\n          height: '40px'\n        }\n      }));\n\n      // 연결선 만들기: 앞 노드와 다음 노드를 연결\n      const newEdges = this.rowData2.slice(1).map((item, index) => ({\n        id: `edge-${index}`,\n        source: `${this.rowData2[index].process_code || 'node'}-${index}`,\n        target: `${item.process_code || 'node'}-${index + 1}`,\n        //선타입\n        type: 'step',\n        //움직이는 선 적용\n        animated: true,\n        //선색깔\n        style: {\n          stroke: '#673AB7'\n        },\n        //라벨 이름\n        label: `단계 ${index + 1} -> ${index + 2}`,\n        //라벨 색깔\n        labelBgStyle: {\n          fill: '#f5f5f5'\n        },\n        labelStyle: {\n          fill: '#333'\n        }\n      }));\n      this.nodes = [...newNodes];\n      this.edges = [...newEdges];\n    },\n    // 초기화\n    resetList() {\n      this.rowData2 = [];\n      this.nodes = [];\n      this.edges = [];\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./ProcessFlow.vue?vue&type=template&id=3f6351b3&scoped=true\"\nimport script from \"./ProcessFlow.vue?vue&type=script&lang=js\"\nexport * from \"./ProcessFlow.vue?vue&type=script&lang=js\"\n\nimport \"./ProcessFlow.vue?vue&type=style&index=0&id=3f6351b3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f6351b3\"]])\n\nexport default __exports__","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar InternalStateModule = require('../internals/internal-state');\nvar getMethod = require('../internals/get-method');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ITERATOR_HELPER = 'IteratorHelper';\nvar WRAP_FOR_VALID_ITERATOR = 'WrapForValidIterator';\nvar setInternalState = InternalStateModule.set;\n\nvar createIteratorProxyPrototype = function (IS_ITERATOR) {\n  var getInternalState = InternalStateModule.getterFor(IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER);\n\n  return defineBuiltIns(create(IteratorPrototype), {\n    next: function next() {\n      var state = getInternalState(this);\n      // for simplification:\n      //   for `%WrapForValidIteratorPrototype%.next` or with `state.returnHandlerResult` our `nextHandler` returns `IterResultObject`\n      //   for `%IteratorHelperPrototype%.next` - just a value\n      if (IS_ITERATOR) return state.nextHandler();\n      if (state.done) return createIterResultObject(undefined, true);\n      try {\n        var result = state.nextHandler();\n        return state.returnHandlerResult ? result : createIterResultObject(result, state.done);\n      } catch (error) {\n        state.done = true;\n        throw error;\n      }\n    },\n    'return': function () {\n      var state = getInternalState(this);\n      var iterator = state.iterator;\n      state.done = true;\n      if (IS_ITERATOR) {\n        var returnMethod = getMethod(iterator, 'return');\n        return returnMethod ? call(returnMethod, iterator) : createIterResultObject(undefined, true);\n      }\n      if (state.inner) try {\n        iteratorClose(state.inner.iterator, 'normal');\n      } catch (error) {\n        return iteratorClose(iterator, 'throw', error);\n      }\n      if (iterator) iteratorClose(iterator, 'normal');\n      return createIterResultObject(undefined, true);\n    }\n  });\n};\n\nvar WrapForValidIteratorPrototype = createIteratorProxyPrototype(true);\nvar IteratorHelperPrototype = createIteratorProxyPrototype(false);\n\ncreateNonEnumerableProperty(IteratorHelperPrototype, TO_STRING_TAG, 'Iterator Helper');\n\nmodule.exports = function (nextHandler, IS_ITERATOR, RETURN_HANDLER_RESULT) {\n  var IteratorProxy = function Iterator(record, state) {\n    if (state) {\n      state.iterator = record.iterator;\n      state.next = record.next;\n    } else state = record;\n    state.type = IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER;\n    state.returnHandlerResult = !!RETURN_HANDLER_RESULT;\n    state.nextHandler = nextHandler;\n    state.counter = 0;\n    state.done = false;\n    setInternalState(this, state);\n  };\n\n  IteratorProxy.prototype = IS_ITERATOR ? WrapForValidIteratorPrototype : IteratorHelperPrototype;\n\n  return IteratorProxy;\n};\n"],"names":["$","call","aCallable","anObject","getIteratorDirect","createIteratorProxy","callWithSafeIterationClosing","iteratorClose","iteratorHelperWithoutClosingOnEarlyError","IS_PURE","mapWithoutClosingOnEarlyError","TypeError","IteratorProxy","iterator","this","result","next","done","mapper","value","counter","target","proto","real","forced","map","error","filterWithoutClosingOnEarlyError","predicate","filter","module","exports","_hoisted_1","class","style","_hoisted_2","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_CModalHeader","_component_AgGridVue","_component_CModalBody","_component_CButton","_component_CModalFooter","_component_CModal","visible","onClose","close","backdrop","alignment","size","default","$slots","_","$event","searchType","selected","type","searchText","placeholder","onKeydown","args","searchProcess","onClick","columnDefs","rowData","gridOptions","onRowClicked","clicked","color","components","AgGridVue","props","Boolean","required","data","field","headerName","flex","domLayout","singleClickEdit","suppressRowClickSelection","pagination","paginationPageSize","paginationPageSizeSelector","overlayNoRowsTemplate","defaultColDef","suppressMovable","resizable","sortable","cellStyle","textAlign","mounted","procList","methods","$emit","axios","get","then","res","console","log","catch","params","keyword","event","__exports__","_hoisted_4","_hoisted_5","_hoisted_6","_component_Button","_component_ag_grid_vue","_component_VueFlow","_component_ProcModal","label","severity","resetList","proSave","gridOptions1","onCellClicked","prodCellClicked","nodes","edges","addRow","deleteRow","ref","columnDefs2","rowData2","gridOptions2","rowSelection","procCellClicked","onRowDragEnd","showProcModal","onSelectProc","procSelected","tryOnScopeDispose","fn","toValue","r","isClient","window","document","isDef$1","val","Object","prototype","toString","isObject","noop$2","createFilterWrapper","filter2","wrapper","Promise","resolve","reject","apply","thisArg","bypassFilter","invoke","pausableFilter","extendFilter","isActive","pause","resume","eventFilter","promiseTimeout","ms","throwOnTimeout","reason","setTimeout","watchWithFilter","source","cb","options","watchOptions","watchPausable","stop","toRefs","objectRef","Array","isArray","from","length","key","set","v","_a","replaceRef","copy","newObject","setPrototypeOf","getPrototypeOf","createUntil","isNot","toMatch","condition","flush","deep","timeout","timeout2","watcher","immediate","promises","push","finally","race","toBe","v1","v2","toBeTruthy","toBeNull","toBeUndefined","toBeNaN","Number","isNaN","toContains","array2","includes","changed","changedTimes","n","count","instance","not","until","unrefElement","elRef","plain","$el","defaultWindow","useEventListener","events","listeners","cleanups","cleanup","forEach","register","el","listener","options2","addEventListener","removeEventListener","stopWatch","optionsClone","flatMap","createKeyPredicate$1","keyFilter","onKeyStroke","handler","eventName","passive","dedupe","e","repeat","cloneFnJSON","JSON","parse","stringify","useVModel","emit","_b","_c","clone","defaultValue","shouldEmit","vm","_emit","bind","proxy","cloneFn","getValue","triggerEmit","initialValue","isUpdating","noop$1","dispatch","t","i","arguments","test","Error","Dispatch","parseTypenames$1","typenames","types","trim","split","name","indexOf","slice","hasOwnProperty","get$1","c","set$1","callback","concat","constructor","on","typename","T","that","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","prefix","space","local","creatorInherit","document2","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","creator","none","selector","selector2","querySelector","selection_select","select2","groups","_groups","m","subgroups","j","node","subnode","group","subgroup","__data__","Selection$1","_parents","array","x","empty","selectorAll","querySelectorAll","arrayAll","selection_selectAll","parents","matcher","matches","childMatcher","find","childFind","match","children","childFirst","firstElementChild","selection_selectChild","select","childrenFilter","selection_selectChildren","selectAll","selection_filter","sparse","update","selection_enter","_enter","EnterNode","parent","datum2","_next","_parent","constant$3","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","Map","keyValues","has","delete","datum","selection_data","arraylike","enterGroup","updateGroup","exitGroup","previous","i0","i1","_exit","selection_exit","selection_join","onenter","onupdate","onexit","selection","append","remove","merge","order","selection_merge","context","selection2","groups0","groups1","m0","m1","Math","min","merges","group0","group1","selection_order","compareDocumentPosition","parentNode","insertBefore","selection_sort","compare","compareNode","a","b","ascending","sortgroups","sortgroup","sort","NaN","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove$1","removeAttribute","attrRemoveNS$1","removeAttributeNS","attrConstant$1","setAttribute","attrConstantNS$1","setAttributeNS","attrFunction$1","attrFunctionNS$1","selection_attr","getAttributeNS","getAttribute","each","defaultView","styleRemove$1","removeProperty","styleConstant$1","priority","setProperty","styleFunction$1","selection_style","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","contains","textRemove","textContent","textConstant$1","textFunction$1","selection_text","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_html","raise","nextSibling","appendChild","selection_raise","lower","previousSibling","firstChild","selection_lower","selection_append","create2","constantNull","selection_insert","before","removeChild","selection_remove","selection_cloneShallow","cloneNode","selection_cloneDeep","selection_clone","selection_datum","property","contextListener","parseTypenames","onRemove","__on","o","onAdd","selection_on","dispatchEvent","window2","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","child","join","splice","root","selection_selection","sourceEvent","sourceEvent2","pointer","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","selectChild","selectChildren","attr","classed","text","html","insert","Symbol","nonpassive","nonpassivecapture","capture","nopropagation$1","stopImmediatePropagation","noevent$1","preventDefault","dragDisable","view","root2","__noselect","MozUserSelect","yesdrag","noclick","constant$2","DragEvent","subject","identifier","active","dx","dy","dispatch2","defineProperties","enumerable","configurable","defaultFilter$1","ctrlKey","button","defaultContainer","defaultSubject","d","defaultTouchable$1","navigator","maxTouchPoints","drag","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","clickDistance2","drag2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","mouse","touches","changedTouches","clearTimeout","container2","touch","s","p","event2","touch2","p0","clickDistance","sqrt","factory","extend","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHex8","formatHex8","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","format","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatHex8","rgb_formatRgb","clampa","clampi","max","round","h2","Hsl","h","hsl","clamph","clampt","hsl2rgb","m2","channels","assign","displayable","k","pow","clamp","constant$1","linear","exponential","gamma","nogamma","interpolateRgb","rgbGamma","color2","rgb$1","start2","end","interpolateNumber","reA","reB","zero","one","interpolateString","am","bm","bs","bi","lastIndex","q","index","i2","svgNode","degrees","PI","identity$1","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","f","atan2","atan","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","parseSvg","transform","baseVal","consolidate","matrix","interpolateTransform","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","exp","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom2","p1","S","ux0","uy0","w0","ux1","uy1","w1","d2","d1","b0","b1","r0","r1","coshr0","u","duration","SQRT2","_1","_2","_4","taskHead","taskTail","timeout$1","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","timerFlush","wake","nap","poke","now2","t0","t2","t1","Infinity","sleep","clearInterval","setInterval","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id2","timing","schedules","__transition","tween","ease","state","init","schedule2","self","tick","interrupt","empty2","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","_id","tweenValue","transition2","interpolate","attrRemove","attrRemoveNS","attrConstant","interpolate2","value1","string00","interpolate0","string1","string0","attrConstantNS","attrFunction","string10","attrFunctionNS","transition_attr","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","_name","transition_merge","start","every","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","children2","inherit2","Selection","transition_selection","styleNull","styleRemove","styleConstant","styleFunction","styleMaybeRemove","listener0","remove2","transition_style","styleTween","styleInterpolate","transition_styleTween","textConstant","textFunction","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","cancel","id","selection_prototype","cubicInOut","transition","defaultTiming","inherit","selection_transition","constant","ZoomEvent","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","identity","nopropagation","noevent","defaultFilter","defaultExtent","SVGElement","hasAttribute","viewBox","width","height","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","zoom","touchstarting","touchfirst","constrain","wheelDelta","scaleExtent","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","centroid","extent2","w","clean","__zooming","Gesture","taps","wheel","wheelidled","x0","y0","moved","k1","shiftKey","started","touch0","touch1","l0","l1","dp","dl","hypot","collection","scaleBy","scaleTo","k0","translateBy","translateTo","Position","Position2","SelectionMode","SelectionMode2","ConnectionLineType","ConnectionLineType2","ConnectionMode","ConnectionMode2","MarkerType","MarkerType2","PanOnScrollMode","PanOnScrollMode2","PanelPosition","PanelPosition2","inputTags","isInputDOMNode","composedPath","closest","nodeName","wasModifierPressed","metaKey","altKey","isKeyMatch","pressedKey","keyToMatch","pressedKeys","isKeyUp","keyCombination","replace","isMatch","values","createKeyPredicate","code","keyOrCode","useKeyOrCode","some","keysToWatch","useKeyPress","actInsideInputWithModifier","isPressed","modifierPressed","Set","currentFilter","createKeyFilterFn","reset","clear","keyFilter2","nextKeyFilter","previousKeyFilter","preventAction","target2","isInteractiveElement","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","elementSelectionKeys","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","nodeToRect","computedPosition","dimensions","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","getDimensions","offsetWidth","offsetHeight","clampPosition","position","getHostForElement","element","doc","getRootNode","isEdge","isNode","isGraphNode","isNumeric","isFinite","isRect","obj","parseNode","existingNode","initialState","z","handleBounds","draggable","selectable","connectable","focusable","dragging","resizing","initialized","isParent","isDef","parseEdge","edge","existingEdge","defaultEdgeOptions","sourceHandle","targetHandle","updatable","interactionWidth","getConnectedElements","nodeOrId","dir","connectedIds","origin","getOutgoers","nodeOrId2","elements","nodeId","outgoers","getIncomers","incomers","getEdgeId","connectionExists","rendererPointToPoint","tx","ty","tScale","pointToRendererPoint","snapToGrid","snapGrid","snapPosition","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","boxToRect","getBoundsofRects","rect1","rect2","getRectOfNodes","box","POSITIVE_INFINITY","NEGATIVE_INFINITY","getNodesInside","viewport","partially","excludeNonSelectableNodes","paneRect","visibleNodes","hidden","overlappingArea","notInitialized","partiallyVisible","area","isVisible","getConnectedEdges","nodesOrId","nodeIds","getTransformForBounds","bounds","minZoom","maxZoom","padding","offset","xZoom","yZoom","clampedZoom","boundsCenterX","boundsCenterY","getXYZPos","parentPos","isParentSelected","findNode","getMarkerId","marker","vueFlowId","idPrefix","keys","calcAutoPanVelocity","abs","calcAutoPan","pos","speed","distance2","xMovement","yMovement","handleParentExpand","updateItem","extendWidth","extendHeight","parentStyles","currWidth","xDiff","yDiff","styleFunc","applyChanges","changes","addRemoveChanges","change","findIndex","item","elementIds","currentChange","expandParent","updateStyle","parentInit","createSelectionChange","createAdditionChange","createNodeRemoveChange","createEdgeRemoveChange","getSelectionChanges","items","selectedIds","mutateItem","willBeSelected","createExtendedEventHook","defaultHandler","fns","hasDefaultHandler","hasListeners","off","offFn","trigger","param","all","hasSelector","current","parentElement","getDragItems","nodesDraggable","mousePos","dragItems","distance","getEventHandlerParams","extendedDragItems","dragItem","getExtentPadding","getParentExtent","currentExtent","right","bottom","getExtent","triggerError","parentX","parentY","parentExtent","VueFlowError","ErrorCode","NODE_EXTENT_INVALID","clampNodeExtent","calcNextPosition","nextPosition","nodeExtent","clampedPos","getHandlePosition","handle","fallbackPosition","Left","center","getNodeDimensions","Top","Right","Bottom","getEdgeHandle","handleId","isEdgeVisible","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","getEdgeZIndex","elevateEdgesOnSelect","hasZIndex","zIndex","ErrorCode2","messages","parentId","super","isMouseEvent","isUseDragEvent","getEventPosition","isMouse","evtX","evtY","isMacOs","userAgent","alwaysValid$1","resetRecentHandle","handleDomNode","getNodesWithinDistance","nodeLookup","ADDITIONAL_DISTANCE","getClosestHandle","connectionRadius","fromHandle","closestHandles","minDistance","closeNodes","allHandles","oppositeHandleType","isValidHandle","connectionMode","fromNodeId","fromHandleId","fromType","lib","flowId","isValidConnection","isTarget","handleBelow","elementFromPoint","handleToCheck","isValid","connection","toHandle","handleType","getHandleType","handleNodeId","connectableEnd","isConnectable","Strict","sourceNode","targetNode","edgeUpdaterType","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","isConnectionValid","getHandle","withAbsolutePosition","handles","oppositePosition","productionEnvs","warn","message","isDev","getHandleBounds","nodeElement","nodeBounds","handleNodeClick","multiSelectionActive","addSelectedNodes","removeSelectedNodes","nodesSelectionActive","unselect","nodeEl","blur","unrefVal","addEdgeToStore","edgeParams","EDGE_INVALID","updateEdgeAction","newConnection","prevEdge","shouldReplaceId","EDGE_NOT_FOUND","rest","createGraphNodes","parentNodes","nextNodes","NODE_INVALID","parsed","NODE_MISSING_PARENT","addConnectionToLookup","connectionKey","connectionLookup","nodeMap","typeMap","handleMap","updateConnectionLookup","edgeLookup","edgeId","sourceKey","targetKey","areSetsEqual","createGraphEdges","nextEdges","findEdge","onError","validEdges","edgeOrConnection","EDGE_SOURCE_TARGET_MISSING","EDGE_SOURCE_MISSING","EDGE_TARGET_MISSING","VueFlow","NodeId","NodeRef","EdgeId","EdgeRef","Slots","useDrag","vueFlowRef","noDragClassName","nodeDragThreshold","autoPanOnNodeDrag","autoPanSpeed","panBy","selectNodesOnDrag","removeSelectedElements","updateNodePositions","emits","useVueFlow","onStart","onDrag","onStop","disabled","dragHandle","dragHandler","containerBounds","lastPos","mousePosition","dragEvent","dragStarted","autoPanId","autoPanStarted","getPointerPosition","useGetPointerPosition","updateNodes","hasChange","currentNode","nodes2","autoPan","nextPos","startDrag","pointerPos","eventStart","eventDrag","xSnapped","ySnapped","eventEnd","isClick","evt","cancelAnimationFrame","isDisabled","onCleanup","unrefDragHandle","createEdgeHooks","doubleClick","click","mouseEnter","mouseMove","mouseLeave","contextMenu","updateStart","updateEnd","useEdgeHooks","edgeHooks","edgeDoubleClick","edgeClick","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeContextMenu","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","entries","reduce","hooks","alwaysValid","useHandle","onEdgeUpdate","onEdgeUpdateEnd","connectOnClick","connectionClickStartHandle","nodesConnectable","autoPanOnConnect","startConnection","updateConnection","endConnection","isValidConnectionProp","handlePointerDown","isMouseTriggered","onPointerMove","connectionPosition","closestHandle","isValidConnectionHandler","newConnection2","previousConnection","to","toPosition","toNode","prevActiveHandle","toggle","onPointerUp","connect","connectEnd","isValidSourcePos","isValidTargetPos","clickedHandle","fromHandleInternal","fromNodeInternal","inProgress","fromPosition","fromNode","connectStart","handleClick","clickConnectStart","isOwnHandle","clickConnectEnd","useNodeId","useNode","NODE_NOT_FOUND","connectedEdges","createNodeHooks","dragStart","dragStop","useNodeHooks","nodeHooks","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","useUpdateNodePositions","getSelectedNodes","positionDiff","isShiftPressed","xVelo","yVelo","factor","positionDiffX","positionDiffY","nodeUpdates","DEFAULT_PADDING","noop","initialViewportHelper","zoomIn","zoomOut","zoomTo","fitView","setCenter","fitBounds","project","screenToFlowCoordinate","flowToScreenCoordinate","setViewport","setTransform","getViewport","getTransform","viewportInitialized","useViewportHelper","d3Selection","d3Zoom","transformViewport","zoom22","clampedX","clampedY","nextTransform","isInitialized","zoomLevel","includeHiddenNodes","nodesToFit","nextZoom","centerX","centerY","domX","domY","correctedPosition","onEnd","useWatchProps","models","store","scope","run","watchModelValue","pauseModel","pauseStore","immediateStore","modelValue","setElements","watchNodesValue","setNodes","watchEdgesValue","setEdges","watchMaxZoom","setMaxZoom","watchMinZoom","setMinZoom","watchTranslateExtent","setTranslateExtent","watchNodeExtent","setNodeExtent","watchApplyDefault","applyDefault","watchAutoConnect","autoConnector","async","autoConnect","addEdges","autoConnectEnabled","onConnect","watchRest","skip","propKey","propValue","storeRef","nextValue","runAll","createHooks","edgesChange","nodesChange","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","paneReady","move","moveStart","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","updateNodeInternals","err","useHooks","useState","viewportRef","nodeTypes","edgeTypes","d3ZoomHandler","selectionMode","Full","paneDragging","preventScrolling","zoomOnScroll","zoomOnPinch","zoomOnDoubleClick","panOnScroll","panOnScrollSpeed","panOnScrollMode","Free","paneClickDistance","panOnDrag","edgeUpdaterRadius","onlyRenderVisibleElements","defaultViewport","userSelectionActive","userSelectionRect","defaultMarkerColor","connectionLineStyle","connectionLineType","connectionLineOptions","Bezier","Loose","connectionStartHandle","connectionEndHandle","edgesUpdatable","edgesFocusable","nodesFocusable","elementsSelectable","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","deleteKeyCode","panActivationKeyCode","fitViewOnInit","fitViewOnInitDone","noWheelClassName","noPanClassName","elevateNodesOnSelect","disableKeyboardA11y","ariaLiveMessage","storeOptionsToSkip","useActions","viewportHelper","ids","updateIds","getIncomers$1","getOutgoers$1","getConnectedEdges$1","getHandleConnections","updateNodeDimensions","updates","viewportNode","m22","DOMMatrixReadOnly","doUpdate","forceUpdate","elementSelectionHandler","edgeIds","changedNodes","changedEdges","nodeChanges","addSelectedEdges","addSelectedElements","nodesToUnselect","removeSelectedEdges","edgesToUnselect","edgeChanges","changes2","curr","selectionChange","setPaneClickDistance","setInteractive","isInteractive","Function","nextElements","addNodes","graphNodes","removeNodes","removeConnectedEdges","removeChildren","nodesToRemove","createEdgeRemovalChanges","deletable","createChildrenRemovalChanges","currNode","removeEdges","edgesToRemove","currEdge","updateEdge2","oldEdge","prevEdgeIndex","newEdge","validEdge","updateEdgeData","dataUpdate","nextData","applyNodeChanges2","applyEdgeChanges2","updateNode","nodeUpdate","nextNode","updateNodeData","startHandle","status","getNodeRect","nodeOrRect","isRectObj","nodeRect","getIntersectingNodes","isRect2","intersections","currNodeRect","isNodeIntersecting","delta","constrainedTransform","transformChanged","setState","opts","exclude","setSkippedOptions","option","toObject","__","___","____","_____","______","_______","_________","fromObject","$reset","resetState","updatedTransform","bbox","updateEdge","applyEdgeChanges","applyNodeChanges","transitionOpts","$destroy","_hoisted_1$9","__default__$f","compatConfig","MODE","_sfc_main$f","String","connectableStart","setup","__props","expose","__expose","isConnectableStart","isConnectableEnd","isConnecting","_d","_e","_f","isClickConnecting","onPointerDown","existingBounds","nextBounds","ref_key","connecting","connectablestart","connectableend","connectionindicator","onMousedown","onTouchstartPassive","DefaultNode","sourcePosition","targetPosition","_label","inheritAttrs","DefaultNode$1","OutputNode","OutputNode$1","InputNode","InputNode$1","_hoisted_1$8","_hoisted_2$2","_hoisted_3$1","__default__$e","_sfc_main$e","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","getBox","nextBox","getBBox","rx","ry","$attrs","_hoisted_1$7","_hoisted_2$1","__default__$d","_sfc_main$d","labelX","labelY","path","markerStart","markerEnd","pathEl","interactionEl","labelEl","attrs","fill","getSimpleEdgeCenter","sourceX","sourceY","targetX","targetY","xOffset","yOffset","getBezierEdgeCenter","sourceControlX","sourceControlY","targetControlX","targetControlY","offsetX","offsetY","calculateControlOffset","curvature","getControlWithCurvature","x1","y1","ctX","ctY","getBezierPath","bezierPathParams","getControl","getSimpleBezierPath","simpleBezierPathParams","handleDirections","getDirection","getPoints","sourceDir","targetDir","sourceGapped","targetGapped","dirAccessor","currDir","points","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","flipSourceTarget","sourceGapPoint","targetGapPoint","maxXDistance","maxYDistance","pathPoints","getBend","bendSize","xDir2","yDir2","xDir","yDir","getSmoothStepPath","smoothStepPathParams","borderRadius","segment","getStraightPath","straightEdgeParams","StraightEdge","StraightEdge$1","SmoothStepEdge","SmoothStepEdge$1","StepEdge","StepEdge$1","BezierEdge","BezierEdge$1","SimpleBezierEdge","SimpleBezierEdge$1","defaultNodeTypes","input","output","defaultEdgeTypes","straight","step","smoothstep","simplebezier","useGetters","getNode","getEdge","getEdgeTypes","getNodeTypes","getNodes","getEdges","visibleEdges","getElements","selectedNodes","getSelectedEdges","selectedEdges","getSelectedElements","getNodesInitialized","initializedNodes","areNodesInitialized","Storage","currentId","flows","getInstance","vueApp","appContext","app","existingInstance","config","globalProperties","$vueFlowStorage","flow","preloadedState","reactiveState","hooksOn","charAt","toUpperCase","nodesMap","edgesMap","getters","actions","vueFlowVersion","getId","idOrOpts","storage","isOptsObj","vueFlow","injectedState","vfScope","shouldApplyDefault","nodesChangeHandler","edgesChangeHandler","onNodesChange","onEdgesChange","storedInstance","USEVUEFLOW_OPTIONS","useResizeHandler","viewportEl","resizeObserver","rendererNode","updateDimensions","MISSING_VIEWPORT_DIMENSIONS","ResizeObserver","observe","unobserve","__default__$c","_sfc_main$c","_hoisted_1$6","__default__$b","_sfc_main$b","updatePositions","focus","preventScroll","selectedNodesBBox","innerStyle","onContextMenu","onKeyDown","tabIndex","onContextmenu","getMousePosition","__default__$a","_sfc_main$a","isSelecting","selectionKeyPressed","selectedNodeIds","selectedEdgeIds","hasActiveSelection","connectionInProgress","selectionInProgress","selectionStarted","deleteKeyPressed","multiSelectKeyPressed","wrapHandler","containerRef","stopPropagation","onWheel","setPointerCapture","pointerId","startX","startY","mouseX","mouseY","nextUserSelectRect","prevSelectedNodeIds","prevSelectedEdgeIds","Partial","edgesSelectable","connections","releasePointerCapture","isKeyPressed","onWheelPassive","onPointerenter","onPointerdown","onPointermove","onPointerup","onPointerleave","__default__$9","_sfc_main$9","isHidden","__default__$8","_sfc_main$8","storeD3Zoom","storeD3Selection","storeD3ZoomHandler","isZoomingOrPanning","isPanScrolling","panScrollTimeout","zoomedWithRightMouseButton","mouseButton","prevTransform","panKeyPressed","zoomKeyPressed","shouldPanOnDrag","shouldPanOnScroll","isRightClickPan","pan","usedButton","viewChanged","prevViewport","eventTransform","eventToFlowTransform","isWrappedWithClass","className","viewportElement","flowTransform","zoomScroll","pinchZoom","eventButton","buttonAllowed","invalidEvent","scrollEventsDisabled","scrollEventEnabled","currentZoom","_isMacOs","pinchDelta","deltaNormalize","deltaX","Vertical","Horizontal","nextViewport","_hoisted_1$5","__default__$7","_sfc_main$7","useOnInitHandler","vfInstance","shiftX","shift","shiftY","EdgeAnchor","radius","cx","cy","stroke","EdgeAnchor$1","EdgeWrapper","slots","mouseOver","updating","edgeEl","isSelectable","isUpdatable","isFocusable","edgeClass","edgeStyle","edgeCmp","slot","edgeType","template","EDGE_TYPE_MISSING","pathOptions","sourceNodeHandles","targetNodeHandles","animated","inactive","onEdgeClick","onEdgeContextMenu","onDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","ariaLabel","sourceHandleId","targetHandleId","onEdgeUpdaterSourceMouseDown","onMouseenter","onEdgeUpdaterMouseEnter","onMouseout","onEdgeUpdaterMouseOut","onEdgeUpdaterTargetMouseDown","handleEdgeUpdater","isSourceHandle","EdgeWrapper$1","ConnectionLine","connectionLineComponent","_a2","toXY","startHandleId","fromHandleBounds","oppositeBounds","fromX","fromY","_a3","dAttr","pathParams","Step","SmoothStep","SimpleBezier","ConnectionLine$1","_hoisted_1$4","__default__$6","_sfc_main$6","markerUnits","orient","strokeWidth","refX","refY","markerWidth","markerHeight","ArrowClosed","Arrow","_hoisted_1$3","__default__$5","_sfc_main$5","defaultColor","markers","markers2","createMarkers","markerId","localeCompare","__default__$4","_sfc_main$4","NodeWrapper","onUpdateNodeInternals","isDraggable","hasPointerEvents","isInit","nodeCmp","nodeType","NODE_TYPE_MISSING","onSelectNode","getClass","getStyle","styles","updateInternals","newX","newY","parentZ","nodeZIndex","xyzPos","nodeExtent2","globalExtent","oldNodeExtent","oldGlobalExtent","clampPosition2","visibility","pointerEvents","onMouseEnter","onMouseMove","onMouseLeave","parentNodeId","NodeWrapper$1","_hoisted_1$2","__default__$3","useNodesInitialized","_hoisted_1$1","__default__$2","_sfc_main$2","entry","disconnect","_cached","_memo","_item","memo","useStylesLoadedWarning","pane","MISSING_STYLES","__default__$1","_sfc_main$1","modelNodes","modelEdges","dispose","__default__","_sfc_main","positionClasses","BackgroundVariant","BackgroundVariant2","LinePattern","DotPattern","Lines","Dots","DefaultBgColors","variant","gap","lineWidth","patternColor","bgColor","background","gapX","gapY","scaledGap","scaledSize","scaledOffset","patternId","patternTransform","patternUnits","_export_sfc","sfc","__vccOpts","_sfc_render","ControlButton","_hoisted_2$4","_hoisted_3$4","render$4","PlusIcon","_hoisted_2$3","_hoisted_3$3","render$3","MinusIcon","_hoisted_3$2","render$2","FitView","render$1","Lock","Unlock","showZoom","showFitView","showInteractive","fitViewParams","BottomLeft","minZoomReached","maxZoomReached","onZoomInHandler","onZoomOutHandler","onFitViewHandler","onInteractiveChangeHandler","shapeRendering","strokeColor","miniMapSlots","onDblclick","backgroundColor","onMousemove","onMouseleave","nodeColor","nodeStrokeColor","nodeClassName","nodeBorderRadius","nodeStrokeWidth","maskColor","maskStrokeColor","maskStrokeWidth","pannable","zoomable","inversePan","zoomStep","offsetScale","maskBorderRadius","defaultWidth","defaultHeight","elementWidth","elementHeight","chrome","nodeColorFunc","nodeStrokeColorFunc","nodeClassNameFunc","bb","viewBB","boundingRect","viewScale","scaledWidth","scaledHeight","viewWidth","viewHeight","onSvgClick","onNodeClick","onNodeDblClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","zoomHandler","panHandler","moveScale","movementX","movementY","zoomAndPanHandler","role","ProcModal","Swal","Background","Controls","MiniMap","vueFlowInstance","prod_code","prod_name","onGridReady","api","sizeColumnsToFit","process_code","process_name","rowDrag","headerCheckboxSelection","checkboxSelection","rowDragManaged","animateRows","selectedSecondIndex","prodIndex","ProcData","response","proc","rowIndex","generateFlowDiagram","title","icon","confirmButtonText","$refs","secondGrid","selectedData","row","parmas","colDef","post","insertProc","prodFlow","affectedRows","updatedData","forEachNodeAfterFilterAndSort","newNodes","border","boxShadow","newEdges","defineBuiltIn","src","ENTRIES","createNonEnumerableProperty","defineBuiltIns","wellKnownSymbol","InternalStateModule","getMethod","IteratorPrototype","createIterResultObject","TO_STRING_TAG","ITERATOR_HELPER","WRAP_FOR_VALID_ITERATOR","setInternalState","createIteratorProxyPrototype","IS_ITERATOR","getInternalState","getterFor","nextHandler","undefined","returnHandlerResult","returnMethod","inner","WrapForValidIteratorPrototype","IteratorHelperPrototype","RETURN_HANDLER_RESULT","record"],"sourceRoot":""}