"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[804],{5643:function(e,a,r){r.d(a,{A:function(){return u}});var s=r(641),t=r(33);const l={style:{"margin-top":"10px"}};function o(e,a,r,o,i,n){const d=(0,s.g2)("CProgressBar"),c=(0,s.g2)("CProgress");return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.bF)(c,{color:n.barColor,variant:"striped",animated:"",value:n.progress},{default:(0,s.k6)((()=>[(0,s.bF)(d,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,t.v_)(n.progress)+"%",1)])),_:1})])),_:1},8,["color","value"])])}var i=r(7443),n={name:"ProgressCell",components:{CProgress:i.fZ,CProgressBar:i.Em},props:{params:Object},computed:{progress(){return this.params&&null!=this.params.value?this.params.value:0},barColor(){const e=this.progress;return e<30?"danger":e<60?"warning":e<100?"info":"success"}}},d=r(6262);const c=(0,d.A)(n,[["render",o],["__scopeId","data-v-384db79f"]]);var u=c},6804:function(e,a,r){r.r(a),r.d(a,{default:function(){return f}});var s=r(641);const t={class:"row"},l={class:"col-8"},o={class:"card border-0",style:{height:"calc(80vh - 10rem)"}},i={class:"col-4"},n={class:"card border-0",style:{height:"calc(80vh - 10rem)"}};function d(e,a,r,d,c,u){const h=(0,s.g2)("ag-grid-vue");return(0,s.uX)(),(0,s.CE)(s.FK,null,[a[2]||(a[2]=(0,s.Lk)("div",{class:"card border-0",style:{height:"calc(20vh - 2rem)"}},[(0,s.Lk)("h2",null,"영업 관리"),(0,s.Lk)("div",{class:"heading-with-line"},[(0,s.Lk)("h5",{class:"m-0 me-3"},"제품 재고 조회")])],-1)),(0,s.Lk)("div",t,[(0,s.Lk)("div",l,[a[0]||(a[0]=(0,s.Lk)("div",{class:"heading-with-line"},[(0,s.Lk)("h5",{class:"m-0 me-3"},"제품 재고")],-1)),(0,s.Lk)("div",o,[(0,s.bF)(h,{class:"ag-theme-alpine custom-grid-theme",style:{width:"100%"},columnDefs:c.columnDefs,rowData:c.rowData,gridOptions:c.gridOptions,onCellClicked:u.prodClicked},null,8,["columnDefs","rowData","gridOptions","onCellClicked"])])]),(0,s.Lk)("div",i,[a[1]||(a[1]=(0,s.Lk)("div",{class:"heading-with-line"},[(0,s.Lk)("h5",{class:"m-0 me-3"},"LOT별 제품재고")],-1)),(0,s.Lk)("div",n,[(0,s.bF)(h,{ref:"secondGrid",class:"ag-theme-alpine custom-grid-theme",style:{width:"100%",height:"150px"},columnDefs:c.secondColumnDefs,rowData:c.secondRowData,gridOptions:c.gridOptions,rowSelection:"multiple"},null,8,["columnDefs","rowData","gridOptions"])])])])],64)}var c=r(7654),u=r(4335),h=r(5643),p={components:{AgGridVue:c.b,ProgressCell:h.A},data(){return{searchType:"p.prod_code",searchText:"",rowData:[],columnDefs:[{field:"prod_code",headerName:"제품코드",flex:2},{field:"prod_name",headerName:"제품명",flex:3},{field:"store_quantity",headerName:"재고량",flex:2,valueFormatter:e=>null!=e.value?`${e.value}개`:""},{field:"proper_store",headerName:"안전재고량",flex:2,valueFormatter:e=>null!=e.value?`${e.value}개`:""},{field:"require_quantity",headerName:"필요량",flex:2,valueFormatter:e=>null!=e.value?`-${e.value}개`:""},{field:"percentage",headerName:"안전 대비 보유율 (%)",flex:3,cellRenderer:"ProgressCell"}],secondRowData:[],secondColumnDefs:[{field:"prod_name",headerName:"제품명",flex:1},{field:"lot",headerName:"LOT",flex:1},{field:"store_quantity",headerName:"재고량",flex:1,valueFormatter:e=>null!=e.value?`${e.value}개`:""},{field:"store_name",headerName:"창고",flex:1}],gridOptions:{domLayout:"autoHeight",singleClickEdit:!0,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:!1,overlayNoRowsTemplate:"표시할 값이 없습니다.",defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1,cellStyle:{textAlign:"center"}}}}},mounted(){this.basicList()},methods:{async basicList(){await u.A.get("/api/sales/prodStoreList").then((e=>{this.rowData=e.data})).catch((e=>console.log(e)))},async searchMaterials(){await u.A.get("/api/sales/prodStoreList",{params:{type:this.searchType,keyword:this.searchText}}).then((e=>{this.rowData=e.data})).catch((e=>{console.error(e)}))},async prodClicked(e){u.A.get(`/api/sales/prodStoreList/${e.data.prod_code}`).then((e=>{this.secondRowData=e.data})).catch((e=>console.log(e)))}}},m=r(6262);const g=(0,m.A)(p,[["render",d],["__scopeId","data-v-3b741536"]]);var f=g}}]);
//# sourceMappingURL=804.2d24de1d.js.map