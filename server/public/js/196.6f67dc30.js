"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[196],{5643:function(e,a,t){t.d(a,{A:function(){return u}});var l=t(641),r=t(33);const s={style:{"margin-top":"10px"}};function o(e,a,t,o,n,i){const c=(0,l.g2)("CProgressBar"),d=(0,l.g2)("CProgress");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(d,{color:i.barColor,variant:"striped",animated:"",value:i.progress},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(i.progress)+"%",1)])),_:1})])),_:1},8,["color","value"])])}var n=t(7443),i={name:"ProgressCell",components:{CProgress:n.fZ,CProgressBar:n.Em},props:{params:Object},computed:{progress(){return this.params&&null!=this.params.value?this.params.value:0},barColor(){const e=this.progress;return e<30?"danger":e<60?"warning":e<100?"info":"success"}}},c=t(6262);const d=(0,c.A)(i,[["render",o],["__scopeId","data-v-384db79f"]]);var u=d},6196:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var l=t(641),r=t(3751);const s={class:"card border-0",style:{height:"800px"}},o={class:"text-end mt-5 mb-3"},n={class:"row justify-content-between align-items-center"},i={class:"col-auto"},c={class:"input-group"},d={class:"row"},u={class:"col-7"},m={class:"col-5"};function p(e,a,t,p,h,g){const f=(0,l.g2)("ag-grid-vue");return(0,l.uX)(),(0,l.CE)("div",s,[a[9]||(a[9]=(0,l.Lk)("h3",null,"자재 재고 조회",-1)),(0,l.Lk)("div",o,[(0,l.Lk)("div",n,[(0,l.Lk)("div",i,[(0,l.Lk)("div",c,[(0,l.bo)((0,l.Lk)("select",{class:"form-select w-auto","onUpdate:modelValue":a[0]||(a[0]=e=>h.searchType=e)},a[5]||(a[5]=[(0,l.Lk)("option",{value:"m.mat_code",selected:""},"자재코드",-1),(0,l.Lk)("option",{value:"mat_name"},"자재명",-1)]),512),[[r.u1,h.searchType]]),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>h.searchText=e),placeholder:"검색",onInput:a[2]||(a[2]=(...a)=>e.onSearch&&e.onSearch(...a)),class:"form-control",style:{width:"61%"},onKeydown:a[3]||(a[3]=(0,r.jR)(((...e)=>g.searchMaterials&&g.searchMaterials(...e)),["enter"]))},null,544),[[r.Jo,h.searchText]]),(0,l.Lk)("button",{onClick:a[4]||(a[4]=(...e)=>g.searchMaterials&&g.searchMaterials(...e)),class:"btn btn-primary"},a[6]||(a[6]=[(0,l.Lk)("i",{class:"pi pi-search"},null,-1)]))])])])]),(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[a[7]||(a[7]=(0,l.Lk)("h3",null,"자재 재고",-1)),(0,l.bF)(f,{class:"ag-theme-alpine custom-grid-theme",style:{width:"100%"},columnDefs:h.columnDefs,rowData:h.rowData,gridOptions:h.gridOptions,onCellClicked:g.matCellclicked},null,8,["columnDefs","rowData","gridOptions","onCellClicked"])]),(0,l.Lk)("div",m,[a[8]||(a[8]=(0,l.Lk)("h3",null,"LOT별 자재재고",-1)),(0,l.bF)(f,{ref:"secondGrid",class:"ag-theme-alpine custom-grid-theme",style:{width:"100%",height:"150px"},columnDefs:h.secondColumnDefs,rowData:h.secondRowData,gridOptions:h.gridOptions,rowSelection:"multiple"},null,8,["columnDefs","rowData","gridOptions"])])])])}var h=t(7654),g=t(4335),f=t(5643),v={components:{AgGridVue:h.b,ProgressCell:f.A},data(){return{searchType:"m.mat_code",searchText:"",rowData:[],columnDefs:[{field:"mat_code",headerName:"자재코드",flex:2},{field:"mat_name",headerName:"자재명",flex:3},{field:"store_quantity",headerName:"재고량",flex:2,valueFormatter:e=>null!=e.value?`${e.value}개`:""},{field:"safe_inventory",headerName:"안전재고량",flex:2,valueFormatter:e=>null!=e.value?`${e.value}개`:""},{field:"require_quantity",headerName:"필요량",flex:2,valueFormatter:e=>0!=e.value?`-${e.value}개`:0},{field:"percentage",headerName:"안전 대비 보유율 (%)",flex:3,cellRenderer:"ProgressCell"}],secondRowData:[],secondColumnDefs:[{field:"mat_name",headerName:"자재명",flex:2},{field:"lot",headerName:"LOT",flex:2},{field:"store_quantity",headerName:"재고량",flex:1,valueFormatter:e=>null!=e.value?`${e.value}개`:""},{field:"store_name",headerName:"창고",flex:1}],gridOptions:{domLayout:"autoHeight",singleClickEdit:!0,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:!1,overlayNoRowsTemplate:"표시할 값이 없습니다.",defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1,cellStyle:{textAlign:"center"}}}}},mounted(){this.basicList()},methods:{async basicList(){await g.A.get("/api/mat/matStorepage").then((e=>{this.rowData=e.data})).catch((e=>console.log(e)))},async searchMaterials(){await g.A.get("/api/mat/matStorepage",{params:{type:this.searchType,keyword:this.searchText}}).then((e=>{this.rowData=e.data})).catch((e=>{console.error(e)}))},async matCellclicked(e){await g.A.get("/api/mat/matLotList/"+e.data.mat_code).then((e=>{this.secondRowData=e.data})).catch((e=>console.log(e)))}}},k=t(6262);const w=(0,k.A)(v,[["render",p],["__scopeId","data-v-db0aa1bc"]]);var b=w}}]);
//# sourceMappingURL=196.6f67dc30.js.map