"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[799],{2772:function(e,a,t){t.d(a,{A:function(){return r}});var l=t(641);const s=["value"];function o(e,a,t,o,n,c){return(0,l.uX)(),(0,l.CE)("input",{type:"date",value:t.value,onInput:a[0]||(a[0]=(...e)=>c.onInput&&c.onInput(...e)),onBlur:a[1]||(a[1]=(...e)=>c.onBlur&&c.onBlur(...e)),class:"ag-input"},null,40,s)}var n={props:["value"],data(){return{internalValue:this.value}},methods:{onInput(e){this.internalValue=e.target.value},onBlur(){this.params.stopEditing()},getValue(){return this.internalValue}},mounted(){this.internalValue=this.params.value}},c=t(6262);const i=(0,c.A)(n,[["render",o]]);var r=i},3799:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var l=t(641),s=t(33),o=t(3751);const n={class:"card border-0",style:{"background-color":"white",height:"800px"}},c={class:"d-flex justify-content-start"},i={class:"input-group mb-5",style:{width:"65%"}},r=["value"],u={class:"col",style:{"margin-right":"50px"}},d={class:"ag-wrapper d-flex justify-content-center"};function p(e,a,t,p,f,h){const m=(0,l.g2)("ag-grid-vue");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",c,[(0,l.Lk)("div",i,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.searchType=a),class:"form-select","aria-label":"Default select example"},[a[4]||(a[4]=(0,l.Lk)("option",{value:"",style:{color:"gray"}},"전체",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(f.statusFacAry,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.fac_status,value:e.fac_status},(0,s.v_)(e.sub_code_name),9,r)))),128))],512),[[o.u1,e.searchType]]),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=a=>e.searchText=a),placeholder:"검색어 입력",class:"form-control w-50",style:{width:"100%"},onKeydown:a[2]||(a[2]=(0,o.jR)(((...e)=>h.facStatus&&h.facStatus(...e)),["enter"]))},null,544),[[o.Jo,e.searchText]]),(0,l.Lk)("button",{onClick:a[3]||(a[3]=(...e)=>h.facStatus&&h.facStatus(...e)),class:"btn btn-primary"},a[5]||(a[5]=[(0,l.Lk)("i",{class:"pi pi-search"},null,-1)]))])]),(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.bF)(m,{class:"ag-theme-alpine custom-grid-theme",style:{width:"100%",height:"500px"},columnDefs:f.columnDefs,rowData:f.rowData,gridOptions:f.gridOptions,onCellClicked:e.comCellClicked},null,8,["columnDefs","rowData","gridOptions","onCellClicked"])])])])}var f=t(7654),h=t(2772),m=t(4335),g=t(4783),v={components:{AgGridVue:f.b,datePicker:h.A},data(){return{rowData:[{fac_code:"",model_name:"",fac_location:"",fac_pattern:"",employee_code:(0,g.k)().id,employee_name:(0,g.k)().empName,fac_status:""}],columnDefs:[{field:"fac_code",headerName:"설비코드",flex:2},{field:"model_name",headerName:"설비이름",flex:2},{field:"fac_location",headerName:"설비위치",flex:2},{field:"fac_pattern",headerName:"설비유형",flex:2},{field:"employee_code",headerName:"담당자",flex:2,valueFormatter:e=>e.data?.employee_name||e.value},{field:"fac_status",headerName:"설비상태",flex:2,valueFormatter:e=>"FS2"==e.value?e.value="비가동":"FS1"==e.value?e.value="가동":void 0,cellStyle:e=>"FS1"==e.value?{color:"#22C55E",textAlign:"center",fontWeight:"bold"}:"FS2"==e.value?{color:"red",textAlign:"center",fontWeight:"bold"}:null}],gridOptions:{domLayout:"autoHeight",singleClickEdit:!0,suppressRowClickSelection:!0,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:!1,overlayNoRowsTemplate:"표시할 값이 없습니다.",defaultColDef:{suppressMovable:!0,resizable:!1,sortable:!1,cellStyle:{textAlign:"center"}}},statusFacAry:[]}},async mounted(){await this.facStatus(),await this.updateList(),await this.statusFac()},methods:{async facStatus(){await m.A.get("/api/fac/facStatus").then((e=>{console.log(e.data),this.rowData=e.data})).catch((e=>{console.error("설비 상태 조회 실패",e)}))},async updateList(){this.rowData.length&&this.rowData[0]?(await m.A.put("/api/fac/updateList",{facCode:this.rowData[0].fac_code,facStatus:this.rowData[0].fac_status}),await this.facStatus()):console.warn("설비 상태 정보가 없습니다.")},async statusFac(){await m.A.get("/api/fac/statusFac").then((e=>{console.log(e.data),this.statusFacAry=e.data,this.statusFacAry=[...e.data]})).catch((e=>console.log(e)))}}},y=t(6262);const w=(0,y.A)(v,[["render",p],["__scopeId","data-v-489a416e"]]);var k=w}}]);
//# sourceMappingURL=799.7056f590.js.map